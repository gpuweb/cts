{"version":3,"file":"sys.js","names":["node","readFile","existsSync","require","type","args","process","argv","slice","cwd","exit","code","deno","path","Deno","readFileSync","err","sys","globalThis"],"sources":["../../../../src/common/runtime/helper/sys.ts"],"sourcesContent":["/* eslint-disable no-process-exit, n/no-process-exit */\n/* eslint-disable @typescript-eslint/no-namespace */\n\nfunction node() {\n  /* eslint-disable-next-line n/no-restricted-require */\n  const { readFile, existsSync } = require('fs');\n\n  return {\n    type: 'node',\n    readFile,\n    existsSync,\n    args: process.argv.slice(2),\n    cwd: () => process.cwd(),\n    exit: (code?: number | undefined) => process.exit(code),\n  };\n}\n\ndeclare global {\n  namespace Deno {\n    function readFile(\n      path: string,\n      callback?: (error: unknown, data: string) => void\n    ): Promise<Uint8Array>;\n    function readFileSync(path: string): Uint8Array;\n    const args: string[];\n    const cwd: () => string;\n    function exit(code?: number): never;\n  }\n}\n\nfunction deno() {\n  function existsSync(path: string) {\n    try {\n      Deno.readFileSync(path);\n      return true;\n    } catch (err) {\n      return false;\n    }\n  }\n\n  return {\n    type: 'deno',\n    existsSync,\n    readFile: Deno.readFile,\n    args: Deno.args,\n    cwd: Deno.cwd,\n    exit: Deno.exit,\n  };\n}\n\nconst sys = typeof globalThis.process !== 'undefined' ? node() : deno();\n\nexport default sys;\n"],"mappings":";;;AAGA,SAASA,IAAIA,CAAA,EAAG;;EAEd,MAAM,EAAEC,QAAQ,EAAEC,UAAU,CAAC,CAAC,GAAGC,OAAO,CAAC,IAAI,CAAC;;EAE9C,OAAO;IACLC,IAAI,EAAE,MAAM;IACZH,QAAQ;IACRC,UAAU;IACVG,IAAI,EAAEC,OAAO,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC;IAC3BC,GAAG,EAAEA,CAAA,KAAMH,OAAO,CAACG,GAAG,CAAC,CAAC;IACxBC,IAAI,EAAEA,CAACC,IAAyB,KAAKL,OAAO,CAACI,IAAI,CAACC,IAAI;EACxD,CAAC;AACH;;;;;;;;;;;;;;;AAeA,SAASC,IAAIA,CAAA,EAAG;EACd,SAASV,UAAUA,CAACW,IAAY,EAAE;IAChC,IAAI;MACFC,IAAI,CAACC,YAAY,CAACF,IAAI,CAAC;MACvB,OAAO,IAAI;IACb,CAAC,CAAC,OAAOG,GAAG,EAAE;MACZ,OAAO,KAAK;IACd;EACF;;EAEA,OAAO;IACLZ,IAAI,EAAE,MAAM;IACZF,UAAU;IACVD,QAAQ,EAAEa,IAAI,CAACb,QAAQ;IACvBI,IAAI,EAAES,IAAI,CAACT,IAAI;IACfI,GAAG,EAAEK,IAAI,CAACL,GAAG;IACbC,IAAI,EAAEI,IAAI,CAACJ;EACb,CAAC;AACH;;AAEA,MAAMO,GAAG,GAAG,OAAOC,UAAU,CAACZ,OAAO,KAAK,WAAW,GAAGN,IAAI,CAAC,CAAC,GAAGY,IAAI,CAAC,CAAC;;AAEvE,eAAeK,GAAG"}