{"version":3,"file":"logger.js","names":["globalTestConfig","version","TestCaseRecorder","Logger","results","Map","constructor","overrideDebugMode","overriddenDebugMode","record","name","result","status","timems","set","enableDebugLogs","asJSON","space","predFunc","JSON","stringify","defaultDevice","defaultDeviceDescription","Array","from","filter","key","value","undefined"],"sources":["../../../../src/common/internal/logging/logger.ts"],"sourcesContent":["import { globalTestConfig } from '../../framework/test_config.js';\nimport { version } from '../version.js';\n\nimport { LiveTestCaseResult } from './result.js';\nimport { TestCaseRecorder } from './test_case_recorder.js';\n\nexport type LogResults = Map<string, LiveTestCaseResult>;\n\nexport class Logger {\n  readonly overriddenDebugMode: boolean | undefined;\n  readonly results: LogResults = new Map();\n  defaultDeviceDescription: string | undefined;\n\n  constructor({ overrideDebugMode }: { overrideDebugMode?: boolean } = {}) {\n    this.overriddenDebugMode = overrideDebugMode;\n  }\n\n  record(name: string): [TestCaseRecorder, LiveTestCaseResult] {\n    const result: LiveTestCaseResult = { status: 'running', timems: -1 };\n    this.results.set(name, result);\n    return [\n      new TestCaseRecorder(result, this.overriddenDebugMode ?? globalTestConfig.enableDebugLogs),\n      result,\n    ];\n  }\n\n  asJSON(space?: number, predFunc?: (key: string, value: LiveTestCaseResult) => boolean): string {\n    return JSON.stringify(\n      {\n        version,\n        defaultDevice: this.defaultDeviceDescription,\n        results: Array.from(\n          new Map(\n            [...this.results].filter(([key, value]) => (predFunc ? predFunc(key, value) : true))\n          )\n        ),\n      },\n      undefined,\n      space\n    );\n  }\n}\n"],"mappings":";;GAAA,SAASA,gBAAgB,QAAQ,gCAAgC,CACjE,SAASC,OAAO,QAAQ,eAAe;;AAGvC,SAASC,gBAAgB,QAAQ,yBAAyB;;;;AAI1D,OAAO,MAAMC,MAAM,CAAC;;EAETC,OAAO,GAAe,IAAIC,GAAG,CAAC,CAAC;;;EAGxCC,WAAWA,CAAC,EAAEC,iBAAiB,CAAkC,CAAC,GAAG,CAAC,CAAC,EAAE;IACvE,IAAI,CAACC,mBAAmB,GAAGD,iBAAiB;EAC9C;;EAEAE,MAAMA,CAACC,IAAY,EAA0C;IAC3D,MAAMC,MAA0B,GAAG,EAAEC,MAAM,EAAE,SAAS,EAAEC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;IACpE,IAAI,CAACT,OAAO,CAACU,GAAG,CAACJ,IAAI,EAAEC,MAAM,CAAC;IAC9B,OAAO;IACL,IAAIT,gBAAgB,CAACS,MAAM,EAAE,IAAI,CAACH,mBAAmB,IAAIR,gBAAgB,CAACe,eAAe,CAAC;IAC1FJ,MAAM,CACP;;EACH;;EAEAK,MAAMA,CAACC,KAAc,EAAEC,QAA8D,EAAU;IAC7F,OAAOC,IAAI,CAACC,SAAS;MACnB;QACEnB,OAAO;QACPoB,aAAa,EAAE,IAAI,CAACC,wBAAwB;QAC5ClB,OAAO,EAAEmB,KAAK,CAACC,IAAI;UACjB,IAAInB,GAAG;YACL,CAAC,GAAG,IAAI,CAACD,OAAO,CAAC,CAACqB,MAAM,CAAC,CAAC,CAACC,GAAG,EAAEC,KAAK,CAAC,KAAMT,QAAQ,GAAGA,QAAQ,CAACQ,GAAG,EAAEC,KAAK,CAAC,GAAG,IAAK;UACrF;QACF;MACF,CAAC;MACDC,SAAS;MACTX;IACF,CAAC;EACH;AACF"}