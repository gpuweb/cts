{"version":3,"file":"float32_blendable.spec.js","names":["description","makeTestGroup","UniqueFeaturesOrLimitsGPUTest","vtu","getDescriptorForCreateRenderPipelineValidationTest","g","kFloat32Formats","test","desc","params","u","combine","beginSubcases","beforeAllSubcases","t","enabled","selectDeviceOrSkipTestCase","fn","isAsync","hasBlend","format","descriptor","device","targets","blend","color","alpha","undefined","doCreateRenderPipelineTest"],"sources":["../../../../../src/webgpu/api/validation/render_pipeline/float32_blendable.spec.ts"],"sourcesContent":["export const description = `\nTests for capabilities added by float32-blendable flag.\n`;\n\nimport { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { ColorTextureFormat } from '../../../format_info.js';\nimport { UniqueFeaturesOrLimitsGPUTest } from '../../../gpu_test.js';\nimport * as vtu from '../validation_test_utils.js';\n\nimport { getDescriptorForCreateRenderPipelineValidationTest } from './common.js';\n\nexport const g = makeTestGroup(UniqueFeaturesOrLimitsGPUTest);\n\nconst kFloat32Formats: ColorTextureFormat[] = ['r32float', 'rg32float', 'rgba32float'];\n\ng.test('create_render_pipeline')\n  .desc(\n    `\nTests that the float32-blendable feature is required to create a render\npipeline that uses blending with any float32-format attachment.\n`\n  )\n  .params(u =>\n    u\n      .combine('isAsync', [false, true])\n      .combine('enabled', [true, false] as const)\n      .beginSubcases()\n      .combine('hasBlend', [true, false] as const)\n      .combine('format', kFloat32Formats)\n  )\n  .beforeAllSubcases(t => {\n    if (t.params.enabled) {\n      t.selectDeviceOrSkipTestCase('float32-blendable');\n    }\n  })\n  .fn(t => {\n    const { isAsync, enabled, hasBlend, format } = t.params;\n    const descriptor = getDescriptorForCreateRenderPipelineValidationTest(t.device, {\n      targets: [\n        {\n          format,\n          blend: hasBlend ? { color: {}, alpha: {} } : undefined,\n        },\n      ],\n    });\n\n    vtu.doCreateRenderPipelineTest(t, isAsync, enabled || !hasBlend, descriptor);\n  });\n"],"mappings":";;GAAA,OAAO,MAAMA,WAAW,GAAI;AAC5B;AACA,CAAC,CAED,SAASC,aAAa,QAAQ,4CAA4C;;AAE1E,SAASC,6BAA6B,QAAQ,sBAAsB;AACpE,OAAO,KAAKC,GAAG,MAAM,6BAA6B;;AAElD,SAASC,kDAAkD,QAAQ,aAAa;;AAEhF,OAAO,MAAMC,CAAC,GAAGJ,aAAa,CAACC,6BAA6B,CAAC;;AAE7D,MAAMI,eAAqC,GAAG,CAAC,UAAU,EAAE,WAAW,EAAE,aAAa,CAAC;;AAEtFD,CAAC,CAACE,IAAI,CAAC,wBAAwB,CAAC;AAC7BC,IAAI;EACF;AACL;AACA;AACA;AACE,CAAC;AACAC,MAAM,CAAC,CAAAC,CAAC;AACPA,CAAC;AACEC,OAAO,CAAC,SAAS,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;AACjCA,OAAO,CAAC,SAAS,EAAE,CAAC,IAAI,EAAE,KAAK,CAAU,CAAC;AAC1CC,aAAa,CAAC,CAAC;AACfD,OAAO,CAAC,UAAU,EAAE,CAAC,IAAI,EAAE,KAAK,CAAU,CAAC;AAC3CA,OAAO,CAAC,QAAQ,EAAEL,eAAe;AACtC,CAAC;AACAO,iBAAiB,CAAC,CAAAC,CAAC,KAAI;EACtB,IAAIA,CAAC,CAACL,MAAM,CAACM,OAAO,EAAE;IACpBD,CAAC,CAACE,0BAA0B,CAAC,mBAAmB,CAAC;EACnD;AACF,CAAC,CAAC;AACDC,EAAE,CAAC,CAAAH,CAAC,KAAI;EACP,MAAM,EAAEI,OAAO,EAAEH,OAAO,EAAEI,QAAQ,EAAEC,MAAM,CAAC,CAAC,GAAGN,CAAC,CAACL,MAAM;EACvD,MAAMY,UAAU,GAAGjB,kDAAkD,CAACU,CAAC,CAACQ,MAAM,EAAE;IAC9EC,OAAO,EAAE;IACP;MACEH,MAAM;MACNI,KAAK,EAAEL,QAAQ,GAAG,EAAEM,KAAK,EAAE,CAAC,CAAC,EAAEC,KAAK,EAAE,CAAC,CAAC,CAAC,CAAC,GAAGC;IAC/C,CAAC;;EAEL,CAAC,CAAC;;EAEFxB,GAAG,CAACyB,0BAA0B,CAACd,CAAC,EAAEI,OAAO,EAAEH,OAAO,IAAI,CAACI,QAAQ,EAAEE,UAAU,CAAC;AAC9E,CAAC,CAAC"}