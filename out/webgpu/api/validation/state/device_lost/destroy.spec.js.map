{"version":3,"file":"destroy.spec.js","names":["description","makeTestGroup","assert","allBindingEntries","bindingTypeInfo","kBindableResources","kBufferUsageKeys","kBufferUsageInfo","kBufferUsageCopy","kBufferUsageCopyInfo","kQueryTypes","kTextureUsageType","kTextureUsageTypeInfo","kTextureUsageCopy","kTextureUsageCopyInfo","kShaderStageKeys","kCompressedTextureFormats","kRegularTextureFormats","kRenderableColorTextureFormats","kTextureFormatInfo","createCanvas","kAllCanvasTypes","kValidCanvasContextIds","startPlayingAndWaitForVideo","getVideoElement","getVideoFrameFromVideoElement","ValidationTest","kCommandValidationStages","DeviceDestroyTests","executeAfterDestroy","fn","awaitLost","expectDeviceLost","expectValidationError","device","destroy","lostInfo","lost","expect","reason","executeCommandsAfterDestroy","stage","encoderType","createEncoder","validateFinish","encoder","finish","validateFinishAndSubmit","commands","queue","submit","g","test","desc","params","u","combine","filter","usageType","usageCopy","t","mappedAtCreation","createBuffer","size","usage","format","info","colorRender","color","storage","beforeAllSubcases","skipIfTextureFormatNotSupported","blockWidth","blockHeight","createTexture","width","height","selectDeviceOrSkipTestCase","feature","texture","createView","createSampler","entry","visibility","validStages","createBindGroupLayout","entries","binding","resourceType","resource","layout","getBindingResource","createBindGroup","bindGroupLayout","createPipelineLayout","bindGroupLayouts","createShaderModule","code","getNoOpShaderCode","cShader","createComputePipeline","compute","module","entryPoint","vShader","fShader","createRenderPipeline","vertex","fragment","targets","writeMask","valid","createComputePipelineAsync","p","isLost","then","shouldResolve","pipeline","GPUComputePipeline","err","GPUPipelineError","createRenderPipelineAsync","GPURenderPipeline","createCommandEncoder","createRenderBundleEncoder","colorFormats","type","selectDeviceForQueryTypeOrSkipTestCase","createQuerySet","count","sourceType","videoElement","skip","source","GPUShaderStage","FRAGMENT","externalTexture","importExternalTexture","kBufferSize","src","GPUBufferUsage","COPY_SRC","dst","COPY_DST","maker","copyBufferToBuffer","bytes","bytesPerBlock","buffer","GPUTextureUsage","copySize","copyBufferToTexture","copyTextureToBuffer","copyTextureToTexture","clearBuffer","queryTypes","push","querySet","writeTimestamp","ex","skipIf","TypeError","kQueryCount","createQuerySetWithState","destination","createBufferWithState","QUERY_RESOLVE","resolveQuerySet","setPipeline","dispatchWorkgroups","draw","numElements","data","Uint8Array","writeBuffer","writeTexture","canvasType","contextType","canvas","ctx","getContext","tryTrackForCleanup","copyExternalImageToTexture","createImageBitmap","imageBitmap","ImageData","Uint8ClampedArray"],"sources":["../../../../../../src/webgpu/api/validation/state/device_lost/destroy.spec.ts"],"sourcesContent":["export const description = `\nTests for device lost induced via destroy.\n  - Tests that prior to device destruction, valid APIs do not generate errors (control case).\n  - After device destruction, runs the same APIs. No expected observable results, so test crash or future failures are the only current failure indicators.\n`;\n\nimport { makeTestGroup } from '../../../../../common/framework/test_group.js';\nimport { assert } from '../../../../../common/util/util.js';\nimport {\n  allBindingEntries,\n  bindingTypeInfo,\n  kBindableResources,\n  kBufferUsageKeys,\n  kBufferUsageInfo,\n  kBufferUsageCopy,\n  kBufferUsageCopyInfo,\n  kQueryTypes,\n  kTextureUsageType,\n  kTextureUsageTypeInfo,\n  kTextureUsageCopy,\n  kTextureUsageCopyInfo,\n  kShaderStageKeys,\n} from '../../../../capability_info.js';\nimport {\n  kCompressedTextureFormats,\n  kRegularTextureFormats,\n  kRenderableColorTextureFormats,\n  kTextureFormatInfo,\n} from '../../../../format_info.js';\nimport { CommandBufferMaker, EncoderType } from '../../../../util/command_buffer_maker.js';\nimport {\n  createCanvas,\n  kAllCanvasTypes,\n  kValidCanvasContextIds,\n} from '../../../../util/create_elements.js';\nimport {\n  startPlayingAndWaitForVideo,\n  getVideoElement,\n  getVideoFrameFromVideoElement,\n} from '../../../../web_platform/util.js';\nimport { ValidationTest } from '../../validation_test.js';\n\nconst kCommandValidationStages = ['finish', 'submit'];\ntype CommandValidationStage = (typeof kCommandValidationStages)[number];\n\nclass DeviceDestroyTests extends ValidationTest {\n  /**\n   * Expects that `fn` does not produce any errors before the device is destroyed, and then calls\n   * `fn` after the device is destroyed without any specific expectation. If `awaitLost` is true, we\n   * also wait for device.lost to resolve before executing `fn` in the destroy case.\n   */\n  async executeAfterDestroy(fn: () => void, awaitLost: boolean): Promise<void> {\n    this.expectDeviceLost('destroyed');\n\n    this.expectValidationError(fn, false);\n    this.device.destroy();\n    if (awaitLost) {\n      const lostInfo = await this.device.lost;\n      this.expect(lostInfo.reason === 'destroyed');\n    }\n    fn();\n  }\n\n  /**\n   * Expects that encoders can finish and submit the resulting commands before the device is\n   * destroyed, then repeats the same process after the device is destroyed without any specific\n   * expectations.\n   * There are two valid stages: 'finish' and 'submit'.\n   *   'finish': Tests [encode, finish] and [encoder, destroy, finish]\n   *   'submit': Tests [encoder, finish, submit] and [encoder, finish, destroy, submit]\n   */\n  async executeCommandsAfterDestroy<T extends EncoderType>(\n    stage: CommandValidationStage,\n    awaitLost: boolean,\n    encoderType: T,\n    fn: (maker: CommandBufferMaker<T>) => CommandBufferMaker<T>\n  ): Promise<void> {\n    this.expectDeviceLost('destroyed');\n\n    switch (stage) {\n      case 'finish': {\n        // Control case\n        fn(this.createEncoder(encoderType)).validateFinish(true);\n        // Validation case\n        const encoder = fn(this.createEncoder(encoderType));\n        await this.executeAfterDestroy(() => {\n          encoder.finish();\n        }, awaitLost);\n        break;\n      }\n      case 'submit': {\n        // Control case\n        fn(this.createEncoder(encoderType)).validateFinishAndSubmit(true, true);\n        // Validation case\n        const commands = fn(this.createEncoder(encoderType)).validateFinish(true);\n        await this.executeAfterDestroy(() => {\n          this.queue.submit([commands]);\n        }, awaitLost);\n        break;\n      }\n    }\n  }\n}\n\nexport const g = makeTestGroup(DeviceDestroyTests);\n\ng.test('createBuffer')\n  .desc(\n    `\nTests creating buffers on destroyed device. Tests valid combinations of:\n  - Various usages\n  - Mapped at creation or not\n  `\n  )\n  .params(u =>\n    u\n      .combine('usageType', kBufferUsageKeys)\n\n      .combine('usageCopy', kBufferUsageCopy)\n      .combine('awaitLost', [true, false])\n      .filter(({ usageType, usageCopy }) => {\n        if (usageType === 'COPY_SRC' || usageType === 'COPY_DST') {\n          return false;\n        }\n        if (usageType === 'MAP_READ') {\n          return usageCopy === 'COPY_NONE' || usageCopy === 'COPY_DST';\n        }\n        if (usageType === 'MAP_WRITE') {\n          return usageCopy === 'COPY_NONE' || usageCopy === 'COPY_SRC';\n        }\n        return true;\n      })\n      .combine('mappedAtCreation', [true, false])\n  )\n  .fn(async t => {\n    const { awaitLost, usageType, usageCopy, mappedAtCreation } = t.params;\n    await t.executeAfterDestroy(() => {\n      t.device.createBuffer({\n        size: 16,\n        usage: kBufferUsageInfo[usageType] | kBufferUsageCopyInfo[usageCopy],\n        mappedAtCreation,\n      });\n    }, awaitLost);\n  });\n\ng.test('createTexture,2d,uncompressed_format')\n  .desc(\n    `\nTests creating 2d uncompressed textures on destroyed device. Tests valid combinations of:\n  - Various uncompressed texture formats\n  - Various usages\n  `\n  )\n  .params(u =>\n    u\n      .combine('format', kRegularTextureFormats)\n\n      .combine('usageType', kTextureUsageType)\n      .combine('usageCopy', kTextureUsageCopy)\n      .combine('awaitLost', [true, false])\n      .filter(({ format, usageType }) => {\n        const info = kTextureFormatInfo[format];\n        return !(\n          (!info.colorRender && usageType === 'render') ||\n          (!info.color.storage && usageType === 'storage')\n        );\n      })\n  )\n  .beforeAllSubcases(t => {\n    t.skipIfTextureFormatNotSupported(t.params.format);\n  })\n  .fn(async t => {\n    const { awaitLost, format, usageType, usageCopy } = t.params;\n    const { blockWidth, blockHeight } = kTextureFormatInfo[format];\n    await t.executeAfterDestroy(() => {\n      t.device.createTexture({\n        size: { width: blockWidth, height: blockHeight },\n        usage: kTextureUsageTypeInfo[usageType] | kTextureUsageCopyInfo[usageCopy],\n        format,\n      });\n    }, awaitLost);\n  });\n\ng.test('createTexture,2d,compressed_format')\n  .desc(\n    `\nTests creating 2d compressed textures on destroyed device. Tests valid combinations of:\n  - Various compressed texture formats\n  - Various usages\n  `\n  )\n  .params(u =>\n    u\n      .combine('format', kCompressedTextureFormats)\n\n      .combine('usageType', kTextureUsageType)\n      .combine('usageCopy', kTextureUsageCopy)\n      .combine('awaitLost', [true, false])\n      .filter(({ format, usageType }) => {\n        const info = kTextureFormatInfo[format];\n        return !(\n          (!info.colorRender && usageType === 'render') ||\n          (!info.color.storage && usageType === 'storage')\n        );\n      })\n  )\n  .beforeAllSubcases(t => {\n    const { format } = t.params;\n    t.selectDeviceOrSkipTestCase(kTextureFormatInfo[format].feature);\n  })\n  .fn(async t => {\n    const { awaitLost, format, usageType, usageCopy } = t.params;\n    const { blockWidth, blockHeight } = kTextureFormatInfo[format];\n    await t.executeAfterDestroy(() => {\n      t.device.createTexture({\n        size: { width: blockWidth, height: blockHeight },\n        usage: kTextureUsageTypeInfo[usageType] | kTextureUsageCopyInfo[usageCopy],\n        format,\n      });\n    }, awaitLost);\n  });\n\ng.test('createView,2d,uncompressed_format')\n  .desc(\n    `\nTests creating texture views on 2d uncompressed textures from destroyed device. Tests valid combinations of:\n  - Various uncompressed texture formats\n  - Various usages\n  `\n  )\n  .params(u =>\n    u\n      .combine('format', kRegularTextureFormats)\n\n      .combine('usageType', kTextureUsageType)\n      .combine('usageCopy', kTextureUsageCopy)\n      .combine('awaitLost', [true, false])\n      .filter(({ format, usageType }) => {\n        const info = kTextureFormatInfo[format];\n        return !(\n          (!info.colorRender && usageType === 'render') ||\n          (!info.color.storage && usageType === 'storage')\n        );\n      })\n  )\n  .beforeAllSubcases(t => {\n    t.skipIfTextureFormatNotSupported(t.params.format);\n  })\n  .fn(async t => {\n    const { awaitLost, format, usageType, usageCopy } = t.params;\n    const { blockWidth, blockHeight } = kTextureFormatInfo[format];\n    const texture = t.device.createTexture({\n      size: { width: blockWidth, height: blockHeight },\n      usage: kTextureUsageTypeInfo[usageType] | kTextureUsageCopyInfo[usageCopy],\n      format,\n    });\n    await t.executeAfterDestroy(() => {\n      texture.createView({ format });\n    }, awaitLost);\n  });\n\ng.test('createView,2d,compressed_format')\n  .desc(\n    `\nTests creating texture views on 2d compressed textures from destroyed device. Tests valid combinations of:\n  - Various compressed texture formats\n  - Various usages\n  `\n  )\n  .params(u =>\n    u\n      .combine('format', kCompressedTextureFormats)\n\n      .combine('usageType', kTextureUsageType)\n      .combine('usageCopy', kTextureUsageCopy)\n      .combine('awaitLost', [true, false])\n      .filter(({ format, usageType }) => {\n        const info = kTextureFormatInfo[format];\n        return !(\n          (!info.colorRender && usageType === 'render') ||\n          (!info.color.storage && usageType === 'storage')\n        );\n      })\n  )\n  .beforeAllSubcases(t => {\n    const { format } = t.params;\n    t.selectDeviceOrSkipTestCase(kTextureFormatInfo[format].feature);\n  })\n  .fn(async t => {\n    const { awaitLost, format, usageType, usageCopy } = t.params;\n    const { blockWidth, blockHeight } = kTextureFormatInfo[format];\n    const texture = t.device.createTexture({\n      size: { width: blockWidth, height: blockHeight },\n      usage: kTextureUsageTypeInfo[usageType] | kTextureUsageCopyInfo[usageCopy],\n      format,\n    });\n    await t.executeAfterDestroy(() => {\n      texture.createView({ format });\n    }, awaitLost);\n  });\n\ng.test('createSampler')\n  .desc(\n    `\nTests creating samplers on destroyed device.\n  `\n  )\n  .params(u => u.combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { awaitLost } = t.params;\n    await t.executeAfterDestroy(() => {\n      t.device.createSampler();\n    }, awaitLost);\n  });\n\ng.test('createBindGroupLayout')\n  .desc(\n    `\nTests creating bind group layouts on destroyed device. Tests valid combinations of:\n  - Various valid binding entries\n  - Maximum set of visibility for each binding entry\n  `\n  )\n  .params(u => u.combine('entry', allBindingEntries(false)).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { awaitLost, entry } = t.params;\n    const visibility = bindingTypeInfo(entry).validStages;\n    await t.executeAfterDestroy(() => {\n      t.device.createBindGroupLayout({\n        entries: [{ binding: 0, visibility, ...entry }],\n      });\n    }, awaitLost);\n  });\n\ng.test('createBindGroup')\n  .desc(\n    `\nTests creating bind group on destroyed device. Tests valid combinations of:\n  - Various bound resource types\n  - Various valid binding entries\n  - Maximum set of visibility for each binding entry\n  `\n  )\n  .desc(`A destroyed device should not be able to create any valid bind groups.`)\n  .params(u =>\n    u\n      .combine('resourceType', kBindableResources)\n      .combine('entry', allBindingEntries(false))\n      .filter(({ resourceType, entry }) => {\n        const info = bindingTypeInfo(entry);\n        switch (info.resource) {\n          // Either type of sampler may be bound to a filtering sampler binding.\n          case 'filtSamp':\n            return resourceType === 'filtSamp' || resourceType === 'nonFiltSamp';\n          // But only non-filtering samplers can be used with non-filtering sampler bindings.\n          case 'nonFiltSamp':\n            return resourceType === 'nonFiltSamp';\n          default:\n            return info.resource === resourceType;\n        }\n      })\n\n      .combine('awaitLost', [true, false])\n  )\n  .fn(async t => {\n    const { awaitLost, resourceType, entry } = t.params;\n    const visibility = bindingTypeInfo(entry).validStages;\n    const layout = t.device.createBindGroupLayout({\n      entries: [{ binding: 0, visibility, ...entry }],\n    });\n    const resource = t.getBindingResource(resourceType);\n    await t.executeAfterDestroy(() => {\n      t.device.createBindGroup({ layout, entries: [{ binding: 0, resource }] });\n    }, awaitLost);\n  });\n\ng.test('createPipelineLayout')\n  .desc(\n    `\nTests creating pipeline layouts on destroyed device. Tests valid combinations of:\n  - Various bind groups with valid binding entries\n  - Maximum set of visibility for each binding entry\n  `\n  )\n  .params(u => u.combine('entry', allBindingEntries(false)).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { awaitLost, entry } = t.params;\n    const visibility = bindingTypeInfo(entry).validStages;\n    const bindGroupLayout = t.device.createBindGroupLayout({\n      entries: [{ binding: 0, visibility, ...entry }],\n    });\n    await t.executeAfterDestroy(() => {\n      t.device.createPipelineLayout({\n        bindGroupLayouts: [bindGroupLayout],\n      });\n    }, awaitLost);\n  });\n\ng.test('createShaderModule')\n  .desc(\n    `\nTests creating shader modules on destroyed device.\n  - Tests all shader stages: vertex, fragment, compute\n  `\n  )\n  .params(u => u.combine('stage', kShaderStageKeys).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { awaitLost, stage } = t.params;\n    await t.executeAfterDestroy(() => {\n      t.device.createShaderModule({ code: t.getNoOpShaderCode(stage) });\n    }, awaitLost);\n  });\n\ng.test('createComputePipeline')\n  .desc(\n    `\nTests creating compute pipeline on destroyed device.\n  - Tests with a valid no-op compute shader\n  `\n  )\n  .params(u => u.combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { awaitLost } = t.params;\n    const cShader = t.device.createShaderModule({ code: t.getNoOpShaderCode('COMPUTE') });\n    await t.executeAfterDestroy(() => {\n      t.device.createComputePipeline({\n        layout: 'auto',\n        compute: { module: cShader, entryPoint: 'main' },\n      });\n    }, awaitLost);\n  });\n\ng.test('createRenderPipeline')\n  .desc(\n    `\nTests creating render pipeline on destroyed device.\n  - Tests with valid no-op vertex and fragment shaders\n  `\n  )\n  .params(u => u.combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { awaitLost } = t.params;\n    const vShader = t.device.createShaderModule({ code: t.getNoOpShaderCode('VERTEX') });\n    const fShader = t.device.createShaderModule({ code: t.getNoOpShaderCode('FRAGMENT') });\n    await t.executeAfterDestroy(() => {\n      t.device.createRenderPipeline({\n        layout: 'auto',\n        vertex: { module: vShader, entryPoint: 'main' },\n        fragment: {\n          module: fShader,\n          entryPoint: 'main',\n          targets: [{ format: 'rgba8unorm', writeMask: 0 }],\n        },\n      });\n    }, awaitLost);\n  });\n\ng.test('createComputePipelineAsync')\n  .desc(\n    `\nTests creating a pipeline asynchronously while destroying the device and on a destroyed device\n- valid={true, false}, use an invalid or valid pipeline descriptor\n- awaitLost={true, false}, check results before/after waiting for the device lost promise\n  `\n  )\n  .params(u => u.combine('valid', [true, false]).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { valid, awaitLost } = t.params;\n    const cShader = t.device.createShaderModule({ code: t.getNoOpShaderCode('COMPUTE') });\n    const fn = () =>\n      t.device.createComputePipelineAsync({\n        layout: 'auto',\n        compute: { module: cShader, entryPoint: valid ? 'main' : 'does_not_exist' },\n      });\n\n    // Kick off async creation\n    const p = fn();\n\n    // Track whether or not the device is lost.\n    let isLost = false;\n    void t.device.lost.then(() => {\n      isLost = true;\n    });\n\n    if (valid) {\n      // The async creation should resolve successfully.\n      t.shouldResolve(\n        (async () => {\n          const pipeline = await p;\n          assert(pipeline instanceof GPUComputePipeline, 'Pipeline was not a GPUComputePipeline');\n        })()\n      );\n    } else {\n      // The async creation should resolve successfully if the device is lost.\n      // If the device is not lost, it should see a validation error.\n      // Note: this could be a race!\n      t.shouldResolve(\n        p.then(\n          pipeline => {\n            assert(\n              isLost,\n              'Invalid async creation should \"succeed\" if the device is already lost.'\n            );\n            assert(pipeline instanceof GPUComputePipeline, 'Pipeline was not a GPUComputePipeline');\n          },\n          err => {\n            assert(\n              !isLost,\n              'Invalid async creation should only fail if the device is not yet lost.'\n            );\n            assert(err instanceof GPUPipelineError, 'Error was not a GPUPipelineError');\n            assert(err.reason === 'validation', 'Expected validation error');\n          }\n        )\n      );\n    }\n\n    // Destroy the device, and expect it to be lost.\n    t.expectDeviceLost('destroyed');\n    t.device.destroy();\n    if (awaitLost) {\n      const lostInfo = await t.device.lost;\n      t.expect(lostInfo.reason === 'destroyed');\n    }\n\n    // After device destroy, creation should still resolve successfully.\n    t.shouldResolve(\n      (async () => {\n        const pipeline = await fn();\n        assert(pipeline instanceof GPUComputePipeline, 'Pipeline was not a GPUComputePipeline');\n      })()\n    );\n  });\n\ng.test('createRenderPipelineAsync')\n  .desc(\n    `\nTests creating a pipeline asynchronously while destroying the device and on a destroyed device\n- valid={true, false}, use an invalid or valid pipeline descriptor\n- awaitLost={true, false}, check results before/after waiting for the device lost promise\n  `\n  )\n  .params(u => u.combine('valid', [true, false]).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { valid, awaitLost } = t.params;\n    const vShader = t.device.createShaderModule({ code: t.getNoOpShaderCode('VERTEX') });\n    const fShader = t.device.createShaderModule({ code: t.getNoOpShaderCode('FRAGMENT') });\n    const fn = () =>\n      t.device.createRenderPipelineAsync({\n        layout: 'auto',\n        vertex: { module: vShader, entryPoint: 'main' },\n        fragment: {\n          module: fShader,\n          entryPoint: valid ? 'main' : 'does_not_exist',\n          targets: [{ format: 'rgba8unorm', writeMask: 0 }],\n        },\n      });\n\n    // Kick off async creation\n    const p = fn();\n\n    // Track whether or not the device is lost.\n    let isLost = false;\n    void t.device.lost.then(() => {\n      isLost = true;\n    });\n\n    if (valid) {\n      // The async creation should resolve successfully.\n      t.shouldResolve(\n        (async () => {\n          const pipeline = await p;\n          assert(pipeline instanceof GPURenderPipeline, 'Pipeline was not a GPURenderPipeline');\n        })()\n      );\n    } else {\n      // The async creation should resolve successfully if the device is lost.\n      // If the device is not lost, it should see a validation error.\n      // Note: this could be a race!\n      t.shouldResolve(\n        p.then(\n          pipeline => {\n            assert(\n              isLost,\n              'Invalid async creation should \"succeed\" if the device is already lost.'\n            );\n            assert(pipeline instanceof GPURenderPipeline, 'Pipeline was not a GPURenderPipeline');\n          },\n          err => {\n            assert(\n              !isLost,\n              'Invalid async creation should only fail if the device is not yet lost.'\n            );\n            assert(err instanceof GPUPipelineError, 'Error was not a GPUPipelineError');\n            assert(err.reason === 'validation', 'Expected validation error');\n          }\n        )\n      );\n    }\n\n    // Destroy the device, and expect it to be lost.\n    t.expectDeviceLost('destroyed');\n    t.device.destroy();\n    if (awaitLost) {\n      const lostInfo = await t.device.lost;\n      t.expect(lostInfo.reason === 'destroyed');\n    }\n\n    // After device destroy, creation should still resolve successfully.\n    t.shouldResolve(\n      (async () => {\n        const pipeline = await fn();\n        assert(pipeline instanceof GPURenderPipeline, 'Pipeline was not a GPURenderPipeline');\n      })()\n    );\n  });\n\ng.test('createCommandEncoder')\n  .desc(\n    `\nTests creating command encoders on destroyed device.\n  `\n  )\n  .params(u => u.combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { awaitLost } = t.params;\n    await t.executeAfterDestroy(() => {\n      t.device.createCommandEncoder();\n    }, awaitLost);\n  });\n\ng.test('createRenderBundleEncoder')\n  .desc(\n    `\nTests creating render bundle encoders on destroyed device.\n  - Tests various renderable texture color formats\n  `\n  )\n  .params(u =>\n    u\n      .combine('format', kRenderableColorTextureFormats)\n\n      .combine('awaitLost', [true, false])\n  )\n  .fn(async t => {\n    const { awaitLost, format } = t.params;\n    await t.executeAfterDestroy(() => {\n      t.device.createRenderBundleEncoder({ colorFormats: [format] });\n    }, awaitLost);\n  });\n\ng.test('createQuerySet')\n  .desc(\n    `\nTests creating query sets on destroyed device.\n  - Tests various query set types\n  `\n  )\n  .params(u => u.combine('type', kQueryTypes).combine('awaitLost', [true, false]))\n  .beforeAllSubcases(t => {\n    const { type } = t.params;\n    t.selectDeviceForQueryTypeOrSkipTestCase(type);\n  })\n  .fn(async t => {\n    const { awaitLost, type } = t.params;\n    await t.executeAfterDestroy(() => {\n      t.device.createQuerySet({ type, count: 4 });\n    }, awaitLost);\n  });\n\ng.test('importExternalTexture')\n  .desc(\n    `\nTests import external texture on destroyed device. Tests valid combinations of:\n  - Various valid source type\n  `\n  )\n  .params(u =>\n    u\n      .combine('sourceType', ['VideoElement', 'VideoFrame'] as const)\n\n      .combine('awaitLost', [true, false])\n  )\n  .fn(async t => {\n    const { awaitLost, sourceType } = t.params;\n\n    const videoElement = getVideoElement(t, 'four-colors-vp9-bt601.webm');\n    if (!('requestVideoFrameCallback' in videoElement)) {\n      t.skip('HTMLVideoElement.requestVideoFrameCallback is not supported');\n    }\n\n    let source: HTMLVideoElement | VideoFrame;\n    await startPlayingAndWaitForVideo(videoElement, async () => {\n      source =\n        sourceType === 'VideoFrame'\n          ? await getVideoFrameFromVideoElement(t, videoElement)\n          : videoElement;\n\n      await t.executeAfterDestroy(() => {\n        t.device.createBindGroup({\n          layout: t.device.createBindGroupLayout({\n            entries: [{ binding: 0, visibility: GPUShaderStage.FRAGMENT, externalTexture: {} }],\n          }),\n          entries: [\n            {\n              binding: 0,\n              resource: t.device.importExternalTexture({ source }),\n            },\n          ],\n        });\n      }, awaitLost);\n    });\n  });\n\ng.test('command,copyBufferToBuffer')\n  .desc(\n    `\nTests copyBufferToBuffer command with various uncompressed formats on destroyed device.\n  `\n  )\n  .params(u => u.combine('stage', kCommandValidationStages).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { stage, awaitLost } = t.params;\n    const kBufferSize = 16;\n    const src = t.device.createBuffer({\n      size: kBufferSize,\n      usage: GPUBufferUsage.COPY_SRC,\n    });\n    const dst = t.device.createBuffer({\n      size: kBufferSize,\n      usage: GPUBufferUsage.COPY_DST,\n    });\n    await t.executeCommandsAfterDestroy(stage, awaitLost, 'non-pass', maker => {\n      maker.encoder.copyBufferToBuffer(src, 0, dst, 0, kBufferSize);\n      return maker;\n    });\n  });\n\ng.test('command,copyBufferToTexture')\n  .desc(\n    `\nTests copyBufferToTexture command on destroyed device.\n  - Tests finishing encoding on destroyed device\n  - Tests submitting command on destroyed device\n  `\n  )\n  .params(u => u.combine('stage', kCommandValidationStages).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { stage, awaitLost } = t.params;\n    const format = 'rgba32uint';\n    const {\n      color: { bytes: bytesPerBlock },\n      blockWidth,\n      blockHeight,\n    } = kTextureFormatInfo[format];\n    const src = {\n      buffer: t.device.createBuffer({\n        size: bytesPerBlock,\n        usage: GPUBufferUsage.COPY_SRC,\n      }),\n    };\n    const dst = {\n      texture: t.device.createTexture({\n        size: { width: blockWidth, height: blockHeight },\n        usage: GPUTextureUsage.COPY_DST,\n        format,\n      }),\n    };\n    const copySize = { width: blockWidth, height: blockHeight };\n    await t.executeCommandsAfterDestroy(stage, awaitLost, 'non-pass', maker => {\n      maker.encoder.copyBufferToTexture(src, dst, copySize);\n      return maker;\n    });\n  });\n\ng.test('command,copyTextureToBuffer')\n  .desc(\n    `\nTests copyTextureToBuffer command on destroyed device.\n  - Tests finishing encoding on destroyed device\n  - Tests submitting command on destroyed device\n  `\n  )\n  .params(u => u.combine('stage', kCommandValidationStages).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { stage, awaitLost } = t.params;\n    const format = 'rgba32uint';\n    const {\n      color: { bytes: bytesPerBlock },\n      blockWidth,\n      blockHeight,\n    } = kTextureFormatInfo[format];\n    const src = {\n      texture: t.device.createTexture({\n        size: { width: blockWidth, height: blockHeight },\n        usage: GPUTextureUsage.COPY_SRC,\n        format,\n      }),\n    };\n    const dst = {\n      buffer: t.device.createBuffer({\n        size: bytesPerBlock,\n        usage: GPUBufferUsage.COPY_DST,\n      }),\n    };\n    const copySize = { width: blockWidth, height: blockHeight };\n    await t.executeCommandsAfterDestroy(stage, awaitLost, 'non-pass', maker => {\n      maker.encoder.copyTextureToBuffer(src, dst, copySize);\n      return maker;\n    });\n  });\n\ng.test('command,copyTextureToTexture')\n  .desc(\n    `\nTests copyTextureToTexture command on destroyed device.\n  - Tests finishing encoding on destroyed device\n  - Tests submitting command on destroyed device\n  `\n  )\n  .params(u => u.combine('stage', kCommandValidationStages).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { stage, awaitLost } = t.params;\n    const format = 'rgba32uint';\n    const { blockWidth, blockHeight } = kTextureFormatInfo[format];\n    const src = {\n      texture: t.device.createTexture({\n        size: { width: blockWidth, height: blockHeight },\n        usage: GPUTextureUsage.COPY_SRC,\n        format,\n      }),\n    };\n    const dst = {\n      texture: t.device.createTexture({\n        size: { width: blockWidth, height: blockHeight },\n        usage: GPUBufferUsage.COPY_DST,\n        format,\n      }),\n    };\n    const copySize = { width: blockWidth, height: blockHeight };\n    await t.executeCommandsAfterDestroy(stage, awaitLost, 'non-pass', maker => {\n      maker.encoder.copyTextureToTexture(src, dst, copySize);\n      return maker;\n    });\n  });\n\ng.test('command,clearBuffer')\n  .desc(\n    `\nTests encoding and finishing a clearBuffer command on destroyed device.\n  - Tests finishing encoding on destroyed device\n  - Tests submitting command on destroyed device\n  `\n  )\n  .params(u => u.combine('stage', kCommandValidationStages).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { stage, awaitLost } = t.params;\n    const kBufferSize = 16;\n    const buffer = t.device.createBuffer({\n      size: kBufferSize,\n      usage: GPUBufferUsage.COPY_SRC,\n    });\n    await t.executeCommandsAfterDestroy(stage, awaitLost, 'non-pass', maker => {\n      maker.encoder.clearBuffer(buffer, 0, kBufferSize);\n      return maker;\n    });\n  });\n\ng.test('command,writeTimestamp')\n  .desc(\n    `\nTests encoding and finishing a writeTimestamp command on destroyed device.\n  - Tests finishing encoding on destroyed device\n  - Tests submitting command on destroyed device\n  `\n  )\n  .params(u =>\n    u\n      .combine('type', kQueryTypes)\n\n      .combine('stage', kCommandValidationStages)\n      .combine('awaitLost', [true, false])\n  )\n  .beforeAllSubcases(t => {\n    const { type } = t.params;\n\n    // writeTimestamp is only available for devices that enable the 'timestamp-query' feature.\n    const queryTypes: GPUQueryType[] = ['timestamp'];\n    if (type !== 'timestamp') {\n      queryTypes.push(type);\n    }\n\n    t.selectDeviceForQueryTypeOrSkipTestCase(queryTypes);\n  })\n  .fn(async t => {\n    const { type, stage, awaitLost } = t.params;\n    const querySet = t.device.createQuerySet({ type, count: 2 });\n    await t.executeCommandsAfterDestroy(stage, awaitLost, 'non-pass', maker => {\n      try {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (maker.encoder as any).writeTimestamp(querySet, 0);\n      } catch (ex) {\n        t.skipIf(ex instanceof TypeError, 'writeTimestamp is actually not available');\n      }\n      return maker;\n    });\n  });\n\ng.test('command,resolveQuerySet')\n  .desc(\n    `\nTests encoding and finishing a resolveQuerySet command on destroyed device.\n  - Tests finishing encoding on destroyed device\n  - Tests submitting command on destroyed device\n  `\n  )\n  .params(u => u.combine('stage', kCommandValidationStages).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { stage, awaitLost } = t.params;\n    const kQueryCount = 2;\n    const querySet = t.createQuerySetWithState('valid');\n    const destination = t.createBufferWithState('valid', {\n      size: kQueryCount * 8,\n      usage: GPUBufferUsage.QUERY_RESOLVE,\n    });\n    await t.executeCommandsAfterDestroy(stage, awaitLost, 'non-pass', maker => {\n      maker.encoder.resolveQuerySet(querySet, 0, 1, destination, 0);\n      return maker;\n    });\n  });\n\ng.test('command,computePass,dispatch')\n  .desc(\n    `\nTests encoding and dispatching a simple valid compute pass on destroyed device.\n  - Binds valid pipeline and bindgroups, then dispatches\n  - Tests finishing encoding on destroyed device\n  - Tests submitting command on destroyed device\n  `\n  )\n  .params(u => u.combine('stage', kCommandValidationStages).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { stage, awaitLost } = t.params;\n    const cShader = t.device.createShaderModule({ code: t.getNoOpShaderCode('COMPUTE') });\n    const pipeline = t.device.createComputePipeline({\n      layout: 'auto',\n      compute: { module: cShader, entryPoint: 'main' },\n    });\n    await t.executeCommandsAfterDestroy(stage, awaitLost, 'compute pass', maker => {\n      maker.encoder.setPipeline(pipeline);\n      maker.encoder.dispatchWorkgroups(1);\n      return maker;\n    });\n  });\n\ng.test('command,renderPass,draw')\n  .desc(\n    `\nTests encoding and finishing a simple valid render pass on destroyed device.\n  - Binds valid pipeline and bindgroups, then draws\n  - Tests finishing encoding on destroyed device\n  - Tests submitting command on destroyed device\n  `\n  )\n  .params(u => u.combine('stage', kCommandValidationStages).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { stage, awaitLost } = t.params;\n    const vShader = t.device.createShaderModule({ code: t.getNoOpShaderCode('VERTEX') });\n    const fShader = t.device.createShaderModule({ code: t.getNoOpShaderCode('FRAGMENT') });\n    const pipeline = t.device.createRenderPipeline({\n      layout: 'auto',\n      vertex: { module: vShader, entryPoint: 'main' },\n      fragment: {\n        module: fShader,\n        entryPoint: 'main',\n        targets: [{ format: 'rgba8unorm', writeMask: 0 }],\n      },\n    });\n    await t.executeCommandsAfterDestroy(stage, awaitLost, 'render pass', maker => {\n      maker.encoder.setPipeline(pipeline);\n      maker.encoder.draw(0);\n      return maker;\n    });\n  });\n\ng.test('command,renderPass,renderBundle')\n  .desc(\n    `\nTests encoding and drawing a render pass including a render bundle on destroyed device.\n  - Binds valid pipeline and bindgroups, executes render bundle, then draws\n  - Tests finishing encoding on destroyed device\n  - Tests submitting command on destroyed device\n  `\n  )\n  .params(u => u.combine('stage', kCommandValidationStages).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { stage, awaitLost } = t.params;\n    const vShader = t.device.createShaderModule({ code: t.getNoOpShaderCode('VERTEX') });\n    const fShader = t.device.createShaderModule({ code: t.getNoOpShaderCode('FRAGMENT') });\n    const pipeline = t.device.createRenderPipeline({\n      layout: 'auto',\n      vertex: { module: vShader, entryPoint: 'main' },\n      fragment: {\n        module: fShader,\n        entryPoint: 'main',\n        targets: [{ format: 'rgba8unorm', writeMask: 0 }],\n      },\n    });\n    await t.executeCommandsAfterDestroy(stage, awaitLost, 'render bundle', maker => {\n      maker.encoder.setPipeline(pipeline);\n      maker.encoder.draw(0);\n      return maker;\n    });\n  });\n\ng.test('queue,writeBuffer')\n  .desc(\n    `\nTests writeBuffer on queue on destroyed device.\n  `\n  )\n  .params(u => u.combine('numElements', [4, 8, 16]).combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { numElements, awaitLost } = t.params;\n    const buffer = t.device.createBuffer({\n      size: numElements,\n      usage: GPUBufferUsage.COPY_DST,\n    });\n    const data = new Uint8Array(numElements);\n    await t.executeAfterDestroy(() => {\n      t.device.queue.writeBuffer(buffer, 0, data);\n    }, awaitLost);\n  });\n\ng.test('queue,writeTexture,2d,uncompressed_format')\n  .desc(\n    `\nTests writeTexture on queue on destroyed device with uncompressed formats.\n  `\n  )\n  .params(u => u.combine('format', kRegularTextureFormats).combine('awaitLost', [true, false]))\n  .beforeAllSubcases(t => {\n    t.skipIfTextureFormatNotSupported(t.params.format);\n  })\n  .fn(async t => {\n    const { format, awaitLost } = t.params;\n    const {\n      blockWidth,\n      blockHeight,\n      color: { bytes: bytesPerBlock },\n    } = kTextureFormatInfo[format];\n    const data = new Uint8Array(bytesPerBlock);\n    const texture = t.device.createTexture({\n      size: { width: blockWidth, height: blockHeight },\n      usage: GPUTextureUsage.COPY_DST,\n      format,\n    });\n    await t.executeAfterDestroy(() => {\n      t.device.queue.writeTexture(\n        { texture },\n        data,\n        {},\n        { width: blockWidth, height: blockHeight }\n      );\n    }, awaitLost);\n  });\n\ng.test('queue,writeTexture,2d,compressed_format')\n  .desc(\n    `\nTests writeTexture on queue on destroyed device with compressed formats.\n  `\n  )\n  .params(u =>\n    u\n      .combine('format', kCompressedTextureFormats)\n\n      .combine('awaitLost', [true, false])\n  )\n  .beforeAllSubcases(t => {\n    const { format } = t.params;\n    t.selectDeviceOrSkipTestCase(kTextureFormatInfo[format].feature);\n  })\n  .fn(async t => {\n    const { format, awaitLost } = t.params;\n    const {\n      blockWidth,\n      blockHeight,\n      color: { bytes: bytesPerBlock },\n    } = kTextureFormatInfo[format];\n    const data = new Uint8Array(bytesPerBlock);\n    const texture = t.device.createTexture({\n      size: { width: blockWidth, height: blockHeight },\n      usage: GPUTextureUsage.COPY_DST,\n      format,\n    });\n    await t.executeAfterDestroy(() => {\n      t.device.queue.writeTexture(\n        { texture },\n        data,\n        {},\n        { width: blockWidth, height: blockHeight }\n      );\n    }, awaitLost);\n  });\n\ng.test('queue,copyExternalImageToTexture,canvas')\n  .desc(\n    `\nTests copyExternalImageToTexture from canvas on queue on destroyed device.\n  `\n  )\n  .params(u =>\n    u\n      .combine('canvasType', kAllCanvasTypes)\n      .combine('contextType', kValidCanvasContextIds)\n\n      .combine('awaitLost', [true, false])\n  )\n  .fn(async t => {\n    const { canvasType, contextType, awaitLost } = t.params;\n    const canvas = createCanvas(t, canvasType, 1, 1);\n    const texture = t.device.createTexture({\n      size: { width: 1, height: 1 },\n      format: 'bgra8unorm',\n      usage: GPUTextureUsage.COPY_DST,\n    });\n\n    const ctx = (canvas as unknown as HTMLCanvasElement).getContext(contextType);\n    if (ctx === null) {\n      t.skip('Failed to get context for canvas element');\n      return;\n    }\n    t.tryTrackForCleanup(ctx);\n\n    await t.executeAfterDestroy(() => {\n      t.device.queue.copyExternalImageToTexture(\n        { source: canvas },\n        { texture },\n        { width: 1, height: 1 }\n      );\n    }, awaitLost);\n  });\n\ng.test('queue,copyExternalImageToTexture,imageBitmap')\n  .desc(\n    `\nTests copyExternalImageToTexture from canvas on queue on destroyed device.\n  `\n  )\n  .params(u => u.combine('awaitLost', [true, false]))\n  .fn(async t => {\n    const { awaitLost } = t.params;\n    if (typeof createImageBitmap === 'undefined') {\n      t.skip('Creating ImageBitmaps is not supported.');\n    }\n    const imageBitmap = await createImageBitmap(new ImageData(new Uint8ClampedArray(4), 1, 1));\n\n    const texture = t.device.createTexture({\n      size: { width: 1, height: 1 },\n      format: 'bgra8unorm',\n      usage: GPUTextureUsage.COPY_DST,\n    });\n\n    await t.executeAfterDestroy(() => {\n      t.device.queue.copyExternalImageToTexture(\n        { source: imageBitmap },\n        { texture },\n        { width: 1, height: 1 }\n      );\n    }, awaitLost);\n  });\n"],"mappings":"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"}