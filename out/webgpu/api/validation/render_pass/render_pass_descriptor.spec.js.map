{"version":3,"file":"render_pass_descriptor.spec.js","names":["description","makeTestGroup","range","getDefaultLimits","kQueryTypes","GPUConst","computeBytesPerSampleFromFormats","kDepthStencilFormats","kPossibleColorRenderableTextureFormats","isTextureFormatColorRenderable","isDepthTextureFormat","isStencilTextureFormat","isTextureFormatResolvable","AllFeaturesMaxLimitsGPUTest","kMaxColorAttachments","maxColorAttachments","default","F","createTestTexture","options","format","dimension","width","height","arrayLayerCount","mipLevelCount","sampleCount","usage","GPUTextureUsage","RENDER_ATTACHMENT","createTextureTracked","size","depthOrArrayLayers","getColorAttachment","texture","textureViewDescriptor","bindTextureResource","view","createView","clearValue","r","g","b","a","loadOp","storeOp","getDepthStencilAttachment","depthClearValue","depthLoadOp","depthStoreOp","stencilClearValue","stencilLoadOp","stencilStoreOp","tryRenderPass","success","descriptor","commandEncoder","device","createCommandEncoder","renderPass","beginRenderPass","end","expectValidationError","finish","kArrayLayerCount","test","desc","paramsSubcasesOnly","u","combine","fn","t","params","colorTexture","colorAttachments","depthStencilTexture","depthStencilAttachment","undefined","Array","fill","unclampedColorAttachments","hasDepthStencilAttachment","slice","limits","isEmptyColorTargets","i","length","_success","paramsSimple","colorAttachmentsCountVariant","mult","add","colorAttachmentsCount","makeLimitVariant","push","beginSubcases","attachmentCount","skipIfTextureFormatNotSupported","skipIfTextureFormatNotUsableAsRenderAttachment","skipIf","shouldError","features","maxColorAttachmentBytesPerSample","combineWithParams","formats","depthSlice","colorAttachment","expand","mipLevel","depthAtMipLevel","Math","max","Set","baseMipLevel","baseArrayLayer","passDescriptor","sameDepthSlice","sameTexture","samePass","texDescriptor","encoder","createEncoder","pass","validateFinish","sameMipLevel","colorTexture1x1A","colorTexture1x1B","colorTexture2x2","depthStencilTexture1x1","depthStencilTexture2x2","ARRAY_LAYER_COUNT","MIP_LEVEL_COUNT","COLOR_FORMAT","DEPTH_STENCIL_FORMAT","baseTextureViewDescriptor","transientTexture","skipIfTransientAttachmentNotSupported","TextureUsage","TRANSIENT_ATTACHMENT","resolveTargetTexture","resolveTarget","multisampledColorTexture","multisampledResolveTargetTexture","COPY_SRC","COPY_DST","STORAGE_BINDING","TEXTURE_BINDING","isValid","resolveTargetTextureView","multisampledDepthStencilTexture","depthReadOnly","stencilReadOnly","depthAttachment","depthAttachmentView","renderPassDescriptor","hasDepthSettings","hasStencilSettings","hasDepth","hasStencil","goodAspectSettingsPresent","hasBothDepthOps","hasBothStencilOps","hasNeitherDepthOps","hasNeitherStencilOps","goodDepthCombo","goodStencilCombo","goodTransient","isDepthValueInRange","isInvalid","skipIfTextureFormatNotMultisampled","skipIfDeviceDoesNotSupportQueryType","queryType","timestampWrites","querySet","createQuerySetTracked","type","count","beginningOfPassWriteIndex","endOfPassWriteIndex","querySetCount","occlusionQuerySet"],"sources":["../../../../../src/webgpu/api/validation/render_pass/render_pass_descriptor.spec.ts"],"sourcesContent":["export const description = `\nrender pass descriptor validation tests.\n\nTODO(#3363): Make this into a MaxLimitTest and increase kMaxColorAttachments.\nTODO: review for completeness\n`;\n\nimport { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { range } from '../../../../common/util/util.js';\nimport { getDefaultLimits, kQueryTypes } from '../../../capability_info.js';\nimport { GPUConst } from '../../../constants.js';\nimport {\n  computeBytesPerSampleFromFormats,\n  kDepthStencilFormats,\n  kPossibleColorRenderableTextureFormats,\n  isTextureFormatColorRenderable,\n  isDepthTextureFormat,\n  isStencilTextureFormat,\n  isTextureFormatResolvable,\n} from '../../../format_info.js';\nimport { AllFeaturesMaxLimitsGPUTest } from '../../../gpu_test.js';\n\n// MAINTENANCE_TODO: This should be changed to kMaxColorAttachmentsToTest\n// when this is made a MaxLimitTest (see above).\nconst kMaxColorAttachments = getDefaultLimits('core').maxColorAttachments.default;\n\nclass F extends AllFeaturesMaxLimitsGPUTest {\n  createTestTexture(\n    options: {\n      format?: GPUTextureFormat;\n      dimension?: GPUTextureDimension;\n      width?: number;\n      height?: number;\n      arrayLayerCount?: number;\n      mipLevelCount?: number;\n      sampleCount?: number;\n      usage?: GPUTextureUsageFlags;\n    } = {}\n  ): GPUTexture {\n    const {\n      format = 'rgba8unorm',\n      dimension = '2d',\n      width = 16,\n      height = 16,\n      arrayLayerCount = 1,\n      mipLevelCount = 1,\n      sampleCount = 1,\n      usage = GPUTextureUsage.RENDER_ATTACHMENT,\n    } = options;\n\n    return this.createTextureTracked({\n      size: { width, height, depthOrArrayLayers: arrayLayerCount },\n      format,\n      dimension,\n      mipLevelCount,\n      sampleCount,\n      usage,\n    });\n  }\n\n  getColorAttachment(\n    texture: GPUTexture,\n    options: {\n      textureViewDescriptor?: GPUTextureViewDescriptor;\n      bindTextureResource?: boolean;\n    } = {}\n  ): GPURenderPassColorAttachment {\n    const { textureViewDescriptor, bindTextureResource = false } = options;\n    const view = bindTextureResource ? texture : texture.createView(textureViewDescriptor);\n\n    return {\n      view,\n      clearValue: { r: 1.0, g: 0.0, b: 0.0, a: 1.0 },\n      loadOp: 'clear',\n      storeOp: 'store',\n    };\n  }\n\n  getDepthStencilAttachment(\n    texture: GPUTexture,\n    options: {\n      textureViewDescriptor?: GPUTextureViewDescriptor;\n      bindTextureResource?: boolean;\n    } = {}\n  ): GPURenderPassDepthStencilAttachment {\n    const { textureViewDescriptor, bindTextureResource = false } = options;\n    const view = bindTextureResource ? texture : texture.createView(textureViewDescriptor);\n\n    return {\n      view,\n      depthClearValue: 1.0,\n      depthLoadOp: 'clear',\n      depthStoreOp: 'store',\n      stencilClearValue: 0,\n      stencilLoadOp: 'clear',\n      stencilStoreOp: 'store',\n    };\n  }\n\n  tryRenderPass(success: boolean, descriptor: GPURenderPassDescriptor): void {\n    const commandEncoder = this.device.createCommandEncoder();\n    const renderPass = commandEncoder.beginRenderPass(descriptor);\n    renderPass.end();\n\n    this.expectValidationError(() => {\n      commandEncoder.finish();\n    }, !success);\n  }\n}\n\nexport const g = makeTestGroup(F);\nconst kArrayLayerCount = 10;\n\ng.test('attachments,one_color_attachment')\n  .desc(`Test that a render pass works with only one color attachment.`)\n  .paramsSubcasesOnly(u => u.combine('bindTextureResource', [false, true] as const))\n  .fn(t => {\n    const { bindTextureResource } = t.params;\n    const colorTexture = t.createTestTexture({ format: 'rgba8unorm' });\n    const descriptor = {\n      colorAttachments: [t.getColorAttachment(colorTexture, { bindTextureResource })],\n    };\n\n    t.tryRenderPass(true, descriptor);\n  });\n\ng.test('attachments,one_depth_stencil_attachment')\n  .desc(`Test that a render pass works with only one depthStencil attachment.`)\n  .paramsSubcasesOnly(u => u.combine('bindTextureResource', [false, true] as const))\n  .fn(t => {\n    const { bindTextureResource } = t.params;\n    const depthStencilTexture = t.createTestTexture({ format: 'depth24plus-stencil8' });\n    const descriptor = {\n      colorAttachments: [],\n      depthStencilAttachment: t.getDepthStencilAttachment(depthStencilTexture, {\n        bindTextureResource,\n      }),\n    };\n\n    t.tryRenderPass(true, descriptor);\n  });\n\ng.test('color_attachments,empty')\n  .desc(\n    `\n  Test that when colorAttachments has all values be 'undefined' or the sequence is empty, the\n  depthStencilAttachment must not be 'undefined'.\n  `\n  )\n  .paramsSubcasesOnly(u =>\n    u\n      .combine('unclampedColorAttachments', [\n        [],\n        [undefined],\n        [undefined, undefined],\n        new Array(8).fill(undefined),\n        [{ format: 'rgba8unorm' }],\n      ])\n      .combine('hasDepthStencilAttachment', [false, true])\n  )\n  .fn(t => {\n    const { unclampedColorAttachments, hasDepthStencilAttachment } = t.params;\n    const colorAttachments = unclampedColorAttachments.slice(\n      0,\n      t.device.limits.maxColorAttachments\n    );\n\n    let isEmptyColorTargets = true;\n    for (let i = 0; i < colorAttachments.length; i++) {\n      if (colorAttachments[i] !== undefined) {\n        isEmptyColorTargets = false;\n        const colorTexture = t.createTestTexture();\n        colorAttachments[i] = t.getColorAttachment(colorTexture);\n      }\n    }\n\n    const _success = !isEmptyColorTargets || hasDepthStencilAttachment;\n    t.tryRenderPass(_success, {\n      colorAttachments,\n      depthStencilAttachment: hasDepthStencilAttachment\n        ? t.getDepthStencilAttachment(t.createTestTexture({ format: 'depth24plus-stencil8' }))\n        : undefined,\n    });\n  });\n\ng.test('color_attachments,limits,maxColorAttachments')\n  .desc(\n    `\n  Test that the out of bound of color attachment indexes are handled.\n    - a validation error is generated when color attachments exceed the maximum limit(8).\n  `\n  )\n  .paramsSimple([\n    { colorAttachmentsCountVariant: { mult: 1, add: 0 }, _success: true }, // Control case\n    { colorAttachmentsCountVariant: { mult: 1, add: 1 }, _success: false }, // Out of bounds\n  ])\n  .fn(t => {\n    const { colorAttachmentsCountVariant, _success } = t.params;\n    const colorAttachmentsCount = t.makeLimitVariant(\n      'maxColorAttachments',\n      colorAttachmentsCountVariant\n    );\n\n    const colorAttachments = [];\n    for (let i = 0; i < colorAttachmentsCount; i++) {\n      const colorTexture = t.createTestTexture({ format: 'r8unorm' });\n      colorAttachments.push(t.getColorAttachment(colorTexture));\n    }\n\n    t.tryRenderPass(_success, { colorAttachments });\n  });\n\ng.test('color_attachments,limits,maxColorAttachmentBytesPerSample,aligned')\n  .desc(\n    `\n    Test that the total bytes per sample of the formats of the color attachments must be no greater\n    than maxColorAttachmentBytesPerSample when the components are aligned (same format).\n  `\n  )\n  .params(u =>\n    u\n      .combine('format', kPossibleColorRenderableTextureFormats)\n      .beginSubcases()\n      .combine(\n        'attachmentCount',\n        range(kMaxColorAttachments, i => i + 1)\n      )\n  )\n  .fn(t => {\n    const { format, attachmentCount } = t.params;\n\n    t.skipIfTextureFormatNotSupported(format);\n    t.skipIfTextureFormatNotUsableAsRenderAttachment(format);\n    t.skipIf(\n      attachmentCount > t.device.limits.maxColorAttachments,\n      `attachmentCount: ${attachmentCount} > maxColorAttachments: ${t.device.limits.maxColorAttachments}`\n    );\n\n    const colorAttachments = [];\n    for (let i = 0; i < attachmentCount; i++) {\n      const colorTexture = t.createTestTexture({ format });\n      colorAttachments.push(t.getColorAttachment(colorTexture));\n    }\n    const shouldError =\n      !isTextureFormatColorRenderable(t.device.features, format) ||\n      computeBytesPerSampleFromFormats(range(attachmentCount, () => format)) >\n        t.device.limits.maxColorAttachmentBytesPerSample;\n\n    t.tryRenderPass(!shouldError, { colorAttachments });\n  });\n\ng.test('color_attachments,limits,maxColorAttachmentBytesPerSample,unaligned')\n  .desc(\n    `\n    Test that the total bytes per sample of the formats of the color attachments must be no greater\n    than maxColorAttachmentBytesPerSample when the components are (potentially) unaligned.\n  `\n  )\n  .params(u =>\n    u.combineWithParams([\n      // Alignment causes the first 1 byte R8Unorm to become 4 bytes. So even though\n      // 1+4+8+16+1 < 32, the 4 byte alignment requirement of R32Float makes the first R8Unorm\n      // become 4 and 4+4+8+16+1 > 32. Re-ordering this so the R8Unorm's are at the end, however\n      // is allowed: 4+8+16+1+1 < 32.\n      {\n        formats: [\n          'r8unorm',\n          'r32float',\n          'rgba8unorm',\n          'rgba32float',\n          'r8unorm',\n        ] as GPUTextureFormat[],\n      },\n      {\n        formats: [\n          'r32float',\n          'rgba8unorm',\n          'rgba32float',\n          'r8unorm',\n          'r8unorm',\n        ] as GPUTextureFormat[],\n      },\n    ])\n  )\n  .fn(t => {\n    const { formats } = t.params;\n\n    t.skipIf(\n      formats.length > t.device.limits.maxColorAttachments,\n      `numColorAttachments: ${formats.length} > maxColorAttachments: ${t.device.limits.maxColorAttachments}`\n    );\n\n    const colorAttachments = [];\n    for (const format of formats) {\n      const colorTexture = t.createTestTexture({ format });\n      colorAttachments.push(t.getColorAttachment(colorTexture));\n    }\n\n    const success =\n      computeBytesPerSampleFromFormats(formats) <= t.device.limits.maxColorAttachmentBytesPerSample;\n\n    t.tryRenderPass(success, { colorAttachments });\n  });\n\ng.test('color_attachments,depthSlice,definedness')\n  .desc(\n    `\n  Test that depthSlice must be undefined for 2d color attachments and defined for 3d color attachments.\"\n  - The special value '0xFFFFFFFF' is not treated as 'undefined'.\n  `\n  )\n  .params(u =>\n    u\n      .combine('dimension', ['2d', '3d'] as GPUTextureDimension[])\n      .beginSubcases()\n      .combine('depthSlice', [undefined, 0, 0xffffffff])\n  )\n  .fn(t => {\n    const { dimension, depthSlice } = t.params;\n    const texture = t.createTestTexture({ dimension });\n\n    const colorAttachment = t.getColorAttachment(texture);\n    if (depthSlice !== undefined) {\n      colorAttachment.depthSlice = depthSlice;\n    }\n\n    const descriptor: GPURenderPassDescriptor = {\n      colorAttachments: [colorAttachment],\n    };\n\n    const success =\n      (dimension === '2d' && depthSlice === undefined) || (dimension === '3d' && depthSlice === 0);\n\n    t.tryRenderPass(success, descriptor);\n  });\n\ng.test('color_attachments,depthSlice,bound_check')\n  .desc(\n    `\n  Test that depthSlice must be less than the depthOrArrayLayers of 3d texture's subresource at mip levels.\n  - Check depth bounds with 3d texture size [16, 1, 10], which has 5 mip levels with depth [10, 5, 2, 1, 1]\n    for testing more mip level size computation.\n  - Failed if depthSlice >= the depth of each mip level.\n  `\n  )\n  .params(u =>\n    u\n      .combine('mipLevel', [0, 1, 2, 3, 4])\n      .beginSubcases()\n      .expand('depthSlice', ({ mipLevel }) => {\n        const depthAtMipLevel = Math.max(kArrayLayerCount >> mipLevel, 1);\n        // Use Set() to exclude duplicates when the depthAtMipLevel is 1 and 2\n        return [...new Set([0, 1, depthAtMipLevel - 1, depthAtMipLevel])];\n      })\n  )\n  .fn(t => {\n    const { mipLevel, depthSlice } = t.params;\n\n    const texture = t.createTestTexture({\n      dimension: '3d',\n      width: 16,\n      height: 1,\n      arrayLayerCount: kArrayLayerCount,\n      mipLevelCount: mipLevel + 1,\n    });\n\n    const textureViewDescriptor: GPUTextureViewDescriptor = {\n      baseMipLevel: mipLevel,\n      mipLevelCount: 1,\n      baseArrayLayer: 0,\n      arrayLayerCount: 1,\n    };\n\n    const colorAttachment = t.getColorAttachment(texture, { textureViewDescriptor });\n    colorAttachment.depthSlice = depthSlice;\n\n    const passDescriptor: GPURenderPassDescriptor = {\n      colorAttachments: [colorAttachment],\n    };\n\n    const success = depthSlice < Math.max(kArrayLayerCount >> mipLevel, 1);\n\n    t.tryRenderPass(success, passDescriptor);\n  });\n\ng.test('color_attachments,depthSlice,overlaps,same_miplevel')\n  .desc(\n    `\n  Test that the depth slices of 3d color attachments have no overlaps for same texture in a render\n  pass.\n  - Succeed if the depth slices are different, or from different textures, or on different render\n    passes.\n  - Fail if same depth slice from same texture's same mip level is overwritten in a render pass.\n  `\n  )\n  .params(u =>\n    u\n      .combine('sameDepthSlice', [true, false])\n      .beginSubcases()\n      .combine('sameTexture', [true, false])\n      .combine('samePass', [true, false])\n  )\n  .fn(t => {\n    const { sameDepthSlice, sameTexture, samePass } = t.params;\n    const arrayLayerCount = 4;\n\n    const texDescriptor = {\n      dimension: '3d' as GPUTextureDimension,\n      arrayLayerCount,\n    };\n    const texture = t.createTestTexture(texDescriptor);\n\n    const colorAttachments = [];\n    for (let i = 0; i < arrayLayerCount; i++) {\n      const colorAttachment = t.getColorAttachment(\n        sameTexture ? texture : t.createTestTexture(texDescriptor)\n      );\n      colorAttachment.depthSlice = sameDepthSlice ? 0 : i;\n      colorAttachments.push(colorAttachment);\n    }\n\n    const encoder = t.createEncoder('non-pass');\n    if (samePass) {\n      const pass = encoder.encoder.beginRenderPass({ colorAttachments });\n      pass.end();\n    } else {\n      for (let i = 0; i < arrayLayerCount; i++) {\n        const pass = encoder.encoder.beginRenderPass({ colorAttachments: [colorAttachments[i]] });\n        pass.end();\n      }\n    }\n\n    const success = !sameDepthSlice || !sameTexture || !samePass;\n\n    encoder.validateFinish(success);\n  });\n\ng.test('color_attachments,depthSlice,overlaps,diff_miplevel')\n  .desc(\n    `\n  Test that the same depth slice from different mip levels of a 3d texture with size [1, 1, N] can\n  be set in a render pass's color attachments.\n  `\n  )\n  .params(u => u.combine('sameMipLevel', [true, false]))\n  .fn(t => {\n    const { sameMipLevel } = t.params;\n    const mipLevelCount = 4;\n\n    const texDescriptor = {\n      dimension: '3d' as GPUTextureDimension,\n      width: 1,\n      height: 1,\n      arrayLayerCount: 1 << mipLevelCount,\n      mipLevelCount,\n    };\n    const texture = t.createTestTexture(texDescriptor);\n\n    const textureViewDescriptor: GPUTextureViewDescriptor = {\n      baseMipLevel: 0,\n      mipLevelCount: 1,\n      baseArrayLayer: 0,\n      arrayLayerCount: 1,\n    };\n\n    const colorAttachments = [];\n    for (let i = 0; i < mipLevelCount; i++) {\n      if (!sameMipLevel) {\n        textureViewDescriptor.baseMipLevel = i;\n      }\n      const colorAttachment = t.getColorAttachment(texture, { textureViewDescriptor });\n      colorAttachment.depthSlice = 0;\n      colorAttachments.push(colorAttachment);\n    }\n\n    const encoder = t.createEncoder('non-pass');\n    const pass = encoder.encoder.beginRenderPass({ colorAttachments });\n    pass.end();\n\n    encoder.validateFinish(!sameMipLevel);\n  });\n\ng.test('attachments,same_size')\n  .desc(\n    `\n  Test that attachments have the same size. Otherwise, a validation error should be generated.\n    - Succeed if all attachments have the same size.\n    - Fail if one of the color attachments has a different size.\n    - Fail if the depth stencil attachment has a different size.\n  `\n  )\n  .fn(t => {\n    const colorTexture1x1A = t.createTestTexture({ width: 1, height: 1, format: 'rgba8unorm' });\n    const colorTexture1x1B = t.createTestTexture({ width: 1, height: 1, format: 'rgba8unorm' });\n    const colorTexture2x2 = t.createTestTexture({ width: 2, height: 2, format: 'rgba8unorm' });\n    const depthStencilTexture1x1 = t.createTestTexture({\n      width: 1,\n      height: 1,\n      format: 'depth24plus-stencil8',\n    });\n    const depthStencilTexture2x2 = t.createTestTexture({\n      width: 2,\n      height: 2,\n      format: 'depth24plus-stencil8',\n    });\n\n    {\n      // Control case: all the same size (1x1)\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [\n          t.getColorAttachment(colorTexture1x1A),\n          t.getColorAttachment(colorTexture1x1B),\n        ],\n        depthStencilAttachment: t.getDepthStencilAttachment(depthStencilTexture1x1),\n      };\n\n      t.tryRenderPass(true, descriptor);\n    }\n    {\n      // One of the color attachments has a different size\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [\n          t.getColorAttachment(colorTexture1x1A),\n          t.getColorAttachment(colorTexture2x2),\n        ],\n      };\n\n      t.tryRenderPass(false, descriptor);\n    }\n    {\n      // The depth stencil attachment has a different size\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [\n          t.getColorAttachment(colorTexture1x1A),\n          t.getColorAttachment(colorTexture1x1B),\n        ],\n        depthStencilAttachment: t.getDepthStencilAttachment(depthStencilTexture2x2),\n      };\n\n      t.tryRenderPass(false, descriptor);\n    }\n  });\n\ng.test('attachments,color_depth_mismatch')\n  .desc(`Test that attachments match whether they are used for color or depth stencil.`)\n  .fn(t => {\n    const colorTexture = t.createTestTexture({ format: 'rgba8unorm' });\n    const depthStencilTexture = t.createTestTexture({ format: 'depth24plus-stencil8' });\n\n    {\n      // Using depth-stencil for color\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [t.getColorAttachment(depthStencilTexture)],\n      };\n\n      t.tryRenderPass(false, descriptor);\n    }\n    {\n      // Using color for depth-stencil\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [],\n        depthStencilAttachment: t.getDepthStencilAttachment(colorTexture),\n      };\n\n      t.tryRenderPass(false, descriptor);\n    }\n  });\n\ng.test('attachments,layer_count')\n  .desc(\n    `\n  Test the layer counts for color or depth stencil.\n    - Fail if using 2D array texture view with arrayLayerCount > 1.\n    - Succeed if using 2D array texture view that covers the first layer of the texture.\n    - Succeed if using 2D array texture view that covers the last layer for depth stencil.\n  `\n  )\n  .paramsSimple([\n    { arrayLayerCount: 5, baseArrayLayer: 0, _success: false },\n    { arrayLayerCount: 1, baseArrayLayer: 0, _success: true },\n    { arrayLayerCount: 1, baseArrayLayer: 9, _success: true },\n  ])\n  .fn(t => {\n    const { arrayLayerCount, baseArrayLayer, _success } = t.params;\n\n    const ARRAY_LAYER_COUNT = 10;\n    const MIP_LEVEL_COUNT = 1;\n    const COLOR_FORMAT = 'rgba8unorm';\n    const DEPTH_STENCIL_FORMAT = 'depth24plus-stencil8';\n\n    const colorTexture = t.createTestTexture({\n      format: COLOR_FORMAT,\n      width: 32,\n      height: 32,\n      mipLevelCount: MIP_LEVEL_COUNT,\n      arrayLayerCount: ARRAY_LAYER_COUNT,\n    });\n    const depthStencilTexture = t.createTestTexture({\n      format: DEPTH_STENCIL_FORMAT,\n      width: 32,\n      height: 32,\n      mipLevelCount: MIP_LEVEL_COUNT,\n      arrayLayerCount: ARRAY_LAYER_COUNT,\n    });\n\n    const baseTextureViewDescriptor: GPUTextureViewDescriptor = {\n      dimension: '2d-array',\n      baseArrayLayer,\n      arrayLayerCount,\n      baseMipLevel: 0,\n      mipLevelCount: MIP_LEVEL_COUNT,\n    };\n\n    {\n      // Check 2D array texture view for color\n      const textureViewDescriptor: GPUTextureViewDescriptor = {\n        ...baseTextureViewDescriptor,\n        format: COLOR_FORMAT,\n      };\n\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [t.getColorAttachment(colorTexture, { textureViewDescriptor })],\n      };\n\n      t.tryRenderPass(_success, descriptor);\n    }\n    {\n      // Check 2D array texture view for depth stencil\n      const textureViewDescriptor: GPUTextureViewDescriptor = {\n        ...baseTextureViewDescriptor,\n        format: DEPTH_STENCIL_FORMAT,\n      };\n\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [],\n        depthStencilAttachment: t.getDepthStencilAttachment(depthStencilTexture, {\n          textureViewDescriptor,\n        }),\n      };\n\n      t.tryRenderPass(_success, descriptor);\n    }\n  });\n\ng.test('attachments,mip_level_count')\n  .desc(\n    `\n  Test the mip level count for color or depth stencil.\n    - Fail if using 2D texture view with mipLevelCount > 1.\n    - Succeed if using 2D texture view that covers the first level of the texture.\n    - Succeed if using 2D texture view that covers the last level of the texture.\n  `\n  )\n  .paramsSimple([\n    { mipLevelCount: 2, baseMipLevel: 0, _success: false },\n    { mipLevelCount: 1, baseMipLevel: 0, _success: true },\n    { mipLevelCount: 1, baseMipLevel: 3, _success: true },\n  ])\n  .fn(t => {\n    const { mipLevelCount, baseMipLevel, _success } = t.params;\n\n    const ARRAY_LAYER_COUNT = 1;\n    const MIP_LEVEL_COUNT = 4;\n    const COLOR_FORMAT = 'rgba8unorm';\n    const DEPTH_STENCIL_FORMAT = 'depth24plus-stencil8';\n\n    const colorTexture = t.createTestTexture({\n      format: COLOR_FORMAT,\n      width: 32,\n      height: 32,\n      mipLevelCount: MIP_LEVEL_COUNT,\n      arrayLayerCount: ARRAY_LAYER_COUNT,\n    });\n    const depthStencilTexture = t.createTestTexture({\n      format: DEPTH_STENCIL_FORMAT,\n      width: 32,\n      height: 32,\n      mipLevelCount: MIP_LEVEL_COUNT,\n      arrayLayerCount: ARRAY_LAYER_COUNT,\n    });\n\n    const baseTextureViewDescriptor: GPUTextureViewDescriptor = {\n      dimension: '2d',\n      baseArrayLayer: 0,\n      arrayLayerCount: ARRAY_LAYER_COUNT,\n      baseMipLevel,\n      mipLevelCount,\n    };\n\n    {\n      // Check 2D texture view for color\n      const textureViewDescriptor: GPUTextureViewDescriptor = {\n        ...baseTextureViewDescriptor,\n        format: COLOR_FORMAT,\n      };\n\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [t.getColorAttachment(colorTexture, { textureViewDescriptor })],\n      };\n\n      t.tryRenderPass(_success, descriptor);\n    }\n    {\n      // Check 2D texture view for depth stencil\n      const textureViewDescriptor: GPUTextureViewDescriptor = {\n        ...baseTextureViewDescriptor,\n        format: DEPTH_STENCIL_FORMAT,\n      };\n\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [],\n        depthStencilAttachment: t.getDepthStencilAttachment(depthStencilTexture, {\n          textureViewDescriptor,\n        }),\n      };\n\n      t.tryRenderPass(_success, descriptor);\n    }\n  });\n\ng.test('color_attachments,loadOp_storeOp')\n  .desc(\n    `\n  Test GPURenderPassColorAttachment Usage:\n    - if usage includes TRANSIENT_ATTACHMENT\n      - loadOp must be clear\n      - storeOp must be discard\n  `\n  )\n  .params(u =>\n    u\n      .combine('format', kPossibleColorRenderableTextureFormats)\n      .beginSubcases()\n      .combine('transientTexture', [true, false])\n      .combine('loadOp', ['clear', 'load'] as GPULoadOp[])\n      .combine('storeOp', ['discard', 'store'] as GPUStoreOp[])\n  )\n  .fn(t => {\n    const { format, transientTexture, loadOp, storeOp } = t.params;\n\n    t.skipIfTextureFormatNotSupported(format);\n    t.skipIfTextureFormatNotUsableAsRenderAttachment(format);\n\n    // MAINTENANCE_TODO(#4509): Remove this when TRANSIENT_ATTACHMENT is added to the WebGPU spec.\n    if (transientTexture) {\n      t.skipIfTransientAttachmentNotSupported();\n    }\n\n    const usage = transientTexture\n      ? GPUConst.TextureUsage.RENDER_ATTACHMENT | GPUConst.TextureUsage.TRANSIENT_ATTACHMENT\n      : GPUConst.TextureUsage.RENDER_ATTACHMENT;\n\n    const texture = t.createTestTexture({ usage });\n\n    const colorAttachment = t.getColorAttachment(texture);\n    colorAttachment.loadOp = loadOp;\n    colorAttachment.storeOp = storeOp;\n\n    const passDescriptor: GPURenderPassDescriptor = {\n      colorAttachments: [colorAttachment],\n    };\n\n    const success = !transientTexture || (loadOp === 'clear' && storeOp === 'discard');\n\n    t.tryRenderPass(success, passDescriptor);\n  });\n\ng.test('color_attachments,non_multisampled')\n  .desc(\n    `\n  Test that setting a resolve target is invalid if the color attachments is non multisampled.\n  `\n  )\n  .fn(t => {\n    const colorTexture = t.createTestTexture({ sampleCount: 1 });\n    const resolveTargetTexture = t.createTestTexture({ sampleCount: 1 });\n\n    const descriptor: GPURenderPassDescriptor = {\n      colorAttachments: [\n        {\n          view: colorTexture.createView(),\n          resolveTarget: resolveTargetTexture.createView(),\n          clearValue: { r: 1.0, g: 0.0, b: 0.0, a: 1.0 },\n          loadOp: 'clear',\n          storeOp: 'store',\n        },\n      ],\n    };\n\n    t.tryRenderPass(false, descriptor);\n  });\n\ng.test('color_attachments,sample_count')\n  .desc(\n    `\n  Test the usages of multisampled textures for color attachments.\n    - Succeed if using a multisampled color attachment without setting a resolve target.\n    - Fail if using multiple color attachments with different sample counts.\n  `\n  )\n  .fn(t => {\n    const colorTexture = t.createTestTexture({ sampleCount: 1 });\n    const multisampledColorTexture = t.createTestTexture({ sampleCount: 4 });\n\n    {\n      // It is allowed to use a multisampled color attachment without setting resolve target\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [t.getColorAttachment(multisampledColorTexture)],\n      };\n      t.tryRenderPass(true, descriptor);\n    }\n    {\n      // It is not allowed to use multiple color attachments with different sample counts\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [\n          t.getColorAttachment(colorTexture),\n          t.getColorAttachment(multisampledColorTexture),\n        ],\n      };\n\n      t.tryRenderPass(false, descriptor);\n    }\n  });\n\ng.test('resolveTarget,sample_count')\n  .desc(\n    `\n  Test that using multisampled resolve target is invalid for color attachments.\n  `\n  )\n  .fn(t => {\n    const multisampledColorTexture = t.createTestTexture({ sampleCount: 4 });\n    const multisampledResolveTargetTexture = t.createTestTexture({ sampleCount: 4 });\n\n    const colorAttachment = t.getColorAttachment(multisampledColorTexture);\n    colorAttachment.resolveTarget = multisampledResolveTargetTexture.createView();\n\n    const descriptor: GPURenderPassDescriptor = {\n      colorAttachments: [colorAttachment],\n    };\n\n    t.tryRenderPass(false, descriptor);\n  });\n\ng.test('resolveTarget,array_layer_count')\n  .desc(\n    `\n  Test that using a resolve target with array layer count is greater than 1 is invalid for color\n  attachments.\n  `\n  )\n  .fn(t => {\n    const multisampledColorTexture = t.createTestTexture({ sampleCount: 4 });\n    const resolveTargetTexture = t.createTestTexture({ arrayLayerCount: 2 });\n\n    const colorAttachment = t.getColorAttachment(multisampledColorTexture);\n    colorAttachment.resolveTarget = resolveTargetTexture.createView({ dimension: '2d-array' });\n\n    const descriptor: GPURenderPassDescriptor = {\n      colorAttachments: [colorAttachment],\n    };\n\n    t.tryRenderPass(false, descriptor);\n  });\n\ng.test('resolveTarget,mipmap_level_count')\n  .desc(\n    `\n  Test that using a resolve target with that mipmap level count is greater than 1 is invalid for\n  color attachments.\n  `\n  )\n  .fn(t => {\n    const multisampledColorTexture = t.createTestTexture({ sampleCount: 4 });\n    const resolveTargetTexture = t.createTestTexture({ mipLevelCount: 2 });\n\n    const colorAttachment = t.getColorAttachment(multisampledColorTexture);\n    colorAttachment.resolveTarget = resolveTargetTexture.createView();\n\n    const descriptor: GPURenderPassDescriptor = {\n      colorAttachments: [colorAttachment],\n    };\n\n    t.tryRenderPass(false, descriptor);\n  });\n\ng.test('resolveTarget,usage')\n  .desc(\n    `\n  Test that using a resolve target whose usage is not RENDER_ATTACHMENT is invalid for color\n  attachments.\n  `\n  )\n  .paramsSimple([\n    { usage: GPUConst.TextureUsage.COPY_SRC | GPUConst.TextureUsage.COPY_DST },\n    { usage: GPUConst.TextureUsage.STORAGE_BINDING | GPUConst.TextureUsage.TEXTURE_BINDING },\n    { usage: GPUConst.TextureUsage.STORAGE_BINDING | GPUConst.TextureUsage.STORAGE_BINDING },\n    { usage: GPUConst.TextureUsage.RENDER_ATTACHMENT | GPUConst.TextureUsage.TEXTURE_BINDING },\n  ])\n  .fn(t => {\n    const { usage } = t.params;\n\n    const multisampledColorTexture = t.createTestTexture({ sampleCount: 4 });\n    const resolveTargetTexture = t.createTestTexture({ usage });\n\n    const colorAttachment = t.getColorAttachment(multisampledColorTexture);\n    colorAttachment.resolveTarget = resolveTargetTexture.createView();\n\n    const descriptor: GPURenderPassDescriptor = {\n      colorAttachments: [colorAttachment],\n    };\n\n    const isValid = usage & GPUConst.TextureUsage.RENDER_ATTACHMENT ? true : false;\n    t.tryRenderPass(isValid, descriptor);\n  });\n\ng.test('resolveTarget,error_state')\n  .desc(`Test that a resolve target that has a error is invalid for color attachments.`)\n  .fn(t => {\n    const ARRAY_LAYER_COUNT = 1;\n\n    const multisampledColorTexture = t.createTestTexture({ sampleCount: 4 });\n    const resolveTargetTexture = t.createTestTexture({ arrayLayerCount: ARRAY_LAYER_COUNT });\n\n    const colorAttachment = t.getColorAttachment(multisampledColorTexture);\n    t.expectValidationError(() => {\n      colorAttachment.resolveTarget = resolveTargetTexture.createView({\n        dimension: '2d',\n        format: 'rgba8unorm',\n        baseArrayLayer: ARRAY_LAYER_COUNT + 1,\n      });\n    });\n\n    const descriptor: GPURenderPassDescriptor = {\n      colorAttachments: [colorAttachment],\n    };\n\n    t.tryRenderPass(false, descriptor);\n  });\n\ng.test('resolveTarget,single_sample_count')\n  .desc(\n    `\n  Test that a resolve target that has multi sample color attachment and a single resolve target is\n  valid.\n  `\n  )\n  .fn(t => {\n    const multisampledColorTexture = t.createTestTexture({ sampleCount: 4 });\n    const resolveTargetTexture = t.createTestTexture({ sampleCount: 1 });\n\n    const colorAttachment = t.getColorAttachment(multisampledColorTexture);\n    colorAttachment.resolveTarget = resolveTargetTexture.createView();\n\n    const descriptor: GPURenderPassDescriptor = {\n      colorAttachments: [colorAttachment],\n    };\n\n    t.tryRenderPass(true, descriptor);\n  });\n\ng.test('resolveTarget,different_format')\n  .desc(`Test that a resolve target that has a different format is invalid.`)\n  .fn(t => {\n    const multisampledColorTexture = t.createTestTexture({ sampleCount: 4 });\n    const resolveTargetTexture = t.createTestTexture({ format: 'bgra8unorm' });\n\n    const colorAttachment = t.getColorAttachment(multisampledColorTexture);\n    colorAttachment.resolveTarget = resolveTargetTexture.createView();\n\n    const descriptor: GPURenderPassDescriptor = {\n      colorAttachments: [colorAttachment],\n    };\n\n    t.tryRenderPass(false, descriptor);\n  });\n\ng.test('resolveTarget,different_size')\n  .desc(\n    `\n  Test that a resolve target that has a different size with the color attachment is invalid.\n  `\n  )\n  .fn(t => {\n    const size = 16;\n    const multisampledColorTexture = t.createTestTexture({\n      width: size,\n      height: size,\n      sampleCount: 4,\n    });\n    const resolveTargetTexture = t.createTestTexture({\n      width: size * 2,\n      height: size * 2,\n      mipLevelCount: 2,\n    });\n\n    {\n      const resolveTargetTextureView = resolveTargetTexture.createView({\n        baseMipLevel: 0,\n        mipLevelCount: 1,\n      });\n\n      const colorAttachment = t.getColorAttachment(multisampledColorTexture);\n      colorAttachment.resolveTarget = resolveTargetTextureView;\n\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [colorAttachment],\n      };\n\n      t.tryRenderPass(false, descriptor);\n    }\n    {\n      const resolveTargetTextureView = resolveTargetTexture.createView({ baseMipLevel: 1 });\n\n      const colorAttachment = t.getColorAttachment(multisampledColorTexture);\n      colorAttachment.resolveTarget = resolveTargetTextureView;\n\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [colorAttachment],\n      };\n\n      t.tryRenderPass(true, descriptor);\n    }\n  });\n\ng.test('depth_stencil_attachment,sample_counts_mismatch')\n  .desc(\n    `\n  Test that the depth stencil attachment that has different number of samples with the color\n  attachment is invalid.\n  `\n  )\n  .fn(t => {\n    const multisampledDepthStencilTexture = t.createTestTexture({\n      sampleCount: 4,\n      format: 'depth24plus-stencil8',\n    });\n\n    {\n      // It is not allowed to use a depth stencil attachment whose sample count is different from\n      // the one of the color attachment.\n      const depthStencilTexture = t.createTestTexture({\n        sampleCount: 1,\n        format: 'depth24plus-stencil8',\n      });\n      const multisampledColorTexture = t.createTestTexture({ sampleCount: 4 });\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [t.getColorAttachment(multisampledColorTexture)],\n        depthStencilAttachment: t.getDepthStencilAttachment(depthStencilTexture),\n      };\n\n      t.tryRenderPass(false, descriptor);\n    }\n    {\n      const colorTexture = t.createTestTexture({ sampleCount: 1 });\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [t.getColorAttachment(colorTexture)],\n        depthStencilAttachment: t.getDepthStencilAttachment(multisampledDepthStencilTexture),\n      };\n\n      t.tryRenderPass(false, descriptor);\n    }\n    {\n      // It is allowed to use a multisampled depth stencil attachment whose sample count is equal to\n      // the one of the color attachment.\n      const multisampledColorTexture = t.createTestTexture({ sampleCount: 4 });\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [t.getColorAttachment(multisampledColorTexture)],\n        depthStencilAttachment: t.getDepthStencilAttachment(multisampledDepthStencilTexture),\n      };\n\n      t.tryRenderPass(true, descriptor);\n    }\n    {\n      // It is allowed to use a multisampled depth stencil attachment with no color attachment.\n      const descriptor: GPURenderPassDescriptor = {\n        colorAttachments: [],\n        depthStencilAttachment: t.getDepthStencilAttachment(multisampledDepthStencilTexture),\n      };\n\n      t.tryRenderPass(true, descriptor);\n    }\n  });\n\ng.test('depth_stencil_attachment,loadOp_storeOp_match_depthReadOnly_stencilReadOnly')\n  .desc(\n    `\n  Test GPURenderPassDepthStencilAttachment Usage:\n    - if the format has a depth aspect and depthReadOnly is false\n      - depthLoadOp and depthStoreOp must be provided\n    - else:\n      - depthLoadOp and depthStoreOp must not be provided\n    - if the format has a stencil aspect and stencilReadOnly is false\n      - stencilLoadOp and stencilStoreOp must be provided\n    - else:\n      - stencilLoadOp and stencilStoreOp must not be provided\n    - if usage includes TRANSIENT_ATTACHMENT\n      - if the format has a depth aspect:\n        - depthLoadOp must be clear\n        - depthStoreOp must be discard\n      - if the format has a stencil aspect:\n        - stencilLoadOp must be clear\n        - stencilStoreOp must be discard\n  `\n  )\n  .params(u =>\n    u\n      .combine('format', kDepthStencilFormats)\n      .beginSubcases() // Note: It's easier to debug if you comment this line out as you can then run an individual case.\n      .combine('transientTexture', [true, false])\n      .combine('depthReadOnly', [undefined, true, false])\n      .combine('depthLoadOp', [undefined, 'clear', 'load'] as GPULoadOp[])\n      .combine('depthStoreOp', [undefined, 'discard', 'store'] as GPUStoreOp[])\n      .combine('stencilReadOnly', [undefined, true, false])\n      .combine('stencilLoadOp', [undefined, 'clear', 'load'] as GPULoadOp[])\n      .combine('stencilStoreOp', [undefined, 'discard', 'store'] as GPUStoreOp[])\n  )\n  .fn(t => {\n    const {\n      format,\n      transientTexture,\n      depthReadOnly,\n      depthLoadOp,\n      depthStoreOp,\n      stencilReadOnly,\n      stencilLoadOp,\n      stencilStoreOp,\n    } = t.params;\n\n    t.skipIfTextureFormatNotSupported(format);\n\n    // MAINTENANCE_TODO(#4509): Remove this when TRANSIENT_ATTACHMENT is added to the WebGPU spec.\n    if (transientTexture) {\n      t.skipIfTransientAttachmentNotSupported();\n    }\n\n    const usage = transientTexture\n      ? GPUConst.TextureUsage.RENDER_ATTACHMENT | GPUConst.TextureUsage.TRANSIENT_ATTACHMENT\n      : GPUConst.TextureUsage.RENDER_ATTACHMENT;\n    const depthAttachment = t.createTextureTracked({\n      format,\n      size: { width: 1, height: 1, depthOrArrayLayers: 1 },\n      usage,\n    });\n    const depthAttachmentView = depthAttachment.createView();\n\n    const encoder = t.device.createCommandEncoder();\n\n    // If depthLoadOp is \"clear\", depthClearValue must be provided and must be between 0.0 and 1.0,\n    // and it will be ignored if depthLoadOp is not \"clear\".\n    const depthClearValue = depthLoadOp === 'clear' ? 0 : undefined;\n    const renderPassDescriptor: GPURenderPassDescriptor = {\n      colorAttachments: [],\n      depthStencilAttachment: {\n        view: depthAttachmentView,\n        depthLoadOp,\n        depthStoreOp,\n        depthReadOnly,\n        stencilLoadOp,\n        stencilStoreOp,\n        stencilReadOnly,\n        depthClearValue,\n      },\n    };\n    const pass = encoder.beginRenderPass(renderPassDescriptor);\n    pass.end();\n\n    const hasDepthSettings = !!depthLoadOp && !!depthStoreOp && !depthReadOnly;\n    const hasStencilSettings = !!stencilLoadOp && !!stencilStoreOp && !stencilReadOnly;\n    const hasDepth = isDepthTextureFormat(format);\n    const hasStencil = isStencilTextureFormat(format);\n\n    const goodAspectSettingsPresent =\n      (hasDepthSettings ? hasDepth : true) && (hasStencilSettings ? hasStencil : true);\n\n    const hasBothDepthOps = !!depthLoadOp && !!depthStoreOp;\n    const hasBothStencilOps = !!stencilLoadOp && !!stencilStoreOp;\n    const hasNeitherDepthOps = !depthLoadOp && !depthStoreOp;\n    const hasNeitherStencilOps = !stencilLoadOp && !stencilStoreOp;\n\n    const goodDepthCombo = hasDepth && !depthReadOnly ? hasBothDepthOps : hasNeitherDepthOps;\n    const goodStencilCombo =\n      hasStencil && !stencilReadOnly ? hasBothStencilOps : hasNeitherStencilOps;\n\n    const goodTransient =\n      !transientTexture ||\n      ((!hasDepth || (depthLoadOp === 'clear' && depthStoreOp === 'discard')) &&\n        (!hasStencil || (stencilLoadOp === 'clear' && stencilStoreOp === 'discard')));\n\n    const shouldError =\n      !goodAspectSettingsPresent || !goodDepthCombo || !goodStencilCombo || !goodTransient;\n\n    t.expectValidationError(() => {\n      encoder.finish();\n    }, shouldError);\n  });\n\ng.test('depth_stencil_attachment,depth_clear_value')\n  .desc(\n    `\n  Test that depthClearValue is invalid if the value is out of the range(0.0 and 1.0) only when\n  depthLoadOp is 'clear'.\n  `\n  )\n  .params(u =>\n    u\n      .combine('depthLoadOp', ['load', 'clear', undefined] as const)\n      .combine('depthClearValue', [undefined, -1.0, 0.0, 0.5, 1.0, 1.5] as const)\n  )\n  .fn(t => {\n    const { depthLoadOp, depthClearValue } = t.params;\n\n    const depthStencilTexture = t.createTestTexture({\n      format: depthLoadOp === undefined ? 'stencil8' : 'depth24plus-stencil8',\n    });\n    const depthStencilAttachment = t.getDepthStencilAttachment(depthStencilTexture);\n    depthStencilAttachment.depthClearValue = depthClearValue;\n    depthStencilAttachment.depthLoadOp = depthLoadOp;\n    if (depthLoadOp === undefined) {\n      depthStencilAttachment.depthStoreOp = undefined;\n    }\n\n    const descriptor = {\n      colorAttachments: [t.getColorAttachment(t.createTestTexture())],\n      depthStencilAttachment,\n    };\n\n    // We can not check for out of range because NaN is not out of range.\n    // So (v < 0.0 || v > 1.0) would return false when depthClearValue is undefined (NaN)\n    const isDepthValueInRange = depthClearValue! >= 0.0 && depthClearValue! <= 1.0;\n    const isInvalid = depthLoadOp === 'clear' && !isDepthValueInRange;\n\n    t.tryRenderPass(!isInvalid, descriptor);\n  });\n\ng.test('resolveTarget,format_supports_resolve')\n  .desc(\n    `\n  For all formats that support 'multisample', test that they can be used as a resolveTarget\n  if and only if they support 'resolve'.\n  `\n  )\n  .params(u => u.combine('format', kPossibleColorRenderableTextureFormats))\n  .fn(t => {\n    const { format } = t.params;\n    t.skipIfTextureFormatNotSupported(format);\n    t.skipIfTextureFormatNotMultisampled(format);\n\n    const multisampledColorTexture = t.createTestTexture({ format, sampleCount: 4 });\n    const resolveTarget = t.createTestTexture({ format });\n\n    const colorAttachment = t.getColorAttachment(multisampledColorTexture);\n    colorAttachment.resolveTarget = resolveTarget.createView();\n\n    t.tryRenderPass(isTextureFormatResolvable(t.device.features, format), {\n      colorAttachments: [colorAttachment],\n    });\n  });\n\ng.test('timestampWrites,query_set_type')\n  .desc(\n    `\n  Test that all entries of the timestampWrites must have type 'timestamp'. If all query types are\n  not 'timestamp', a validation error should be generated.\n  `\n  )\n  .params(u =>\n    u //\n      .combine('queryType', kQueryTypes)\n  )\n  .fn(t => {\n    t.skipIfDeviceDoesNotSupportQueryType('timestamp');\n    const { queryType } = t.params;\n\n    const timestampWrites = {\n      querySet: t.createQuerySetTracked({ type: queryType, count: 2 }),\n      beginningOfPassWriteIndex: 0,\n      endOfPassWriteIndex: 1,\n    };\n\n    const isValid = queryType === 'timestamp';\n\n    const colorTexture = t.createTestTexture();\n    const descriptor = {\n      colorAttachments: [t.getColorAttachment(colorTexture)],\n      timestampWrites,\n    };\n\n    t.tryRenderPass(isValid, descriptor);\n  });\n\ng.test('timestampWrite,query_index')\n  .desc(\n    `Test that querySet.count should be greater than timestampWrite.queryIndex, and that the\n         query indexes are unique.`\n  )\n  .paramsSubcasesOnly(u =>\n    u //\n      .combine('beginningOfPassWriteIndex', [undefined, 0, 1, 2, 3] as const)\n      .combine('endOfPassWriteIndex', [undefined, 0, 1, 2, 3] as const)\n  )\n  .fn(t => {\n    t.skipIfDeviceDoesNotSupportQueryType('timestamp');\n    const { beginningOfPassWriteIndex, endOfPassWriteIndex } = t.params;\n\n    const querySetCount = 2;\n\n    const timestampWrites = {\n      querySet: t.createQuerySetTracked({ type: 'timestamp', count: querySetCount }),\n      beginningOfPassWriteIndex,\n      endOfPassWriteIndex,\n    };\n\n    const isValid =\n      beginningOfPassWriteIndex !== endOfPassWriteIndex &&\n      (beginningOfPassWriteIndex === undefined || beginningOfPassWriteIndex < querySetCount) &&\n      (endOfPassWriteIndex === undefined || endOfPassWriteIndex < querySetCount);\n\n    const colorTexture = t.createTestTexture();\n    const descriptor = {\n      colorAttachments: [t.getColorAttachment(colorTexture)],\n      timestampWrites,\n    };\n\n    t.tryRenderPass(isValid, descriptor);\n  });\n\ng.test('occlusionQuerySet,query_set_type')\n  .desc(`Test that occlusionQuerySet must have type 'occlusion'.`)\n  .params(u => u.combine('queryType', kQueryTypes))\n  .fn(t => {\n    const { queryType } = t.params;\n    t.skipIfDeviceDoesNotSupportQueryType(queryType);\n\n    const querySet = t.createQuerySetTracked({\n      type: queryType,\n      count: 1,\n    });\n\n    const colorTexture = t.createTestTexture();\n    const descriptor = {\n      colorAttachments: [t.getColorAttachment(colorTexture)],\n      occlusionQuerySet: querySet,\n    };\n\n    const isValid = queryType === 'occlusion';\n    t.tryRenderPass(isValid, descriptor);\n  });\n"],"mappings":"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"}