{"version":3,"file":"indirect_draw.spec.js","names":["description","makeTestGroup","kDrawIndirectParametersSize","kDrawIndexedIndirectParametersSize","GPUTest","TextureTestMixin","filled","Uint8Array","notFilled","kRenderTargetFormat","F","MakeIndexBuffer","makeBufferWithContents","Uint32Array","GPUBufferUsage","INDEX","MakeVertexBuffer","isIndexed","vertices","Float32Array","VERTEX","MakeIndirectBuffer","indirectOffset","o","BYTES_PER_ELEMENT","parametersSize","arraySize","indirectBuffer","Array","map","Math","floor","random","INDIRECT","g","test","desc","params","u","combine","beginSubcases","expand","p","indirectDrawParametersSize","fn","t","vertexBuffer","pipeline","device","createRenderPipeline","layout","vertex","module","createShaderModule","code","entryPoint","buffers","attributes","shaderLocation","format","offset","arrayStride","fragment","targets","renderTarget","createTexture","size","usage","GPUTextureUsage","RENDER_ATTACHMENT","COPY_SRC","commandEncoder","createCommandEncoder","renderPass","beginRenderPass","colorAttachments","view","createView","clearValue","loadOp","storeOp","setPipeline","setVertexBuffer","setIndexBuffer","drawIndexedIndirect","drawIndirect","end","queue","submit","finish","expectSinglePixelComparisonsAreOkInTexture","texture","coord","x","y","exp"],"sources":["../../../../../src/webgpu/api/operation/rendering/indirect_draw.spec.ts"],"sourcesContent":["export const description = `\nTests for the indirect-specific aspects of drawIndirect/drawIndexedIndirect.\n`;\n\nimport { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport {\n  kDrawIndirectParametersSize,\n  kDrawIndexedIndirectParametersSize,\n} from '../../../capability_info.js';\nimport { GPUTest, TextureTestMixin } from '../../../gpu_test.js';\n\nconst filled = new Uint8Array([0, 255, 0, 255]);\nconst notFilled = new Uint8Array([0, 0, 0, 0]);\n\nconst kRenderTargetFormat = 'rgba8unorm';\n\nclass F extends GPUTest {\n  MakeIndexBuffer(): GPUBuffer {\n    return this.makeBufferWithContents(\n      /* prettier-ignore */ new Uint32Array([\n        0, 1, 2, // The bottom left triangle\n        1, 2, 3, // The top right triangle\n      ]),\n      GPUBufferUsage.INDEX\n    );\n  }\n\n  MakeVertexBuffer(isIndexed: boolean): GPUBuffer {\n    /* prettier-ignore */\n    const vertices = isIndexed\n      ? [\n          -1.0, -1.0,\n          -1.0,  1.0,\n           1.0, -1.0,\n           1.0,  1.0,\n        ]\n      : [\n          // The bottom left triangle\n          -1.0,  1.0,\n           1.0, -1.0,\n          -1.0, -1.0,\n\n          // The top right triangle\n          -1.0,  1.0,\n           1.0, -1.0,\n           1.0,  1.0,\n        ];\n    return this.makeBufferWithContents(new Float32Array(vertices), GPUBufferUsage.VERTEX);\n  }\n\n  MakeIndirectBuffer(isIndexed: boolean, indirectOffset: number): GPUBuffer {\n    const o = indirectOffset / Uint32Array.BYTES_PER_ELEMENT;\n\n    const parametersSize = isIndexed\n      ? kDrawIndexedIndirectParametersSize\n      : kDrawIndirectParametersSize;\n    const arraySize = o + parametersSize * 2;\n\n    const indirectBuffer = [...Array(arraySize)].map(() => Math.floor(Math.random() * 100));\n\n    if (isIndexed) {\n      // draw args that will draw the left bottom triangle (expected call)\n      indirectBuffer[o] = 3; // indexCount\n      indirectBuffer[o + 1] = 1; // instanceCount\n      indirectBuffer[o + 2] = 0; // firstIndex\n      indirectBuffer[o + 3] = 0; // baseVertex\n      indirectBuffer[o + 4] = 0; // firstInstance\n\n      // draw args that will draw both triangles\n      indirectBuffer[o + 5] = 6; // indexCount\n      indirectBuffer[o + 6] = 1; // instanceCount\n      indirectBuffer[o + 7] = 0; // firstIndex\n      indirectBuffer[o + 8] = 0; // baseVertex\n      indirectBuffer[o + 9] = 0; // firstInstance\n\n      if (o >= parametersSize) {\n        // draw args that will draw the right top triangle\n        indirectBuffer[o - 5] = 3; // indexCount\n        indirectBuffer[o - 4] = 1; // instanceCount\n        indirectBuffer[o - 3] = 3; // firstIndex\n        indirectBuffer[o - 2] = 0; // baseVertex\n        indirectBuffer[o - 1] = 0; // firstInstance\n      }\n\n      if (o >= parametersSize * 2) {\n        // draw args that will draw nothing\n        indirectBuffer[0] = 0; // indexCount\n        indirectBuffer[1] = 0; // instanceCount\n        indirectBuffer[2] = 0; // firstIndex\n        indirectBuffer[3] = 0; // baseVertex\n        indirectBuffer[4] = 0; // firstInstance\n      }\n    } else {\n      // draw args that will draw the left bottom triangle (expected call)\n      indirectBuffer[o] = 3; // vertexCount\n      indirectBuffer[o + 1] = 1; // instanceCount\n      indirectBuffer[o + 2] = 0; // firstVertex\n      indirectBuffer[o + 3] = 0; // firstInstance\n\n      // draw args that will draw both triangles\n      indirectBuffer[o + 4] = 6; // vertexCount\n      indirectBuffer[o + 5] = 1; // instanceCount\n      indirectBuffer[o + 6] = 0; // firstVertex\n      indirectBuffer[o + 7] = 0; // firstInstance\n\n      if (o >= parametersSize) {\n        // draw args that will draw the right top triangle\n        indirectBuffer[o - 4] = 3; // vertexCount\n        indirectBuffer[o - 3] = 1; // instanceCount\n        indirectBuffer[o - 2] = 3; // firstVertex\n        indirectBuffer[o - 1] = 0; // firstInstance\n      }\n\n      if (o >= parametersSize * 2) {\n        // draw args that will draw nothing\n        indirectBuffer[0] = 0; // vertexCount\n        indirectBuffer[1] = 0; // instanceCount\n        indirectBuffer[2] = 0; // firstVertex\n        indirectBuffer[3] = 0; // firstInstance\n      }\n    }\n\n    return this.makeBufferWithContents(new Uint32Array(indirectBuffer), GPUBufferUsage.INDIRECT);\n  }\n}\n\nexport const g = makeTestGroup(TextureTestMixin(F));\n\ng.test('basics')\n  .desc(\n    `Test that the indirect draw parameters are tightly packed for drawIndirect and drawIndexedIndirect.\nAn indirectBuffer is created based on indirectOffset. The actual draw args being used indicated by the\nindirectOffset is going to draw a left bottom triangle.\nWhile the remaining indirectBuffer is populated with random numbers or draw args\nthat draw right top triangle, both, or nothing which will fail the color check.\nThe test will check render target to see if only the left bottom area is filled,\nmeaning the expected draw args is uploaded correctly by the indirectBuffer and indirectOffset.\n\nParams:\n    - draw{Indirect, IndexedIndirect}\n    - indirectOffset= {0, 4, k * sizeof(args struct), k * sizeof(args struct) + 4}\n    `\n  )\n  .params(u =>\n    u\n      .combine('isIndexed', [true, false])\n      .beginSubcases()\n      .expand('indirectOffset', p => {\n        const indirectDrawParametersSize = p.isIndexed\n          ? kDrawIndexedIndirectParametersSize * Uint32Array.BYTES_PER_ELEMENT\n          : kDrawIndirectParametersSize * Uint32Array.BYTES_PER_ELEMENT;\n        return [\n          0,\n          Uint32Array.BYTES_PER_ELEMENT,\n          1 * indirectDrawParametersSize,\n          1 * indirectDrawParametersSize + Uint32Array.BYTES_PER_ELEMENT,\n          3 * indirectDrawParametersSize,\n          3 * indirectDrawParametersSize + Uint32Array.BYTES_PER_ELEMENT,\n          99 * indirectDrawParametersSize,\n          99 * indirectDrawParametersSize + Uint32Array.BYTES_PER_ELEMENT,\n        ] as const;\n      })\n  )\n  .fn(t => {\n    const { isIndexed, indirectOffset } = t.params;\n\n    const vertexBuffer = t.MakeVertexBuffer(isIndexed);\n    const indirectBuffer = t.MakeIndirectBuffer(isIndexed, indirectOffset);\n\n    const pipeline = t.device.createRenderPipeline({\n      layout: 'auto',\n      vertex: {\n        module: t.device.createShaderModule({\n          code: `@vertex fn main(@location(0) pos : vec2<f32>) -> @builtin(position) vec4<f32> {\n              return vec4<f32>(pos, 0.0, 1.0);\n          }`,\n        }),\n        entryPoint: 'main',\n        buffers: [\n          {\n            attributes: [\n              {\n                shaderLocation: 0,\n                format: 'float32x2',\n                offset: 0,\n              },\n            ],\n            arrayStride: 2 * Float32Array.BYTES_PER_ELEMENT,\n          },\n        ],\n      },\n      fragment: {\n        module: t.device.createShaderModule({\n          code: `@fragment fn main() -> @location(0) vec4<f32> {\n            return vec4<f32>(0.0, 1.0, 0.0, 1.0);\n        }`,\n        }),\n        entryPoint: 'main',\n        targets: [\n          {\n            format: kRenderTargetFormat,\n          },\n        ],\n      },\n    });\n\n    const renderTarget = t.device.createTexture({\n      size: [4, 4],\n      usage: GPUTextureUsage.RENDER_ATTACHMENT | GPUTextureUsage.COPY_SRC,\n      format: kRenderTargetFormat,\n    });\n\n    const commandEncoder = t.device.createCommandEncoder();\n    const renderPass = commandEncoder.beginRenderPass({\n      colorAttachments: [\n        {\n          view: renderTarget.createView(),\n          clearValue: [0, 0, 0, 0],\n          loadOp: 'clear',\n          storeOp: 'store',\n        },\n      ],\n    });\n    renderPass.setPipeline(pipeline);\n    renderPass.setVertexBuffer(0, vertexBuffer, 0);\n\n    if (isIndexed) {\n      renderPass.setIndexBuffer(t.MakeIndexBuffer(), 'uint32', 0);\n      renderPass.drawIndexedIndirect(indirectBuffer, indirectOffset);\n    } else {\n      renderPass.drawIndirect(indirectBuffer, indirectOffset);\n    }\n    renderPass.end();\n    t.queue.submit([commandEncoder.finish()]);\n\n    t.expectSinglePixelComparisonsAreOkInTexture({ texture: renderTarget }, [\n      // The bottom left area is filled\n      { coord: { x: 0, y: 1 }, exp: filled },\n      // The top right area is not filled\n      { coord: { x: 1, y: 0 }, exp: notFilled },\n    ]);\n  });\n"],"mappings":"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"}