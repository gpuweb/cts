{"version":3,"file":"memory_layout.spec.js","names":["description","makeTestGroup","keysOf","iterRange","AllFeaturesMaxLimitsGPUTest","g","kLayoutCases","vec2u_align8","type","decl","read_assign","write_assign","offset","vec3u_align16","vec4u_align16","struct_align32","vec2h_align4","f16","vec3h_align8","vec4h_align8","vec2f_align8","f32","vec3f_align16","vec4f_align16","vec3i_size12","vec3h_size6","size80","atomic_align4","atomic_size4","mat2x2f_align8","mat3x2f_align8","mat4x2f_align8","mat2x3f_align16","mat3x3f_align16","mat4x3f_align16","mat2x4f_align16","mat3x4f_align16","mat4x4f_align16","mat2x2h_align4","mat3x2h_align4","mat4x2h_align4","mat2x3h_align8","mat3x3h_align8","mat4x3h_align8","mat2x4h_align8","mat3x4h_align8","mat4x4h_align8","mat2x2f_size","mat3x2f_size","mat4x2f_size","mat2x3f_size","mat3x3f_size","mat4x3f_size","mat2x4f_size","mat3x4f_size","mat4x4f_size","mat2x2h_size","mat3x2h_size","mat4x2h_size","mat2x3h_size","mat3x3h_size","mat4x3h_size","mat2x4h_size","mat3x4h_size","mat4x4h_size","struct_align_vec2i","skip_uniform","struct_align_vec3i","struct_align_vec4i","struct_align_vec2h","struct_align_vec3h","struct_align_vec4h","struct_size_roundup","struct_inner_size","struct_inner_align","struct_inner_size_and_align","struct_override_size","struct_double_align","array_vec3u_align","array_vec3h_align","array_vec3u_stride","array_vec3h_stride","array_stride_size","array_mat2x2f_stride","array_mat2x2h_stride","array_mat3x2f_stride","array_mat3x2h_stride","array_mat4x2f_stride","array_mat4x2h_stride","array_mat2x3f_stride","array_mat2x3h_stride","array_mat3x3f_stride","array_mat3x3h_stride","array_mat4x3f_stride","array_mat4x3h_stride","array_mat2x4f_stride","array_mat2x4h_stride","array_mat3x4f_stride","array_mat3x4h_stride","array_mat4x4f_stride","array_mat4x4h_stride","test","desc","params","u","combine","beginSubcases","beforeAllSubcases","t","testcase","case","skipIf","includes","aspace","fn","skipIfDeviceDoesNotHaveFeature","code","usage","GPUBufferUsage","COPY_SRC","UNIFORM","STORAGE","inMagicNumber","in_buffer","makeBufferWithContents","Uint32Array","x","out_buffer","COPY_DST","pipeline","device","createComputePipeline","layout","compute","module","createShaderModule","entryPoint","bg","createBindGroup","getBindGroupLayout","entries","binding","resource","buffer","encoder","createCommandEncoder","pass","beginComputePass","setPipeline","setBindGroup","dispatchWorkgroups","end","queue","submit","finish","expectGPUBufferValuesEqual","outMagicNumber","expect"],"sources":["../../../../src/webgpu/shader/execution/memory_layout.spec.ts"],"sourcesContent":["export const description = `Test memory layout requirements`;\n\nimport { makeTestGroup } from '../../../common/framework/test_group.js';\nimport { keysOf } from '../../../common/util/data_tables.js';\nimport { iterRange } from '../../../common/util/util.js';\nimport { AllFeaturesMaxLimitsGPUTest } from '../../gpu_test.js';\n\nexport const g = makeTestGroup(AllFeaturesMaxLimitsGPUTest);\n\ninterface LayoutCase {\n  type: string;\n  decl?: string;\n  read_assign: string;\n  write_assign: string;\n  offset: number;\n  f16?: boolean;\n  f32?: boolean;\n  skip_uniform?: boolean;\n}\n\nconst kLayoutCases: Record<string, LayoutCase> = {\n  vec2u_align8: {\n    type: `S_vec2u_align`,\n    decl: `struct S_vec2u_align {\n      x : u32,\n      y : vec2u,\n    }`,\n    read_assign: `out = in.y[1]`,\n    write_assign: `out.y[1] = in`,\n    offset: 12,\n  },\n  vec3u_align16: {\n    type: `S_vec3u_align`,\n    decl: `struct S_vec3u_align {\n      x : u32,\n      y : vec3u,\n    }`,\n    read_assign: `out = in.y[2]`,\n    write_assign: `out.y[2] = in`,\n    offset: 24,\n  },\n  vec4u_align16: {\n    type: `S_vec4u_align`,\n    decl: `struct S_vec4u_align {\n      x : u32,\n      y : vec4u,\n    }`,\n    read_assign: `out = in.y[0]`,\n    write_assign: `out.y[0] = in`,\n    offset: 16,\n  },\n  struct_align32: {\n    type: `S_align32`,\n    decl: `struct S_align32 {\n      x : u32,\n      @align(32) y : u32,\n    }`,\n    read_assign: `out = in.y;`,\n    write_assign: `out.y = in`,\n    offset: 32,\n  },\n  vec2h_align4: {\n    type: `S_vec2h_align`,\n    decl: `struct S_vec2h_align {\n      x : f16,\n      y : vec2h,\n    }`,\n    read_assign: `out = u32(in.y[0])`,\n    write_assign: `out.y[0] = f16(in)`,\n    offset: 4,\n    f16: true,\n  },\n  vec3h_align8: {\n    type: `S_vec3h_align`,\n    decl: `struct S_vec3h_align {\n      x : f16,\n      y : vec3h,\n    }`,\n    read_assign: `out = u32(in.y[2])`,\n    write_assign: `out.y[2] = f16(in)`,\n    offset: 12,\n    f16: true,\n  },\n  vec4h_align8: {\n    type: `S_vec4h_align`,\n    decl: `struct S_vec4h_align {\n      x : f16,\n      y : vec4h,\n    }`,\n    read_assign: `out = u32(in.y[2])`,\n    write_assign: `out.y[2] = f16(in)`,\n    offset: 12,\n    f16: true,\n  },\n  vec2f_align8: {\n    type: `S_vec2f_align`,\n    decl: `struct S_vec2f_align {\n      x : u32,\n      y : vec2f,\n    }`,\n    read_assign: `out = u32(in.y[1])`,\n    write_assign: `out.y[1] = f32(in)`,\n    offset: 12,\n    f32: true,\n  },\n  vec3f_align16: {\n    type: `S_vec3f_align`,\n    decl: `struct S_vec3f_align {\n      x : u32,\n      y : vec3f,\n    }`,\n    read_assign: `out = u32(in.y[2])`,\n    write_assign: `out.y[2] = f32(in)`,\n    offset: 24,\n    f32: true,\n  },\n  vec4f_align16: {\n    type: `S_vec4f_align`,\n    decl: `struct S_vec4f_align {\n      x : u32,\n      y : vec4f,\n    }`,\n    read_assign: `out = u32(in.y[0])`,\n    write_assign: `out.y[0] = f32(in)`,\n    offset: 16,\n    f32: true,\n  },\n  vec3i_size12: {\n    type: `S_vec3i_size`,\n    decl: `struct S_vec3i_size {\n      x : vec3i,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 12,\n  },\n  vec3h_size6: {\n    type: `S_vec3h_size`,\n    decl: `struct S_vec3h_size {\n      x : vec3h,\n      y : f16,\n      z : f16,\n    }`,\n    read_assign: `out = u32(in.z)`,\n    write_assign: `out.z = f16(in)`,\n    offset: 8,\n    f16: true,\n  },\n  size80: {\n    type: `S_size80`,\n    decl: `struct S_size80 {\n      @size(80) x : u32,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 80,\n  },\n  atomic_align4: {\n    type: `S_atomic_align`,\n    decl: `struct S_atomic_align {\n      x : u32,\n      y : atomic<u32>,\n    }`,\n    read_assign: `out = atomicLoad(&in.y)`,\n    write_assign: `atomicStore(&out.y, in)`,\n    offset: 4,\n  },\n  atomic_size4: {\n    type: `S_atomic_size`,\n    decl: `struct S_atomic_size {\n      x : atomic<u32>,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 4,\n  },\n  mat2x2f_align8: {\n    type: `S_mat2x2f_align`,\n    decl: `struct S_mat2x2f_align {\n      x : u32,\n      y : mat2x2f,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f32(in)`,\n    offset: 8,\n    f32: true,\n  },\n  mat3x2f_align8: {\n    type: `S_mat3x2f_align`,\n    decl: `struct S_mat3x2f_align {\n      x : u32,\n      y : mat3x2f,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f32(in)`,\n    offset: 8,\n    f32: true,\n  },\n  mat4x2f_align8: {\n    type: `S_mat4x2f_align`,\n    decl: `struct S_mat4x2f_align {\n      x : u32,\n      y : mat4x2f,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f32(in)`,\n    offset: 8,\n    f32: true,\n  },\n  mat2x3f_align16: {\n    type: `S_mat2x3f_align`,\n    decl: `struct S_mat2x3f_align {\n      x : u32,\n      y : mat2x3f,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f32(in)`,\n    offset: 16,\n    f32: true,\n  },\n  mat3x3f_align16: {\n    type: `S_mat3x3f_align`,\n    decl: `struct S_mat3x3f_align {\n      x : u32,\n      y : mat3x3f,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f32(in)`,\n    offset: 16,\n    f32: true,\n  },\n  mat4x3f_align16: {\n    type: `S_mat4x3f_align`,\n    decl: `struct S_mat4x3f_align {\n      x : u32,\n      y : mat4x3f,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f32(in)`,\n    offset: 16,\n    f32: true,\n  },\n  mat2x4f_align16: {\n    type: `S_mat2x4f_align`,\n    decl: `struct S_mat2x4f_align {\n      x : u32,\n      y : mat2x4f,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f32(in)`,\n    offset: 16,\n    f32: true,\n  },\n  mat3x4f_align16: {\n    type: `S_mat3x4f_align`,\n    decl: `struct S_mat3x4f_align {\n      x : u32,\n      y : mat3x4f,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f32(in)`,\n    offset: 16,\n    f32: true,\n  },\n  mat4x4f_align16: {\n    type: `S_mat4x4f_align`,\n    decl: `struct S_mat4x4f_align {\n      x : u32,\n      y : mat4x4f,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f32(in)`,\n    offset: 16,\n    f32: true,\n  },\n  mat2x2h_align4: {\n    type: `S_mat2x2h_align`,\n    decl: `struct S_mat2x2h_align {\n      x : u32,\n      y : mat2x2h,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f16(in)`,\n    offset: 4,\n    f16: true,\n  },\n  mat3x2h_align4: {\n    type: `S_mat3x2h_align`,\n    decl: `struct S_mat3x2h_align {\n      x : u32,\n      y : mat3x2h,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f16(in)`,\n    offset: 4,\n    f16: true,\n  },\n  mat4x2h_align4: {\n    type: `S_mat4x2h_align`,\n    decl: `struct S_mat4x2h_align {\n      x : u32,\n      y : mat4x2h,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f16(in)`,\n    offset: 4,\n    f16: true,\n  },\n  mat2x3h_align8: {\n    type: `S_mat2x3h_align`,\n    decl: `struct S_mat2x3h_align {\n      x : u32,\n      y : mat2x3h,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f16(in)`,\n    offset: 8,\n    f16: true,\n  },\n  mat3x3h_align8: {\n    type: `S_mat3x3h_align`,\n    decl: `struct S_mat3x3h_align {\n      x : u32,\n      y : mat2x3h,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f16(in)`,\n    offset: 8,\n    f16: true,\n  },\n  mat4x3h_align8: {\n    type: `S_mat4x3h_align`,\n    decl: `struct S_mat4x3h_align {\n      x : u32,\n      y : mat4x3h,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f16(in)`,\n    offset: 8,\n    f16: true,\n  },\n  mat2x4h_align8: {\n    type: `S_mat2x4h_align`,\n    decl: `struct S_mat2x4h_align {\n      x : u32,\n      y : mat2x4h,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f16(in)`,\n    offset: 8,\n    f16: true,\n  },\n  mat3x4h_align8: {\n    type: `S_mat3x4h_align`,\n    decl: `struct S_mat3x4h_align {\n      x : u32,\n      y : mat3x4h,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f16(in)`,\n    offset: 8,\n    f16: true,\n  },\n  mat4x4h_align8: {\n    type: `S_mat4x4h_align`,\n    decl: `struct S_mat4x4h_align {\n      x : u32,\n      y : mat4x4h,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f16(in)`,\n    offset: 8,\n    f16: true,\n  },\n  mat2x2f_size: {\n    type: `S_mat2x2f_size`,\n    decl: `struct S_mat2x2f_size {\n      x : mat2x2f,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 16,\n  },\n  mat3x2f_size: {\n    type: `S_mat3x2f_size`,\n    decl: `struct S_mat3x2f_size {\n      x : mat3x2f,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 24,\n  },\n  mat4x2f_size: {\n    type: `S_mat4x2f_size`,\n    decl: `struct S_mat4x2f_size {\n      x : mat4x2f,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 32,\n  },\n  mat2x3f_size: {\n    type: `S_mat2x3f_size`,\n    decl: `struct S_mat2x3f_size {\n      x : mat2x3f,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 32,\n  },\n  mat3x3f_size: {\n    type: `S_mat3x3f_size`,\n    decl: `struct S_mat3x3f_size {\n      x : mat3x3f,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 48,\n  },\n  mat4x3f_size: {\n    type: `S_mat4x3f_size`,\n    decl: `struct S_mat4x3f_size {\n      x : mat4x3f,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 64,\n  },\n  mat2x4f_size: {\n    type: `S_mat2x4f_size`,\n    decl: `struct S_mat2x4f_size {\n      x : mat2x4f,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 32,\n  },\n  mat3x4f_size: {\n    type: `S_mat3x4f_size`,\n    decl: `struct S_mat3x4f_size {\n      x : mat3x4f,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 48,\n  },\n  mat4x4f_size: {\n    type: `S_mat4x4f_size`,\n    decl: `struct S_mat4x4f_size {\n      x : mat4x4f,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 64,\n  },\n  mat2x2h_size: {\n    type: `S_mat2x2h_size`,\n    decl: `struct S_mat2x2h_size {\n      x : mat2x2h,\n      y : f16,\n    }`,\n    read_assign: `out = u32(in.y)`,\n    write_assign: `out.y = f16(in)`,\n    offset: 8,\n    f16: true,\n  },\n  mat3x2h_size: {\n    type: `S_mat3x2h_size`,\n    decl: `struct S_mat3x2h_size {\n      x : mat3x2h,\n      y : f16,\n    }`,\n    read_assign: `out = u32(in.y)`,\n    write_assign: `out.y = f16(in)`,\n    offset: 12,\n    f16: true,\n  },\n  mat4x2h_size: {\n    type: `S_mat4x2h_size`,\n    decl: `struct S_mat4x2h_size {\n      x : mat4x2h,\n      y : f16,\n    }`,\n    read_assign: `out = u32(in.y)`,\n    write_assign: `out.y = f16(in)`,\n    offset: 16,\n    f16: true,\n  },\n  mat2x3h_size: {\n    type: `S_mat2x3h_size`,\n    decl: `struct S_mat2x3h_size {\n      x : mat2x3h,\n      y : f16,\n    }`,\n    read_assign: `out = u32(in.y)`,\n    write_assign: `out.y = f16(in)`,\n    offset: 16,\n    f16: true,\n  },\n  mat3x3h_size: {\n    type: `S_mat3x3h_size`,\n    decl: `struct S_mat3x3h_size {\n      x : mat3x3h,\n      y : f16,\n    }`,\n    read_assign: `out = u32(in.y)`,\n    write_assign: `out.y = f16(in)`,\n    offset: 24,\n    f16: true,\n  },\n  mat4x3h_size: {\n    type: `S_mat4x3h_size`,\n    decl: `struct S_mat4x3h_size {\n      x : mat4x3h,\n      y : f16,\n    }`,\n    read_assign: `out = u32(in.y)`,\n    write_assign: `out.y = f16(in)`,\n    offset: 32,\n    f16: true,\n  },\n  mat2x4h_size: {\n    type: `S_mat2x4h_size`,\n    decl: `struct S_mat2x4h_size {\n      x : mat2x4h,\n      y : f16,\n    }`,\n    read_assign: `out = u32(in.y)`,\n    write_assign: `out.y = f16(in)`,\n    offset: 16,\n    f16: true,\n  },\n  mat3x4h_size: {\n    type: `S_mat3x4h_size`,\n    decl: `struct S_mat3x4h_size {\n      x : mat3x4h,\n      y : f16,\n    }`,\n    read_assign: `out = u32(in.y)`,\n    write_assign: `out.y = f16(in)`,\n    offset: 24,\n    f16: true,\n  },\n  mat4x4h_size: {\n    type: `S_mat4x4h_size`,\n    decl: `struct S_mat4x4h_size {\n      x : mat4x4h,\n      y : f16,\n    }`,\n    read_assign: `out = u32(in.y)`,\n    write_assign: `out.y = f16(in)`,\n    offset: 32,\n    f16: true,\n  },\n  struct_align_vec2i: {\n    type: `S_struct_align_vec2i`,\n    decl: `struct Inner {\n      x : u32,\n      y : vec2i,\n    }\n    struct S_struct_align_vec2i {\n      x : u32,\n      y : Inner,\n    }`,\n    read_assign: `out = in.y.x`,\n    write_assign: `out.y.x = in`,\n    offset: 8,\n    skip_uniform: true,\n  },\n  struct_align_vec3i: {\n    type: `S_struct_align_vec3i`,\n    decl: `struct Inner {\n      x : u32,\n      y : vec3i,\n    }\n    struct S_struct_align_vec3i {\n      x : u32,\n      y : Inner,\n    }`,\n    read_assign: `out = in.y.x`,\n    write_assign: `out.y.x = in`,\n    offset: 16,\n  },\n  struct_align_vec4i: {\n    type: `S_struct_align_vec4i`,\n    decl: `struct Inner {\n      x : u32,\n      y : vec4i,\n    }\n    struct S_struct_align_vec4i {\n      x : u32,\n      y : Inner,\n    }`,\n    read_assign: `out = in.y.x`,\n    write_assign: `out.y.x = in`,\n    offset: 16,\n  },\n  struct_align_vec2h: {\n    type: `S_struct_align_vec2h`,\n    decl: `struct Inner {\n      x : f16,\n      y : vec2h,\n    }\n    struct S_struct_align_vec2h {\n      x : f16,\n      y : Inner,\n    }`,\n    read_assign: `out = u32(in.y.x)`,\n    write_assign: `out.y.x = f16(in)`,\n    offset: 4,\n    f16: true,\n    skip_uniform: true,\n  },\n  struct_align_vec3h: {\n    type: `S_struct_align_vec3h`,\n    decl: `struct Inner {\n      x : f16,\n      y : vec3h,\n    }\n    struct S_struct_align_vec3h {\n      x : f16,\n      y : Inner,\n    }`,\n    read_assign: `out = u32(in.y.x)`,\n    write_assign: `out.y.x = f16(in)`,\n    offset: 8,\n    f16: true,\n    skip_uniform: true,\n  },\n  struct_align_vec4h: {\n    type: `S_struct_align_vec4h`,\n    decl: `struct Inner {\n      x : f16,\n      y : vec4h,\n    }\n    struct S_struct_align_vec4h {\n      x : f16,\n      y : Inner,\n    }`,\n    read_assign: `out = u32(in.y.x)`,\n    write_assign: `out.y.x = f16(in)`,\n    offset: 8,\n    f16: true,\n    skip_uniform: true,\n  },\n  struct_size_roundup: {\n    type: `S_struct_size_roundup`,\n    decl: `struct Inner {\n      x : vec3u,\n    }\n    struct S_struct_size_roundup {\n      x : Inner,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 16,\n  },\n  struct_inner_size: {\n    type: `S_struct_inner_size`,\n    decl: `struct Inner {\n      @size(112) x : u32,\n    }\n    struct S_struct_inner_size {\n      x : Inner,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 112,\n  },\n  struct_inner_align: {\n    type: `S_struct_inner_align`,\n    decl: `struct Inner {\n      @align(64) x : u32,\n    }\n    struct S_struct_inner_align {\n      x : u32,\n      y : Inner,\n    }`,\n    read_assign: `out = in.y.x`,\n    write_assign: `out.y.x = in`,\n    offset: 64,\n  },\n  struct_inner_size_and_align: {\n    type: `S_struct_inner_size_and_align`,\n    decl: `struct Inner {\n      @align(32) @size(33) x : u32,\n    }\n    struct S_struct_inner_size_and_align {\n      x : Inner,\n      y : Inner,\n    }`,\n    read_assign: `out = in.y.x`,\n    write_assign: `out.y.x = in`,\n    offset: 64,\n  },\n  struct_override_size: {\n    type: `S_struct_override_size`,\n    decl: `struct Inner {\n      @size(32) x : u32,\n    }\n    struct S_struct_override_size {\n      @size(64) x : Inner,\n      y : u32,\n    }`,\n    read_assign: `out = in.y`,\n    write_assign: `out.y = in`,\n    offset: 64,\n  },\n  struct_double_align: {\n    type: `S_struct_double_align`,\n    decl: `struct Inner {\n      x : u32,\n      @align(32) y : u32,\n    }\n    struct S_struct_double_align {\n      x : u32,\n      @align(64) y : Inner,\n    }`,\n    read_assign: `out = in.y.y`,\n    write_assign: `out.y.y = in`,\n    offset: 96,\n  },\n  array_vec3u_align: {\n    type: `S_array_vec3u_align`,\n    decl: `struct S_array_vec3u_align {\n      x : u32,\n      y : array<vec3u, 2>,\n    }`,\n    read_assign: `out = in.y[0][0]`,\n    write_assign: `out.y[0][0] = in`,\n    offset: 16,\n  },\n  array_vec3h_align: {\n    type: `S_array_vec3h_align`,\n    decl: `struct S_array_vec3h_align {\n      x : f16,\n      y : array<vec3h, 2>,\n    }`,\n    read_assign: `out = u32(in.y[0][0])`,\n    write_assign: `out.y[0][0] = f16(in)`,\n    offset: 8,\n    f16: true,\n    skip_uniform: true,\n  },\n  array_vec3u_stride: {\n    type: `S_array_vec3u_stride`,\n    decl: `struct S_array_vec3u_stride {\n      x : array<vec3u, 4>,\n    }`,\n    read_assign: `out = in.x[1][0]`,\n    write_assign: `out.x[1][0] = in`,\n    offset: 16,\n  },\n  array_vec3h_stride: {\n    type: `S_array_vec3h_stride`,\n    decl: `struct S_array_vec3h_stride {\n      x : array<vec3h, 4>,\n    }`,\n    read_assign: `out = u32(in.x[1][0])`,\n    write_assign: `out.x[1][0] = f16(in)`,\n    offset: 8,\n    f16: true,\n    skip_uniform: true,\n  },\n  array_stride_size: {\n    type: `array<S_stride, 4>`,\n    decl: `struct S_stride {\n      @size(16) x : u32,\n    }`,\n    read_assign: `out = in[2].x`,\n    write_assign: `out[2].x = in`,\n    offset: 32,\n  },\n  array_mat2x2f_stride: {\n    type: `array<mat2x2f, 4>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f32(in)`,\n    offset: 16,\n    f32: true,\n  },\n  array_mat2x2h_stride: {\n    type: `array<mat2x2h, 2>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f16(in)`,\n    offset: 8,\n    f16: true,\n    skip_uniform: true,\n  },\n  array_mat3x2f_stride: {\n    type: `array<mat3x2f, 3>`,\n    read_assign: `out = u32(in[2][0][0])`,\n    write_assign: `out[2][0][0] = f32(in)`,\n    offset: 48,\n    f32: true,\n    skip_uniform: true,\n  },\n  array_mat3x2h_stride: {\n    type: `array<mat3x2h, 2>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f16(in)`,\n    offset: 12,\n    f16: true,\n    skip_uniform: true,\n  },\n  array_mat4x2f_stride: {\n    type: `array<mat4x2f, 4>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f32(in)`,\n    offset: 32,\n    f32: true,\n  },\n  array_mat4x2h_stride: {\n    type: `array<mat4x2h, 2>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f16(in)`,\n    offset: 16,\n    f16: true,\n  },\n  array_mat2x3f_stride: {\n    type: `array<mat2x3f, 4>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f32(in)`,\n    offset: 32,\n    f32: true,\n  },\n  array_mat2x3h_stride: {\n    type: `array<mat2x3h, 2>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f16(in)`,\n    offset: 16,\n    f16: true,\n  },\n  array_mat3x3f_stride: {\n    type: `array<mat3x3f, 3>`,\n    read_assign: `out = u32(in[2][0][0])`,\n    write_assign: `out[2][0][0] = f32(in)`,\n    offset: 96,\n    f32: true,\n  },\n  array_mat3x3h_stride: {\n    type: `array<mat3x3h, 2>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f16(in)`,\n    offset: 24,\n    f16: true,\n    skip_uniform: true,\n  },\n  array_mat4x3f_stride: {\n    type: `array<mat4x3f, 4>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f32(in)`,\n    offset: 64,\n    f32: true,\n  },\n  array_mat4x3h_stride: {\n    type: `array<mat4x3h, 2>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f16(in)`,\n    offset: 32,\n    f16: true,\n  },\n  array_mat2x4f_stride: {\n    type: `array<mat2x4f, 4>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f32(in)`,\n    offset: 32,\n    f32: true,\n  },\n  array_mat2x4h_stride: {\n    type: `array<mat2x4h, 2>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f16(in)`,\n    offset: 16,\n    f16: true,\n  },\n  array_mat3x4f_stride: {\n    type: `array<mat3x4f, 3>`,\n    read_assign: `out = u32(in[2][0][0])`,\n    write_assign: `out[2][0][0] = f32(in)`,\n    offset: 96,\n    f32: true,\n  },\n  array_mat3x4h_stride: {\n    type: `array<mat3x4h, 2>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f16(in)`,\n    offset: 24,\n    f16: true,\n    skip_uniform: true,\n  },\n  array_mat4x4f_stride: {\n    type: `array<mat4x4f, 4>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f32(in)`,\n    offset: 64,\n    f32: true,\n  },\n  array_mat4x4h_stride: {\n    type: `array<mat4x4h, 2>`,\n    read_assign: `out = u32(in[1][0][0])`,\n    write_assign: `out[1][0][0] = f16(in)`,\n    offset: 32,\n    f16: true,\n  },\n};\n\ng.test('read_layout')\n  .desc('Test reading memory layouts')\n  .params(u =>\n    u\n      .combine('case', keysOf(kLayoutCases))\n      .combine('aspace', ['storage', 'uniform', 'workgroup', 'function', 'private'] as const)\n      .beginSubcases()\n  )\n  .beforeAllSubcases(t => {\n    const testcase = kLayoutCases[t.params.case];\n    // Don't test atomics in workgroup due to initialization boilerplate.\n    t.skipIf(\n      testcase.type.includes('atomic') && t.params.aspace !== 'storage',\n      `Skipping atomic test for non-storage address space`\n    );\n\n    t.skipIf(\n      testcase.skip_uniform === true && t.params.aspace === 'uniform',\n      `Uniform requires 16 byte alignment`\n    );\n  })\n  .fn(t => {\n    const testcase = kLayoutCases[t.params.case];\n    if (testcase.f16) {\n      t.skipIfDeviceDoesNotHaveFeature('shader-f16');\n    }\n\n    let code = `\n${testcase.f16 ? 'enable f16;' : ''}\n${testcase.decl ?? ''}\n\n@group(0) @binding(1)\nvar<storage, read_write> out : u32;\n`;\n\n    if (t.params.aspace === 'uniform') {\n      code += `@group(0) @binding(0)\n      var<${t.params.aspace}> in : ${testcase.type};`;\n    } else if (t.params.aspace === 'storage') {\n      // Use read_write for input data to support atomics.\n      code += `@group(0) @binding(0)\n      var<${t.params.aspace}, read_write> in : ${testcase.type};`;\n    } else {\n      code += `@group(0) @binding(0)\n      var<storage> pre_in : ${testcase.type};`;\n      if (t.params.aspace === 'workgroup') {\n        code += `\n        var<workgroup> in : ${testcase.type};`;\n      } else if (t.params.aspace === 'private') {\n        code += `\n        var<private> in : ${testcase.type};`;\n      }\n    }\n\n    code += `\n@compute @workgroup_size(1,1,1)\nfn main() {\n`;\n\n    if (\n      t.params.aspace === 'workgroup' ||\n      t.params.aspace === 'function' ||\n      t.params.aspace === 'private'\n    ) {\n      if (t.params.aspace === 'function') {\n        code += `var in : ${testcase.type};\\n`;\n      }\n      code += `in = pre_in;`;\n      if (t.params.aspace === 'workgroup') {\n        code += `workgroupBarrier();\\n`;\n      }\n    }\n\n    code += `\\n${testcase.read_assign};\\n}`;\n\n    let usage = GPUBufferUsage.COPY_SRC;\n    if (t.params.aspace === 'uniform') {\n      usage |= GPUBufferUsage.UNIFORM;\n    } else {\n      usage |= GPUBufferUsage.STORAGE;\n    }\n\n    // Magic number is 42 in various representations.\n    const inMagicNumber = testcase.f16 ? 0x5140 : testcase.f32 ? 0x42280000 : 42;\n    const in_buffer = t.makeBufferWithContents(\n      new Uint32Array([\n        ...iterRange(128, x => {\n          if (x * 4 === testcase.offset) {\n            return inMagicNumber;\n          } else {\n            return 0;\n          }\n        }),\n      ]),\n      usage\n    );\n\n    const out_buffer = t.makeBufferWithContents(\n      new Uint32Array([...iterRange(1, x => 0)]),\n      GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_SRC | GPUBufferUsage.COPY_DST\n    );\n\n    const pipeline = t.device.createComputePipeline({\n      layout: 'auto',\n      compute: {\n        module: t.device.createShaderModule({\n          code,\n        }),\n        entryPoint: 'main',\n      },\n    });\n\n    const bg = t.device.createBindGroup({\n      layout: pipeline.getBindGroupLayout(0),\n      entries: [\n        {\n          binding: 0,\n          resource: {\n            buffer: in_buffer,\n          },\n        },\n        {\n          binding: 1,\n          resource: {\n            buffer: out_buffer,\n          },\n        },\n      ],\n    });\n\n    const encoder = t.device.createCommandEncoder();\n    const pass = encoder.beginComputePass();\n    pass.setPipeline(pipeline);\n    pass.setBindGroup(0, bg);\n    pass.dispatchWorkgroups(1, 1, 1);\n    pass.end();\n    t.queue.submit([encoder.finish()]);\n\n    t.expectGPUBufferValuesEqual(out_buffer, new Uint32Array([42]));\n  });\n\ng.test('write_layout')\n  .desc('Test writing memory layouts')\n  .params(u =>\n    u\n      .combine('case', keysOf(kLayoutCases))\n      .combine('aspace', ['storage', 'workgroup', 'function', 'private'] as const)\n      .beginSubcases()\n  )\n  .beforeAllSubcases(t => {\n    const testcase = kLayoutCases[t.params.case];\n    // Don't test atomics in workgroup due to initialization boilerplate.\n    t.skipIf(\n      testcase.type.includes('atomic') && t.params.aspace !== 'storage',\n      `Skipping atomic test for non-storage address space`\n    );\n  })\n  .fn(t => {\n    const testcase = kLayoutCases[t.params.case];\n    if (testcase.f16) {\n      t.skipIfDeviceDoesNotHaveFeature('shader-f16');\n    }\n\n    let code = `\n${testcase.f16 ? 'enable f16;' : ''}\n${testcase.decl ?? ''}\n\n@group(0) @binding(0)\nvar<storage> in : u32;\n`;\n\n    if (t.params.aspace === 'storage') {\n      code += `@group(0) @binding(1)\n      var<storage, read_write> out : ${testcase.type};\\n`;\n    } else {\n      code += `@group(0) @binding(1)\n      var<storage, read_write> post_out : ${testcase.type};\\n`;\n\n      if (t.params.aspace === 'workgroup') {\n        code += `var<workgroup> out : ${testcase.type};\\n`;\n      } else if (t.params.aspace === 'private') {\n        code += `var<private> out : ${testcase.type};\\n`;\n      }\n    }\n\n    code += `\n@compute @workgroup_size(1,1,1)\nfn main() {\n`;\n\n    if (t.params.aspace === 'function') {\n      code += `var out : ${testcase.type};\\n`;\n    }\n\n    code += `${testcase.write_assign};\\n`;\n    if (\n      t.params.aspace === 'workgroup' ||\n      t.params.aspace === 'function' ||\n      t.params.aspace === 'private'\n    ) {\n      if (t.params.aspace === 'workgroup') {\n        code += `workgroupBarrier();\\n`;\n      }\n      code += `post_out = out;`;\n    }\n\n    code += `\\n}`;\n\n    const in_buffer = t.makeBufferWithContents(\n      new Uint32Array([42]),\n      GPUBufferUsage.COPY_SRC | GPUBufferUsage.STORAGE\n    );\n\n    const out_buffer = t.makeBufferWithContents(\n      new Uint32Array([...iterRange(128, x => 0)]),\n      GPUBufferUsage.STORAGE | GPUBufferUsage.COPY_SRC | GPUBufferUsage.COPY_DST\n    );\n\n    const pipeline = t.device.createComputePipeline({\n      layout: 'auto',\n      compute: {\n        module: t.device.createShaderModule({\n          code,\n        }),\n        entryPoint: 'main',\n      },\n    });\n\n    const bg = t.device.createBindGroup({\n      layout: pipeline.getBindGroupLayout(0),\n      entries: [\n        {\n          binding: 0,\n          resource: {\n            buffer: in_buffer,\n          },\n        },\n        {\n          binding: 1,\n          resource: {\n            buffer: out_buffer,\n          },\n        },\n      ],\n    });\n\n    const encoder = t.device.createCommandEncoder();\n    const pass = encoder.beginComputePass();\n    pass.setPipeline(pipeline);\n    pass.setBindGroup(0, bg);\n    pass.dispatchWorkgroups(1, 1, 1);\n    pass.end();\n    t.queue.submit([encoder.finish()]);\n\n    // Magic number is 42 in various representations.\n    const outMagicNumber = testcase.f16 ? 0x5140 : testcase.f32 ? 0x42280000 : 42;\n    const expect = new Uint32Array([\n      ...iterRange(128, x => {\n        if (x * 4 === testcase.offset) {\n          return outMagicNumber;\n        } else {\n          return 0;\n        }\n      }),\n    ]);\n\n    t.expectGPUBufferValuesEqual(out_buffer, expect);\n  });\n"],"mappings":";;GAAA,OAAO,MAAMA,WAAW,GAAI,iCAAgC,CAE5D,SAASC,aAAa,QAAQ,yCAAyC;AACvE,SAASC,MAAM,QAAQ,qCAAqC;AAC5D,SAASC,SAAS,QAAQ,8BAA8B;AACxD,SAASC,2BAA2B,QAAQ,mBAAmB;;AAE/D,OAAO,MAAMC,CAAC,GAAGJ,aAAa,CAACG,2BAA2B,CAAC;;;;;;;;;;;;;AAa3D,MAAME,YAAwC,GAAG;EAC/CC,YAAY,EAAE;IACZC,IAAI,EAAG,eAAc;IACrBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,eAAc;IAC5BC,YAAY,EAAG,eAAc;IAC7BC,MAAM,EAAE;EACV,CAAC;EACDC,aAAa,EAAE;IACbL,IAAI,EAAG,eAAc;IACrBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,eAAc;IAC5BC,YAAY,EAAG,eAAc;IAC7BC,MAAM,EAAE;EACV,CAAC;EACDE,aAAa,EAAE;IACbN,IAAI,EAAG,eAAc;IACrBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,eAAc;IAC5BC,YAAY,EAAG,eAAc;IAC7BC,MAAM,EAAE;EACV,CAAC;EACDG,cAAc,EAAE;IACdP,IAAI,EAAG,WAAU;IACjBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,aAAY;IAC1BC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACDI,YAAY,EAAE;IACZR,IAAI,EAAG,eAAc;IACrBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,oBAAmB;IACjCC,YAAY,EAAG,oBAAmB;IAClCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACDC,YAAY,EAAE;IACZV,IAAI,EAAG,eAAc;IACrBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,oBAAmB;IACjCC,YAAY,EAAG,oBAAmB;IAClCC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACDE,YAAY,EAAE;IACZX,IAAI,EAAG,eAAc;IACrBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,oBAAmB;IACjCC,YAAY,EAAG,oBAAmB;IAClCC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACDG,YAAY,EAAE;IACZZ,IAAI,EAAG,eAAc;IACrBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,oBAAmB;IACjCC,YAAY,EAAG,oBAAmB;IAClCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDC,aAAa,EAAE;IACbd,IAAI,EAAG,eAAc;IACrBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,oBAAmB;IACjCC,YAAY,EAAG,oBAAmB;IAClCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDE,aAAa,EAAE;IACbf,IAAI,EAAG,eAAc;IACrBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,oBAAmB;IACjCC,YAAY,EAAG,oBAAmB;IAClCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDG,YAAY,EAAE;IACZhB,IAAI,EAAG,cAAa;IACpBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACDa,WAAW,EAAE;IACXjB,IAAI,EAAG,cAAa;IACpBC,IAAI,EAAG;AACX;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,iBAAgB;IAC9BC,YAAY,EAAG,iBAAgB;IAC/BC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACDS,MAAM,EAAE;IACNlB,IAAI,EAAG,UAAS;IAChBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACDe,aAAa,EAAE;IACbnB,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,yBAAwB;IACtCC,YAAY,EAAG,yBAAwB;IACvCC,MAAM,EAAE;EACV,CAAC;EACDgB,YAAY,EAAE;IACZpB,IAAI,EAAG,eAAc;IACrBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACDiB,cAAc,EAAE;IACdrB,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTS,GAAG,EAAE;EACP,CAAC;EACDS,cAAc,EAAE;IACdtB,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTS,GAAG,EAAE;EACP,CAAC;EACDU,cAAc,EAAE;IACdvB,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTS,GAAG,EAAE;EACP,CAAC;EACDW,eAAe,EAAE;IACfxB,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDY,eAAe,EAAE;IACfzB,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDa,eAAe,EAAE;IACf1B,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDc,eAAe,EAAE;IACf3B,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDe,eAAe,EAAE;IACf5B,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDgB,eAAe,EAAE;IACf7B,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDiB,cAAc,EAAE;IACd9B,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACDsB,cAAc,EAAE;IACd/B,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACDuB,cAAc,EAAE;IACdhC,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACDwB,cAAc,EAAE;IACdjC,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACDyB,cAAc,EAAE;IACdlC,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACD0B,cAAc,EAAE;IACdnC,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACD2B,cAAc,EAAE;IACdpC,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACD4B,cAAc,EAAE;IACdrC,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACD6B,cAAc,EAAE;IACdtC,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACD8B,YAAY,EAAE;IACZvC,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACDoC,YAAY,EAAE;IACZxC,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACDqC,YAAY,EAAE;IACZzC,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACDsC,YAAY,EAAE;IACZ1C,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACDuC,YAAY,EAAE;IACZ3C,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACDwC,YAAY,EAAE;IACZ5C,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACDyC,YAAY,EAAE;IACZ7C,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACD0C,YAAY,EAAE;IACZ9C,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACD2C,YAAY,EAAE;IACZ/C,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACD4C,YAAY,EAAE;IACZhD,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,iBAAgB;IAC9BC,YAAY,EAAG,iBAAgB;IAC/BC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE;EACP,CAAC;EACDwC,YAAY,EAAE;IACZjD,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,iBAAgB;IAC9BC,YAAY,EAAG,iBAAgB;IAC/BC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACDyC,YAAY,EAAE;IACZlD,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,iBAAgB;IAC9BC,YAAY,EAAG,iBAAgB;IAC/BC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACD0C,YAAY,EAAE;IACZnD,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,iBAAgB;IAC9BC,YAAY,EAAG,iBAAgB;IAC/BC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACD2C,YAAY,EAAE;IACZpD,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,iBAAgB;IAC9BC,YAAY,EAAG,iBAAgB;IAC/BC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACD4C,YAAY,EAAE;IACZrD,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,iBAAgB;IAC9BC,YAAY,EAAG,iBAAgB;IAC/BC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACD6C,YAAY,EAAE;IACZtD,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,iBAAgB;IAC9BC,YAAY,EAAG,iBAAgB;IAC/BC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACD8C,YAAY,EAAE;IACZvD,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,iBAAgB;IAC9BC,YAAY,EAAG,iBAAgB;IAC/BC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACD+C,YAAY,EAAE;IACZxD,IAAI,EAAG,gBAAe;IACtBC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,iBAAgB;IAC9BC,YAAY,EAAG,iBAAgB;IAC/BC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACDgD,kBAAkB,EAAE;IAClBzD,IAAI,EAAG,sBAAqB;IAC5BC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,cAAa;IAC3BC,YAAY,EAAG,cAAa;IAC5BC,MAAM,EAAE,CAAC;IACTsD,YAAY,EAAE;EAChB,CAAC;EACDC,kBAAkB,EAAE;IAClB3D,IAAI,EAAG,sBAAqB;IAC5BC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,cAAa;IAC3BC,YAAY,EAAG,cAAa;IAC5BC,MAAM,EAAE;EACV,CAAC;EACDwD,kBAAkB,EAAE;IAClB5D,IAAI,EAAG,sBAAqB;IAC5BC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,cAAa;IAC3BC,YAAY,EAAG,cAAa;IAC5BC,MAAM,EAAE;EACV,CAAC;EACDyD,kBAAkB,EAAE;IAClB7D,IAAI,EAAG,sBAAqB;IAC5BC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,mBAAkB;IAChCC,YAAY,EAAG,mBAAkB;IACjCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE,IAAI;IACTiD,YAAY,EAAE;EAChB,CAAC;EACDI,kBAAkB,EAAE;IAClB9D,IAAI,EAAG,sBAAqB;IAC5BC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,mBAAkB;IAChCC,YAAY,EAAG,mBAAkB;IACjCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE,IAAI;IACTiD,YAAY,EAAE;EAChB,CAAC;EACDK,kBAAkB,EAAE;IAClB/D,IAAI,EAAG,sBAAqB;IAC5BC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,mBAAkB;IAChCC,YAAY,EAAG,mBAAkB;IACjCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE,IAAI;IACTiD,YAAY,EAAE;EAChB,CAAC;EACDM,mBAAmB,EAAE;IACnBhE,IAAI,EAAG,uBAAsB;IAC7BC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACD6D,iBAAiB,EAAE;IACjBjE,IAAI,EAAG,qBAAoB;IAC3BC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACD8D,kBAAkB,EAAE;IAClBlE,IAAI,EAAG,sBAAqB;IAC5BC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,cAAa;IAC3BC,YAAY,EAAG,cAAa;IAC5BC,MAAM,EAAE;EACV,CAAC;EACD+D,2BAA2B,EAAE;IAC3BnE,IAAI,EAAG,+BAA8B;IACrCC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,cAAa;IAC3BC,YAAY,EAAG,cAAa;IAC5BC,MAAM,EAAE;EACV,CAAC;EACDgE,oBAAoB,EAAE;IACpBpE,IAAI,EAAG,wBAAuB;IAC9BC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,YAAW;IACzBC,YAAY,EAAG,YAAW;IAC1BC,MAAM,EAAE;EACV,CAAC;EACDiE,mBAAmB,EAAE;IACnBrE,IAAI,EAAG,uBAAsB;IAC7BC,IAAI,EAAG;AACX;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;IACFC,WAAW,EAAG,cAAa;IAC3BC,YAAY,EAAG,cAAa;IAC5BC,MAAM,EAAE;EACV,CAAC;EACDkE,iBAAiB,EAAE;IACjBtE,IAAI,EAAG,qBAAoB;IAC3BC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,kBAAiB;IAC/BC,YAAY,EAAG,kBAAiB;IAChCC,MAAM,EAAE;EACV,CAAC;EACDmE,iBAAiB,EAAE;IACjBvE,IAAI,EAAG,qBAAoB;IAC3BC,IAAI,EAAG;AACX;AACA;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE,IAAI;IACTiD,YAAY,EAAE;EAChB,CAAC;EACDc,kBAAkB,EAAE;IAClBxE,IAAI,EAAG,sBAAqB;IAC5BC,IAAI,EAAG;AACX;AACA,MAAM;IACFC,WAAW,EAAG,kBAAiB;IAC/BC,YAAY,EAAG,kBAAiB;IAChCC,MAAM,EAAE;EACV,CAAC;EACDqE,kBAAkB,EAAE;IAClBzE,IAAI,EAAG,sBAAqB;IAC5BC,IAAI,EAAG;AACX;AACA,MAAM;IACFC,WAAW,EAAG,uBAAsB;IACpCC,YAAY,EAAG,uBAAsB;IACrCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE,IAAI;IACTiD,YAAY,EAAE;EAChB,CAAC;EACDgB,iBAAiB,EAAE;IACjB1E,IAAI,EAAG,oBAAmB;IAC1BC,IAAI,EAAG;AACX;AACA,MAAM;IACFC,WAAW,EAAG,eAAc;IAC5BC,YAAY,EAAG,eAAc;IAC7BC,MAAM,EAAE;EACV,CAAC;EACDuE,oBAAoB,EAAE;IACpB3E,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACD+D,oBAAoB,EAAE;IACpB5E,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,CAAC;IACTK,GAAG,EAAE,IAAI;IACTiD,YAAY,EAAE;EAChB,CAAC;EACDmB,oBAAoB,EAAE;IACpB7E,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE,IAAI;IACT6C,YAAY,EAAE;EAChB,CAAC;EACDoB,oBAAoB,EAAE;IACpB9E,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE,IAAI;IACTiD,YAAY,EAAE;EAChB,CAAC;EACDqB,oBAAoB,EAAE;IACpB/E,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDmE,oBAAoB,EAAE;IACpBhF,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACDwE,oBAAoB,EAAE;IACpBjF,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDqE,oBAAoB,EAAE;IACpBlF,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACD0E,oBAAoB,EAAE;IACpBnF,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDuE,oBAAoB,EAAE;IACpBpF,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE,IAAI;IACTiD,YAAY,EAAE;EAChB,CAAC;EACD2B,oBAAoB,EAAE;IACpBrF,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACDyE,oBAAoB,EAAE;IACpBtF,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACD8E,oBAAoB,EAAE;IACpBvF,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACD2E,oBAAoB,EAAE;IACpBxF,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP,CAAC;EACDgF,oBAAoB,EAAE;IACpBzF,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACD6E,oBAAoB,EAAE;IACpB1F,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE,IAAI;IACTiD,YAAY,EAAE;EAChB,CAAC;EACDiC,oBAAoB,EAAE;IACpB3F,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVS,GAAG,EAAE;EACP,CAAC;EACD+E,oBAAoB,EAAE;IACpB5F,IAAI,EAAG,mBAAkB;IACzBE,WAAW,EAAG,wBAAuB;IACrCC,YAAY,EAAG,wBAAuB;IACtCC,MAAM,EAAE,EAAE;IACVK,GAAG,EAAE;EACP;AACF,CAAC;;AAEDZ,CAAC,CAACgG,IAAI,CAAC,aAAa,CAAC;AAClBC,IAAI,CAAC,6BAA6B,CAAC;AACnCC,MAAM,CAAC,CAAAC,CAAC;AACPA,CAAC;AACEC,OAAO,CAAC,MAAM,EAAEvG,MAAM,CAACI,YAAY,CAAC,CAAC;AACrCmG,OAAO,CAAC,QAAQ,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,SAAS,CAAU,CAAC;AACtFC,aAAa,CAAC;AACnB,CAAC;AACAC,iBAAiB,CAAC,CAAAC,CAAC,KAAI;EACtB,MAAMC,QAAQ,GAAGvG,YAAY,CAACsG,CAAC,CAACL,MAAM,CAACO,IAAI,CAAC;EAC5C;EACAF,CAAC,CAACG,MAAM;IACNF,QAAQ,CAACrG,IAAI,CAACwG,QAAQ,CAAC,QAAQ,CAAC,IAAIJ,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,SAAS;IAChE;EACH,CAAC;;EAEDL,CAAC,CAACG,MAAM;IACNF,QAAQ,CAAC3C,YAAY,KAAK,IAAI,IAAI0C,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,SAAS;IAC9D;EACH,CAAC;AACH,CAAC,CAAC;AACDC,EAAE,CAAC,CAAAN,CAAC,KAAI;EACP,MAAMC,QAAQ,GAAGvG,YAAY,CAACsG,CAAC,CAACL,MAAM,CAACO,IAAI,CAAC;EAC5C,IAAID,QAAQ,CAAC5F,GAAG,EAAE;IAChB2F,CAAC,CAACO,8BAA8B,CAAC,YAAY,CAAC;EAChD;;EAEA,IAAIC,IAAI,GAAI;AAChB,EAAEP,QAAQ,CAAC5F,GAAG,GAAG,aAAa,GAAG,EAAG;AACpC,EAAE4F,QAAQ,CAACpG,IAAI,IAAI,EAAG;AACtB;AACA;AACA;AACA,CAAC;;EAEG,IAAImG,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,SAAS,EAAE;IACjCG,IAAI,IAAK;AACf,YAAYR,CAAC,CAACL,MAAM,CAACU,MAAO,UAASJ,QAAQ,CAACrG,IAAK,GAAE;EACjD,CAAC,MAAM,IAAIoG,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,SAAS,EAAE;IACxC;IACAG,IAAI,IAAK;AACf,YAAYR,CAAC,CAACL,MAAM,CAACU,MAAO,sBAAqBJ,QAAQ,CAACrG,IAAK,GAAE;EAC7D,CAAC,MAAM;IACL4G,IAAI,IAAK;AACf,8BAA8BP,QAAQ,CAACrG,IAAK,GAAE;IACxC,IAAIoG,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,WAAW,EAAE;MACnCG,IAAI,IAAK;AACjB,8BAA8BP,QAAQ,CAACrG,IAAK,GAAE;IACxC,CAAC,MAAM,IAAIoG,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,SAAS,EAAE;MACxCG,IAAI,IAAK;AACjB,4BAA4BP,QAAQ,CAACrG,IAAK,GAAE;IACtC;EACF;;EAEA4G,IAAI,IAAK;AACb;AACA;AACA,CAAC;;EAEG;EACER,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,WAAW;EAC/BL,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,UAAU;EAC9BL,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,SAAS;EAC7B;IACA,IAAIL,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,UAAU,EAAE;MAClCG,IAAI,IAAK,YAAWP,QAAQ,CAACrG,IAAK,KAAI;IACxC;IACA4G,IAAI,IAAK,cAAa;IACtB,IAAIR,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,WAAW,EAAE;MACnCG,IAAI,IAAK,uBAAsB;IACjC;EACF;;EAEAA,IAAI,IAAK,KAAIP,QAAQ,CAACnG,WAAY,MAAK;;EAEvC,IAAI2G,KAAK,GAAGC,cAAc,CAACC,QAAQ;EACnC,IAAIX,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,SAAS,EAAE;IACjCI,KAAK,IAAIC,cAAc,CAACE,OAAO;EACjC,CAAC,MAAM;IACLH,KAAK,IAAIC,cAAc,CAACG,OAAO;EACjC;;EAEA;EACA,MAAMC,aAAa,GAAGb,QAAQ,CAAC5F,GAAG,GAAG,MAAM,GAAG4F,QAAQ,CAACxF,GAAG,GAAG,UAAU,GAAG,EAAE;EAC5E,MAAMsG,SAAS,GAAGf,CAAC,CAACgB,sBAAsB;IACxC,IAAIC,WAAW,CAAC;IACd,GAAG1H,SAAS,CAAC,GAAG,EAAE,CAAA2H,CAAC,KAAI;MACrB,IAAIA,CAAC,GAAG,CAAC,KAAKjB,QAAQ,CAACjG,MAAM,EAAE;QAC7B,OAAO8G,aAAa;MACtB,CAAC,MAAM;QACL,OAAO,CAAC;MACV;IACF,CAAC,CAAC;IACH,CAAC;IACFL;EACF,CAAC;;EAED,MAAMU,UAAU,GAAGnB,CAAC,CAACgB,sBAAsB;IACzC,IAAIC,WAAW,CAAC,CAAC,GAAG1H,SAAS,CAAC,CAAC,EAAE,CAAA2H,CAAC,KAAI,CAAC,CAAC,CAAC,CAAC;IAC1CR,cAAc,CAACG,OAAO,GAAGH,cAAc,CAACC,QAAQ,GAAGD,cAAc,CAACU;EACpE,CAAC;;EAED,MAAMC,QAAQ,GAAGrB,CAAC,CAACsB,MAAM,CAACC,qBAAqB,CAAC;IAC9CC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACPC,MAAM,EAAE1B,CAAC,CAACsB,MAAM,CAACK,kBAAkB,CAAC;QAClCnB;MACF,CAAC,CAAC;MACFoB,UAAU,EAAE;IACd;EACF,CAAC,CAAC;;EAEF,MAAMC,EAAE,GAAG7B,CAAC,CAACsB,MAAM,CAACQ,eAAe,CAAC;IAClCN,MAAM,EAAEH,QAAQ,CAACU,kBAAkB,CAAC,CAAC,CAAC;IACtCC,OAAO,EAAE;IACP;MACEC,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE;QACRC,MAAM,EAAEpB;MACV;IACF,CAAC;IACD;MACEkB,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE;QACRC,MAAM,EAAEhB;MACV;IACF,CAAC;;EAEL,CAAC,CAAC;;EAEF,MAAMiB,OAAO,GAAGpC,CAAC,CAACsB,MAAM,CAACe,oBAAoB,CAAC,CAAC;EAC/C,MAAMC,IAAI,GAAGF,OAAO,CAACG,gBAAgB,CAAC,CAAC;EACvCD,IAAI,CAACE,WAAW,CAACnB,QAAQ,CAAC;EAC1BiB,IAAI,CAACG,YAAY,CAAC,CAAC,EAAEZ,EAAE,CAAC;EACxBS,IAAI,CAACI,kBAAkB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAChCJ,IAAI,CAACK,GAAG,CAAC,CAAC;EACV3C,CAAC,CAAC4C,KAAK,CAACC,MAAM,CAAC,CAACT,OAAO,CAACU,MAAM,CAAC,CAAC,CAAC,CAAC;;EAElC9C,CAAC,CAAC+C,0BAA0B,CAAC5B,UAAU,EAAE,IAAIF,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACjE,CAAC,CAAC;;AAEJxH,CAAC,CAACgG,IAAI,CAAC,cAAc,CAAC;AACnBC,IAAI,CAAC,6BAA6B,CAAC;AACnCC,MAAM,CAAC,CAAAC,CAAC;AACPA,CAAC;AACEC,OAAO,CAAC,MAAM,EAAEvG,MAAM,CAACI,YAAY,CAAC,CAAC;AACrCmG,OAAO,CAAC,QAAQ,EAAE,CAAC,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,SAAS,CAAU,CAAC;AAC3EC,aAAa,CAAC;AACnB,CAAC;AACAC,iBAAiB,CAAC,CAAAC,CAAC,KAAI;EACtB,MAAMC,QAAQ,GAAGvG,YAAY,CAACsG,CAAC,CAACL,MAAM,CAACO,IAAI,CAAC;EAC5C;EACAF,CAAC,CAACG,MAAM;IACNF,QAAQ,CAACrG,IAAI,CAACwG,QAAQ,CAAC,QAAQ,CAAC,IAAIJ,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,SAAS;IAChE;EACH,CAAC;AACH,CAAC,CAAC;AACDC,EAAE,CAAC,CAAAN,CAAC,KAAI;EACP,MAAMC,QAAQ,GAAGvG,YAAY,CAACsG,CAAC,CAACL,MAAM,CAACO,IAAI,CAAC;EAC5C,IAAID,QAAQ,CAAC5F,GAAG,EAAE;IAChB2F,CAAC,CAACO,8BAA8B,CAAC,YAAY,CAAC;EAChD;;EAEA,IAAIC,IAAI,GAAI;AAChB,EAAEP,QAAQ,CAAC5F,GAAG,GAAG,aAAa,GAAG,EAAG;AACpC,EAAE4F,QAAQ,CAACpG,IAAI,IAAI,EAAG;AACtB;AACA;AACA;AACA,CAAC;;EAEG,IAAImG,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,SAAS,EAAE;IACjCG,IAAI,IAAK;AACf,uCAAuCP,QAAQ,CAACrG,IAAK,KAAI;EACrD,CAAC,MAAM;IACL4G,IAAI,IAAK;AACf,4CAA4CP,QAAQ,CAACrG,IAAK,KAAI;;IAExD,IAAIoG,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,WAAW,EAAE;MACnCG,IAAI,IAAK,wBAAuBP,QAAQ,CAACrG,IAAK,KAAI;IACpD,CAAC,MAAM,IAAIoG,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,SAAS,EAAE;MACxCG,IAAI,IAAK,sBAAqBP,QAAQ,CAACrG,IAAK,KAAI;IAClD;EACF;;EAEA4G,IAAI,IAAK;AACb;AACA;AACA,CAAC;;EAEG,IAAIR,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,UAAU,EAAE;IAClCG,IAAI,IAAK,aAAYP,QAAQ,CAACrG,IAAK,KAAI;EACzC;;EAEA4G,IAAI,IAAK,GAAEP,QAAQ,CAAClG,YAAa,KAAI;EACrC;EACEiG,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,WAAW;EAC/BL,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,UAAU;EAC9BL,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,SAAS;EAC7B;IACA,IAAIL,CAAC,CAACL,MAAM,CAACU,MAAM,KAAK,WAAW,EAAE;MACnCG,IAAI,IAAK,uBAAsB;IACjC;IACAA,IAAI,IAAK,iBAAgB;EAC3B;;EAEAA,IAAI,IAAK,KAAI;;EAEb,MAAMO,SAAS,GAAGf,CAAC,CAACgB,sBAAsB;IACxC,IAAIC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC;IACrBP,cAAc,CAACC,QAAQ,GAAGD,cAAc,CAACG;EAC3C,CAAC;;EAED,MAAMM,UAAU,GAAGnB,CAAC,CAACgB,sBAAsB;IACzC,IAAIC,WAAW,CAAC,CAAC,GAAG1H,SAAS,CAAC,GAAG,EAAE,CAAA2H,CAAC,KAAI,CAAC,CAAC,CAAC,CAAC;IAC5CR,cAAc,CAACG,OAAO,GAAGH,cAAc,CAACC,QAAQ,GAAGD,cAAc,CAACU;EACpE,CAAC;;EAED,MAAMC,QAAQ,GAAGrB,CAAC,CAACsB,MAAM,CAACC,qBAAqB,CAAC;IAC9CC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACPC,MAAM,EAAE1B,CAAC,CAACsB,MAAM,CAACK,kBAAkB,CAAC;QAClCnB;MACF,CAAC,CAAC;MACFoB,UAAU,EAAE;IACd;EACF,CAAC,CAAC;;EAEF,MAAMC,EAAE,GAAG7B,CAAC,CAACsB,MAAM,CAACQ,eAAe,CAAC;IAClCN,MAAM,EAAEH,QAAQ,CAACU,kBAAkB,CAAC,CAAC,CAAC;IACtCC,OAAO,EAAE;IACP;MACEC,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE;QACRC,MAAM,EAAEpB;MACV;IACF,CAAC;IACD;MACEkB,OAAO,EAAE,CAAC;MACVC,QAAQ,EAAE;QACRC,MAAM,EAAEhB;MACV;IACF,CAAC;;EAEL,CAAC,CAAC;;EAEF,MAAMiB,OAAO,GAAGpC,CAAC,CAACsB,MAAM,CAACe,oBAAoB,CAAC,CAAC;EAC/C,MAAMC,IAAI,GAAGF,OAAO,CAACG,gBAAgB,CAAC,CAAC;EACvCD,IAAI,CAACE,WAAW,CAACnB,QAAQ,CAAC;EAC1BiB,IAAI,CAACG,YAAY,CAAC,CAAC,EAAEZ,EAAE,CAAC;EACxBS,IAAI,CAACI,kBAAkB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;EAChCJ,IAAI,CAACK,GAAG,CAAC,CAAC;EACV3C,CAAC,CAAC4C,KAAK,CAACC,MAAM,CAAC,CAACT,OAAO,CAACU,MAAM,CAAC,CAAC,CAAC,CAAC;;EAElC;EACA,MAAME,cAAc,GAAG/C,QAAQ,CAAC5F,GAAG,GAAG,MAAM,GAAG4F,QAAQ,CAACxF,GAAG,GAAG,UAAU,GAAG,EAAE;EAC7E,MAAMwI,MAAM,GAAG,IAAIhC,WAAW,CAAC;EAC7B,GAAG1H,SAAS,CAAC,GAAG,EAAE,CAAA2H,CAAC,KAAI;IACrB,IAAIA,CAAC,GAAG,CAAC,KAAKjB,QAAQ,CAACjG,MAAM,EAAE;MAC7B,OAAOgJ,cAAc;IACvB,CAAC,MAAM;MACL,OAAO,CAAC;IACV;EACF,CAAC,CAAC;EACH,CAAC;;EAEFhD,CAAC,CAAC+C,0BAA0B,CAAC5B,UAAU,EAAE8B,MAAM,CAAC;AAClD,CAAC,CAAC"}