{"version":3,"file":"enable.spec.js","names":["description","makeTestGroup","keysOf","ShaderValidationTest","g","kCases","f16","code","pass","decl_before","after_decl","const_assert_before","const_assert_after","embedded_comment","parens","multi_line","multiple_enables","multipe_entries","unknown","test","desc","beforeAllSubcases","t","selectDeviceOrSkipTestCase","params","u","combine","fn","c","case","expectCompileResult"],"sources":["../../../../../src/webgpu/shader/validation/parse/enable.spec.ts"],"sourcesContent":["export const description = `Parser validation tests for enable`;\n\nimport { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { keysOf } from '../../../../common/util/data_tables.js';\nimport { ShaderValidationTest } from '../shader_validation_test.js';\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\nconst kCases = {\n  f16: { code: `enable f16;`, pass: true },\n  decl_before: {\n    code: `alias i = i32;\nenable f16;`,\n    pass: false,\n  },\n  after_decl: {\n    code: `enable f16;\nalias i = i32;`,\n    pass: true,\n  },\n  const_assert_before: {\n    code: `const_assert 1 == 1;\nenable f16;`,\n    pass: false,\n  },\n  const_assert_after: {\n    code: `enable f16;\nconst_assert 1 == 1;`,\n    pass: true,\n  },\n  embedded_comment: {\n    code: `/* comment\n\n*/enable f16;`,\n    pass: true,\n  },\n  parens: {\n    code: `enable(f16);`,\n    pass: false,\n  },\n  multi_line: {\n    code: `enable\nf16;`,\n    pass: true,\n  },\n  multiple_enables: {\n    code: `enable f16;\nenable f16;`,\n    pass: true,\n  },\n  multipe_entries: {\n    code: `enable f16, f16, f16;`,\n    pass: true,\n  },\n  unknown: {\n    code: `enable unknown;`,\n    pass: false,\n  },\n};\n\ng.test('enable')\n  .desc(`Tests that enables are validated correctly`)\n  .beforeAllSubcases(t => {\n    t.selectDeviceOrSkipTestCase('shader-f16');\n  })\n  .params(u => u.combine('case', keysOf(kCases)))\n  .fn(t => {\n    const c = kCases[t.params.case];\n    t.expectCompileResult(c.pass, c.code);\n  });\n"],"mappings":";AAAA;AAAA,GAAA,OAAO,MAAMA,WAAW,GAAI,oCAAmC,CAE/D,SAASC,aAAa,QAAQ,4CAA4C;AAC1E,SAASC,MAAM,QAAQ,wCAAwC;AAC/D,SAASC,oBAAoB,QAAQ,8BAA8B;;AAEnE,OAAO,MAAMC,CAAC,GAAGH,aAAa,CAACE,oBAAoB,CAAC;;AAEpD,MAAME,MAAM,GAAG;EACbC,GAAG,EAAE,EAAEC,IAAI,EAAG,aAAY,EAAEC,IAAI,EAAE,IAAI,CAAC,CAAC;EACxCC,WAAW,EAAE;IACXF,IAAI,EAAG;AACX,YAAY;IACRC,IAAI,EAAE;EACR,CAAC;EACDE,UAAU,EAAE;IACVH,IAAI,EAAG;AACX,eAAe;IACXC,IAAI,EAAE;EACR,CAAC;EACDG,mBAAmB,EAAE;IACnBJ,IAAI,EAAG;AACX,YAAY;IACRC,IAAI,EAAE;EACR,CAAC;EACDI,kBAAkB,EAAE;IAClBL,IAAI,EAAG;AACX,qBAAqB;IACjBC,IAAI,EAAE;EACR,CAAC;EACDK,gBAAgB,EAAE;IAChBN,IAAI,EAAG;AACX;AACA,cAAc;IACVC,IAAI,EAAE;EACR,CAAC;EACDM,MAAM,EAAE;IACNP,IAAI,EAAG,cAAa;IACpBC,IAAI,EAAE;EACR,CAAC;EACDO,UAAU,EAAE;IACVR,IAAI,EAAG;AACX,KAAK;IACDC,IAAI,EAAE;EACR,CAAC;EACDQ,gBAAgB,EAAE;IAChBT,IAAI,EAAG;AACX,YAAY;IACRC,IAAI,EAAE;EACR,CAAC;EACDS,eAAe,EAAE;IACfV,IAAI,EAAG,uBAAsB;IAC7BC,IAAI,EAAE;EACR,CAAC;EACDU,OAAO,EAAE;IACPX,IAAI,EAAG,iBAAgB;IACvBC,IAAI,EAAE;EACR;AACF,CAAC;;AAEDJ,CAAC,CAACe,IAAI,CAAC,QAAQ,CAAC;AACbC,IAAI,CAAE,4CAA2C,CAAC;AAClDC,iBAAiB,CAAC,CAAAC,CAAC,KAAI;EACtBA,CAAC,CAACC,0BAA0B,CAAC,YAAY,CAAC;AAC5C,CAAC,CAAC;AACDC,MAAM,CAAC,CAAAC,CAAC,KAAIA,CAAC,CAACC,OAAO,CAAC,MAAM,EAAExB,MAAM,CAACG,MAAM,CAAC,CAAC,CAAC;AAC9CsB,EAAE,CAAC,CAAAL,CAAC,KAAI;EACP,MAAMM,CAAC,GAAGvB,MAAM,CAACiB,CAAC,CAACE,MAAM,CAACK,IAAI,CAAC;EAC/BP,CAAC,CAACQ,mBAAmB,CAACF,CAAC,CAACpB,IAAI,EAAEoB,CAAC,CAACrB,IAAI,CAAC;AACvC,CAAC,CAAC"}