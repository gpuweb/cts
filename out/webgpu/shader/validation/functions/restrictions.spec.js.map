{"version":3,"file":"restrictions.spec.js","names":["description","makeTestGroup","keysOf","ShaderValidationTest","g","kCCommonTypeDecls","kVertexPosCases","bare_position","name","value","valid","nested_position","no_bare_position","no_nested_position","test","specURL","desc","params","u","combine","fn","t","testcase","case","code","expectCompileResult","use_attr","entry_point","ret_attr","stage","ret","indexOf","ret_value","call","stage_attr","kFunctionRetTypeCases","u32","i32","f32","bool","f16","vec2","vec3","vec4","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","array1","array2","array3","array4","array5","struct1","struct2","runtime_array","runtime_struct","override_array","atomic_u32","atomic_struct","texture_sample","texture_depth","texture_multisampled","texture_storage","sampler","sampler_comparison","ptr","beforeAllSubcases","selectDeviceOrSkipTestCase","enable","kFunctionParamTypeCases","ptr1","ptr2","ptr3","ptr4","ptr5","ptr6","ptr7","ptr8","ptr9","ptr10","ptr11","ptr12","ptrWorkgroupAtomic","ptrWorkgroupNestedAtomic","invalid_ptr1","invalid_ptr2","invalid_ptr3","invalid_ptr4","invalid_ptr5","invalid_ptr6","invalid_ptr7","invalid_ptr8","isValid","hasLanguageFeature","kFunctionParamValueCases","u32_literal","matches","i32_literal","f32_literal","bool_literal","abstract_int_literal","abstract_float_literal","vec2u_constructor","vec2i_constructor","vec2f_constructor","vec2b_constructor","vec3u_constructor","vec3i_constructor","vec3f_constructor","vec3b_constructor","vec4u_constructor","vec4i_constructor","vec4f_constructor","vec4b_constructor","vec2_abstract_int","vec2_abstract_float","vec3_abstract_int","vec3_abstract_float","vec4_abstract_int","vec4_abstract_float","mat2x2_constructor","mat2x3_constructor","mat2x4_constructor","mat3x2_constructor","mat3x3_constructor","mat3x4_constructor","mat4x2_constructor","mat4x3_constructor","mat4x4_constructor","array1_constructor","array2_constructor","array3_constructor","array4_constructor","array5_constructor","struct1_constructor","struct2_constructor","g_u32","g_i32","g_f32","g_bool","g_vec2","g_vec3","g_vec4","g_mat2x2","g_mat2x3","g_mat2x4","g_mat3x2","g_mat3x3","g_mat3x4","g_mat4x2","g_mat4x3","g_mat4x4","g_array1","g_array2","g_array3","g_array4","g_array5","g_constructible","g_struct_with_array","f_u32","f_i32","f_f32","f_bool","f_vec2","f_vec3","f_vec4","f_mat2x2","f_mat2x3","f_mat2x4","f_mat3x2","f_mat3x3","f_mat3x4","f_mat4x2","f_mat4x3","f_mat4x4","f_array1","f_array2","f_array3","f_array4","f_array5","f_constructible","f_struct_with_array","g_index_u32","g_index_i32","g_index_f32","g_index_bool","f_index_u32","f_index_i32","f_index_f32","f_index_bool","g_array_index_u32","g_array_index_i32","g_array_index_f32","g_array_index_bool","f_array_index_u32","f_array_index_i32","f_array_index_f32","f_array_index_bool","texture_external","ptr_let1","ptr_let2","ptr_let3","ptr_let4","ptr_let5","needsUnrestrictedPointerParameters","parameterMatches","decl","val","filter","beginSubcases","param","arg","p1","p2","kParamUseCases","body","var","const","override","function","use","i","num_params","num_args","kParamsTypes","kArgValues","abstract_int","abstract_float","unsigned_int","signed_int","float","checkArgTypeMatch","param_type","arg_matches","match","p1_type","arg1_value","res","p2_type","arg2_value","p3_type","arg3_value","has_p1","param_1","has_p2","param_2","has_c","comma","success","has_name","has_ty","ty","has_colon","colon","has_parens","parens","has_param","args","o","inner","outer","loc","kAttributes","align","attr","pass","func","binding","builtin","compute","diagnostic","fragment","group","id","interpolate","invariant","location","must_use","size","vertex","workgroup_size","d","placement","succeed","ret_stmt","overload"],"sources":["../../../../../src/webgpu/shader/validation/functions/restrictions.spec.ts"],"sourcesContent":["export const description = `Validation tests for function restrictions`;\n\nimport { makeTestGroup } from '../../../../common/framework/test_group.js';\nimport { keysOf } from '../../../../common/util/data_tables.js';\nimport { ShaderValidationTest } from '../shader_validation_test.js';\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\ninterface VertexPosCase {\n  name: string;\n  value: string;\n  valid: boolean;\n}\n\nconst kCCommonTypeDecls = `\nstruct runtime_array_struct {\n  arr : array<u32>\n}\n\nstruct constructible {\n  a : i32,\n  b : u32,\n  c : f32,\n  d : bool,\n}\n\nstruct host_shareable {\n  a : i32,\n  b : u32,\n  c : f32,\n}\n\nstruct struct_with_array {\n  a : array<constructible, 4>\n}\n\n`;\n\nconst kVertexPosCases: Record<string, VertexPosCase> = {\n  bare_position: { name: `@builtin(position) vec4f`, value: `vec4f()`, valid: true },\n  nested_position: { name: `pos_struct`, value: `pos_struct()`, valid: true },\n  no_bare_position: { name: `vec4f`, value: `vec4f()`, valid: false },\n  no_nested_position: { name: `no_pos_struct`, value: `no_pos_struct()`, valid: false },\n};\n\ng.test('vertex_returns_position')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test that a vertex shader should return position`)\n  .params(u => u.combine('case', keysOf(kVertexPosCases)))\n  .fn(t => {\n    const testcase = kVertexPosCases[t.params.case];\n    const code = `\nstruct pos_struct {\n  @builtin(position) pos : vec4f\n}\n\nstruct no_pos_struct {\n  @location(0) x : vec4f\n}\n\n@vertex\nfn main() -> ${testcase.name} {\n  return ${testcase.value};\n}`;\n\n    t.expectCompileResult(testcase.valid, code);\n  });\n\ng.test('entry_point_call_target')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test that an entry point cannot be the target of a function call`)\n  .params(u =>\n    u\n      .combine('stage', ['@fragment', '@vertex', '@compute @workgroup_size(1,1,1)'] as const)\n      .combine('entry_point', ['with', 'without'] as const)\n  )\n  .fn(t => {\n    const use_attr = t.params.entry_point === 'with';\n    let ret_attr = '';\n    if (use_attr && t.params.stage === '@vertex') {\n      ret_attr = '@builtin(position)';\n    }\n    const ret = t.params.stage.indexOf('@vertex') === 0 ? `-> ${ret_attr} vec4f` : '';\n    const ret_value = t.params.stage.indexOf('@vertex') === 0 ? `return vec4f();` : '';\n    const call = t.params.stage.indexOf('@vertex') === 0 ? 'let tmp = bar();' : 'bar();';\n    const stage_attr = use_attr ? t.params.stage : '';\n    const code = `\n${stage_attr}\nfn bar() ${ret} {\n  ${ret_value}\n}\n\nfn foo() {\n  ${call}\n}\n`;\n    t.expectCompileResult(!use_attr, code);\n  });\n\ninterface RetTypeCase {\n  name: string;\n  value: string;\n  valid: boolean;\n}\n\nconst kFunctionRetTypeCases: Record<string, RetTypeCase> = {\n  // Constructible types,\n  u32: { name: `u32`, value: ``, valid: true },\n  i32: { name: `i32`, value: ``, valid: true },\n  f32: { name: `f32`, value: ``, valid: true },\n  bool: { name: `bool`, value: ``, valid: true },\n  f16: { name: `f16`, value: ``, valid: true },\n  vec2: { name: `vec2u`, value: ``, valid: true },\n  vec3: { name: `vec3i`, value: ``, valid: true },\n  vec4: { name: `vec4f`, value: ``, valid: true },\n  mat2x2: { name: `mat2x2f`, value: ``, valid: true },\n  mat2x3: { name: `mat2x3f`, value: ``, valid: true },\n  mat2x4: { name: `mat2x4f`, value: ``, valid: true },\n  mat3x2: { name: `mat3x2f`, value: ``, valid: true },\n  mat3x3: { name: `mat3x3f`, value: ``, valid: true },\n  mat3x4: { name: `mat3x4f`, value: ``, valid: true },\n  mat4x2: { name: `mat4x2f`, value: ``, valid: true },\n  mat4x3: { name: `mat4x3f`, value: ``, valid: true },\n  mat4x4: { name: `mat4x4f`, value: ``, valid: true },\n  array1: { name: `array<u32, 4>`, value: ``, valid: true },\n  array2: { name: `array<vec2f, 2>`, value: ``, valid: true },\n  array3: { name: `array<constructible, 4>`, value: ``, valid: true },\n  array4: { name: `array<mat2x2f, 4>`, value: ``, valid: true },\n  array5: { name: `array<bool, 4>`, value: ``, valid: true },\n  struct1: { name: `constructible`, value: ``, valid: true },\n  struct2: { name: `struct_with_array`, value: ``, valid: true },\n\n  // Non-constructible types.\n  runtime_array: { name: `array<u32>`, value: ``, valid: false },\n  runtime_struct: { name: `runtime_array_struct`, value: ``, valid: false },\n  override_array: { name: `array<u32, override_size>`, value: ``, valid: false },\n  atomic_u32: { name: `atomic<u32>`, value: `atomic_wg`, valid: false },\n  atomic_struct: { name: `atomic_struct`, value: ``, valid: false },\n  texture_sample: { name: `texture_2d<f32>`, value: `t`, valid: false },\n  texture_depth: { name: `texture_depth_2d`, value: `t_depth`, valid: false },\n  texture_multisampled: {\n    name: `texture_multisampled_2d<f32>`,\n    value: `t_multisampled`,\n    valid: false,\n  },\n  texture_storage: {\n    name: `texture_storage_2d<rgba8unorm, write>`,\n    value: `t_storage`,\n    valid: false,\n  },\n  sampler: { name: `sampler`, value: `s`, valid: false },\n  sampler_comparison: { name: `sampler_comparison`, value: `s_depth`, valid: false },\n  ptr: { name: `ptr<workgroup, atomic<u32>>`, value: `&atomic_wg`, valid: false },\n};\n\ng.test('function_return_types')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test that function return types must be constructible`)\n  .params(u => u.combine('case', keysOf(kFunctionRetTypeCases)))\n  .beforeAllSubcases(t => {\n    if (kFunctionRetTypeCases[t.params.case].name === 'f16') {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    const testcase = kFunctionRetTypeCases[t.params.case];\n    const enable = testcase.name === 'f16' ? 'enable f16;' : '';\n    const value = testcase.value === '' ? `${testcase.name}()` : testcase.value;\n    const code = `\n${enable}\n\n${kCCommonTypeDecls}\n\nstruct atomic_struct {\n  a : atomic<u32>\n};\n\noverride override_size : u32;\n\nvar<workgroup> atomic_wg : atomic<u32>;\n\n@group(0) @binding(0)\nvar t : texture_2d<f32>;\n@group(0) @binding(1)\nvar s : sampler;\n@group(0) @binding(2)\nvar s_depth : sampler_comparison;\n@group(0) @binding(3)\nvar t_storage : texture_storage_2d<rgba8unorm, write>;\n@group(0) @binding(4)\nvar t_depth : texture_depth_2d;\n@group(0) @binding(5)\nvar t_multisampled : texture_multisampled_2d<f32>;\n@group(0) @binding(6)\nvar t_external : texture_external;\n\nfn foo() -> ${testcase.name} {\n  return ${value};\n}`;\n\n    t.expectCompileResult(testcase.valid, code);\n  });\n\ninterface ParamTypeCase {\n  name: string;\n  valid: boolean | 'with_unrestricted_pointer_parameters';\n}\n\nconst kFunctionParamTypeCases: Record<string, ParamTypeCase> = {\n  // Constructible types,\n  u32: { name: `u32`, valid: true },\n  i32: { name: `i32`, valid: true },\n  f32: { name: `f32`, valid: true },\n  bool: { name: `bool`, valid: true },\n  f16: { name: `f16`, valid: true },\n  vec2: { name: `vec2u`, valid: true },\n  vec3: { name: `vec3i`, valid: true },\n  vec4: { name: `vec4f`, valid: true },\n  mat2x2: { name: `mat2x2f`, valid: true },\n  mat2x3: { name: `mat2x3f`, valid: true },\n  mat2x4: { name: `mat2x4f`, valid: true },\n  mat3x2: { name: `mat3x2f`, valid: true },\n  mat3x3: { name: `mat3x3f`, valid: true },\n  mat3x4: { name: `mat3x4f`, valid: true },\n  mat4x2: { name: `mat4x2f`, valid: true },\n  mat4x3: { name: `mat4x3f`, valid: true },\n  mat4x4: { name: `mat4x4f`, valid: true },\n  array1: { name: `array<u32, 4>`, valid: true },\n  array2: { name: `array<vec2f, 2>`, valid: true },\n  array3: { name: `array<constructible, 4>`, valid: true },\n  array4: { name: `array<mat2x2f, 4>`, valid: true },\n  array5: { name: `array<bool, 4>`, valid: true },\n  struct1: { name: `constructible`, valid: true },\n  struct2: { name: `struct_with_array`, valid: true },\n\n  // Non-constructible types.\n  runtime_array: { name: `array<u32>`, valid: false },\n  runtime_struct: { name: `runtime_array_struct`, valid: false },\n  override_array: { name: `array<u32, override_size>`, valid: false },\n  atomic_u32: { name: `atomic<u32>`, valid: false },\n  atomic_struct: { name: `atomic_struct`, valid: false },\n\n  // Textures and samplers.\n  texture_sample: { name: `texture_2d<f32>`, valid: true },\n  texture_depth: { name: `texture_depth_2d`, valid: true },\n  texture_multisampled: {\n    name: `texture_multisampled_2d<f32>`,\n    valid: true,\n  },\n  texture_storage: { name: `texture_storage_2d<rgba8unorm, write>`, valid: true },\n  sampler: { name: `sampler`, valid: true },\n  sampler_comparison: { name: `sampler_comparison`, valid: true },\n\n  // Valid pointers.\n  ptr1: { name: `ptr<function, u32>`, valid: true },\n  ptr2: { name: `ptr<function, constructible>`, valid: true },\n  ptr3: { name: `ptr<private, u32>`, valid: true },\n  ptr4: { name: `ptr<private, constructible>`, valid: true },\n\n  // Pointers only valid with unrestricted_pointer_parameters\n  ptr5: { name: `ptr<storage, u32>`, valid: 'with_unrestricted_pointer_parameters' },\n  ptr6: { name: `ptr<storage, u32, read>`, valid: 'with_unrestricted_pointer_parameters' },\n  ptr7: { name: `ptr<storage, u32, read_write>`, valid: 'with_unrestricted_pointer_parameters' },\n  ptr8: { name: `ptr<uniform, u32>`, valid: 'with_unrestricted_pointer_parameters' },\n  ptr9: { name: `ptr<workgroup, u32>`, valid: 'with_unrestricted_pointer_parameters' },\n  ptr10: {\n    name: `ptr<storage, host_shareable, read_write>`,\n    valid: 'with_unrestricted_pointer_parameters',\n  },\n  ptr11: {\n    name: `ptr<storage, host_shareable, read>`,\n    valid: 'with_unrestricted_pointer_parameters',\n  },\n  ptr12: {\n    name: `ptr<uniform, host_shareable>`,\n    valid: 'with_unrestricted_pointer_parameters',\n  },\n  ptrWorkgroupAtomic: {\n    name: `ptr<workgroup, atomic<u32>>`,\n    valid: 'with_unrestricted_pointer_parameters',\n  },\n  ptrWorkgroupNestedAtomic: {\n    name: `ptr<workgroup, array<atomic<u32>,1>>`,\n    valid: 'with_unrestricted_pointer_parameters',\n  },\n\n  // Invalid pointers.\n  invalid_ptr1: { name: `ptr<handle, u32>`, valid: false }, // Can't spell handle address space\n  invalid_ptr2: { name: `ptr<not_an_address_space, u32>`, valid: false },\n  invalid_ptr3: { name: `ptr<storage>`, valid: false }, // No store type\n  invalid_ptr4: { name: `ptr<private,u32,read>`, valid: false }, // Can't specify access mode\n  invalid_ptr5: { name: `ptr<private,u32,write>`, valid: false }, // Can't specify access mode\n  invalid_ptr6: { name: `ptr<private,u32,read_write>`, valid: false }, // Can't specify access mode\n  invalid_ptr7: { name: `ptr<private,clamp>`, valid: false }, // Invalid store type\n  invalid_ptr8: { name: `ptr<function, texture_external>`, valid: false }, // non-constructible pointer type\n};\n\ng.test('function_parameter_types')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test validation of user-declared function parameter types`)\n  .params(u => u.combine('case', keysOf(kFunctionParamTypeCases)))\n  .beforeAllSubcases(t => {\n    if (kFunctionParamTypeCases[t.params.case].name === 'f16') {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    const testcase = kFunctionParamTypeCases[t.params.case];\n    const enable = testcase.name === 'f16' ? 'enable f16;' : '';\n    const code = `\n${enable}\n\n${kCCommonTypeDecls}\n\nfn foo(param : ${testcase.name}) {\n}`;\n\n    let isValid = testcase.valid;\n    if (isValid === 'with_unrestricted_pointer_parameters') {\n      isValid = t.hasLanguageFeature('unrestricted_pointer_parameters');\n    }\n\n    t.expectCompileResult(isValid, code);\n  });\n\ninterface ParamValueCase {\n  value: string;\n  matches: string[];\n  needsUnrestrictedPointerParameters?: boolean;\n}\n\nconst kFunctionParamValueCases: Record<string, ParamValueCase> = {\n  // Values\n  u32_literal: { value: `0u`, matches: ['u32'] },\n  i32_literal: { value: `0i`, matches: ['i32'] },\n  f32_literal: { value: `0f`, matches: ['f32'] },\n  bool_literal: { value: `false`, matches: ['bool'] },\n  abstract_int_literal: { value: `0`, matches: ['u32', 'i32', 'f32', 'f16'] },\n  abstract_float_literal: { value: `0.0`, matches: ['f32', 'f16'] },\n  vec2u_constructor: { value: `vec2u()`, matches: ['vec2'] },\n  vec2i_constructor: { value: `vec2i()`, matches: [] },\n  vec2f_constructor: { value: `vec2f()`, matches: [] },\n  vec2b_constructor: { value: `vec2<bool>()`, matches: [] },\n  vec3u_constructor: { value: `vec3u()`, matches: [] },\n  vec3i_constructor: { value: `vec3i()`, matches: ['vec3'] },\n  vec3f_constructor: { value: `vec3f()`, matches: [] },\n  vec3b_constructor: { value: `vec3<bool>()`, matches: [] },\n  vec4u_constructor: { value: `vec4u()`, matches: [] },\n  vec4i_constructor: { value: `vec4i()`, matches: [] },\n  vec4f_constructor: { value: `vec4f()`, matches: ['vec4'] },\n  vec4b_constructor: { value: `vec4<bool>()`, matches: [] },\n  vec2_abstract_int: { value: `vec2(0,0)`, matches: ['vec2'] },\n  vec2_abstract_float: { value: `vec2(0.0,0)`, matches: [] },\n  vec3_abstract_int: { value: `vec3(0,0,0)`, matches: ['vec3'] },\n  vec3_abstract_float: { value: `vec3(0.0,0,0)`, matches: [] },\n  vec4_abstract_int: { value: `vec4(0,0,0,0)`, matches: ['vec4'] },\n  vec4_abstract_float: { value: `vec4(0.0,0,0,0)`, matches: ['vec4'] },\n  mat2x2_constructor: { value: `mat2x2f()`, matches: ['mat2x2'] },\n  mat2x3_constructor: { value: `mat2x3f()`, matches: ['mat2x3'] },\n  mat2x4_constructor: { value: `mat2x4f()`, matches: ['mat2x4'] },\n  mat3x2_constructor: { value: `mat3x2f()`, matches: ['mat3x2'] },\n  mat3x3_constructor: { value: `mat3x3f()`, matches: ['mat3x3'] },\n  mat3x4_constructor: { value: `mat3x4f()`, matches: ['mat3x4'] },\n  mat4x2_constructor: { value: `mat4x2f()`, matches: ['mat4x2'] },\n  mat4x3_constructor: { value: `mat4x3f()`, matches: ['mat4x3'] },\n  mat4x4_constructor: { value: `mat4x4f()`, matches: ['mat4x4'] },\n  array1_constructor: { value: `array<u32, 4>()`, matches: ['array1'] },\n  array2_constructor: { value: `array<vec2f, 2>()`, matches: ['array2'] },\n  array3_constructor: { value: `array<constructible, 4>()`, matches: ['array3'] },\n  array4_constructor: { value: `array<mat2x2f, 4>()`, matches: ['array4'] },\n  array5_constructor: { value: `array<bool, 4>()`, matches: ['array5'] },\n  struct1_constructor: { value: `constructible()`, matches: ['struct1'] },\n  struct2_constructor: { value: `struct_with_array()`, matches: ['struct2'] },\n\n  // Variable references\n  g_u32: { value: `g_u32`, matches: ['u32'] },\n  g_i32: { value: `g_i32`, matches: ['i32'] },\n  g_f32: { value: `g_f32`, matches: ['f32'] },\n  g_bool: { value: `g_bool`, matches: ['bool'] },\n  g_vec2: { value: `g_vec2`, matches: ['vec2'] },\n  g_vec3: { value: `g_vec3`, matches: ['vec3'] },\n  g_vec4: { value: `g_vec4`, matches: ['vec4'] },\n  g_mat2x2: { value: `g_mat2x2`, matches: ['mat2x2'] },\n  g_mat2x3: { value: `g_mat2x3`, matches: ['mat2x3'] },\n  g_mat2x4: { value: `g_mat2x4`, matches: ['mat2x4'] },\n  g_mat3x2: { value: `g_mat3x2`, matches: ['mat3x2'] },\n  g_mat3x3: { value: `g_mat3x3`, matches: ['mat3x3'] },\n  g_mat3x4: { value: `g_mat3x4`, matches: ['mat3x4'] },\n  g_mat4x2: { value: `g_mat4x2`, matches: ['mat4x2'] },\n  g_mat4x3: { value: `g_mat4x3`, matches: ['mat4x3'] },\n  g_mat4x4: { value: `g_mat4x4`, matches: ['mat4x4'] },\n  g_array1: { value: `g_array1`, matches: ['array1'] },\n  g_array2: { value: `g_array2`, matches: ['array2'] },\n  g_array3: { value: `g_array3`, matches: ['array3'] },\n  g_array4: { value: `g_array4`, matches: ['array4'] },\n  g_array5: { value: `g_array5`, matches: ['array5'] },\n  g_constructible: { value: `g_constructible`, matches: ['struct1'] },\n  g_struct_with_array: { value: `g_struct_with_array`, matches: ['struct2'] },\n  f_u32: { value: `f_u32`, matches: ['u32'] },\n  f_i32: { value: `f_i32`, matches: ['i32'] },\n  f_f32: { value: `f_f32`, matches: ['f32'] },\n  f_bool: { value: `f_bool`, matches: ['bool'] },\n  f_vec2: { value: `f_vec2`, matches: ['vec2'] },\n  f_vec3: { value: `f_vec3`, matches: ['vec3'] },\n  f_vec4: { value: `f_vec4`, matches: ['vec4'] },\n  f_mat2x2: { value: `f_mat2x2`, matches: ['mat2x2'] },\n  f_mat2x3: { value: `f_mat2x3`, matches: ['mat2x3'] },\n  f_mat2x4: { value: `f_mat2x4`, matches: ['mat2x4'] },\n  f_mat3x2: { value: `f_mat3x2`, matches: ['mat3x2'] },\n  f_mat3x3: { value: `f_mat3x3`, matches: ['mat3x3'] },\n  f_mat3x4: { value: `f_mat3x4`, matches: ['mat3x4'] },\n  f_mat4x2: { value: `f_mat4x2`, matches: ['mat4x2'] },\n  f_mat4x3: { value: `f_mat4x3`, matches: ['mat4x3'] },\n  f_mat4x4: { value: `f_mat4x4`, matches: ['mat4x4'] },\n  f_array1: { value: `f_array1`, matches: ['array1'] },\n  f_array2: { value: `f_array2`, matches: ['array2'] },\n  f_array3: { value: `f_array3`, matches: ['array3'] },\n  f_array4: { value: `f_array4`, matches: ['array4'] },\n  f_array5: { value: `f_array5`, matches: ['array5'] },\n  f_constructible: { value: `f_constructible`, matches: ['struct1'] },\n  f_struct_with_array: { value: `f_struct_with_array`, matches: ['struct2'] },\n  g_index_u32: { value: `g_constructible.b`, matches: ['u32'] },\n  g_index_i32: { value: `g_constructible.a`, matches: ['i32'] },\n  g_index_f32: { value: `g_constructible.c`, matches: ['f32'] },\n  g_index_bool: { value: `g_constructible.d`, matches: ['bool'] },\n  f_index_u32: { value: `f_constructible.b`, matches: ['u32'] },\n  f_index_i32: { value: `f_constructible.a`, matches: ['i32'] },\n  f_index_f32: { value: `f_constructible.c`, matches: ['f32'] },\n  f_index_bool: { value: `f_constructible.d`, matches: ['bool'] },\n  g_array_index_u32: { value: `g_struct_with_array.a[0].b`, matches: ['u32'] },\n  g_array_index_i32: { value: `g_struct_with_array.a[1].a`, matches: ['i32'] },\n  g_array_index_f32: { value: `g_struct_with_array.a[2].c`, matches: ['f32'] },\n  g_array_index_bool: { value: `g_struct_with_array.a[3].d`, matches: ['bool'] },\n  f_array_index_u32: { value: `f_struct_with_array.a[0].b`, matches: ['u32'] },\n  f_array_index_i32: { value: `f_struct_with_array.a[1].a`, matches: ['i32'] },\n  f_array_index_f32: { value: `f_struct_with_array.a[2].c`, matches: ['f32'] },\n  f_array_index_bool: { value: `f_struct_with_array.a[3].d`, matches: ['bool'] },\n\n  // Textures and samplers\n  texture_sample: { value: `t`, matches: ['texture_sample'] },\n  texture_depth: { value: `t_depth`, matches: ['texture_depth'] },\n  texture_multisampled: { value: `t_multisampled`, matches: ['texture_multisampled'] },\n  texture_storage: { value: `t_storage`, matches: ['texture_storage'] },\n  texture_external: { value: `t_external`, matches: ['texture_external'] },\n  sampler: { value: `s`, matches: ['sampler'] },\n  sampler_comparison: { value: `s_depth`, matches: ['sampler_comparison'] },\n\n  // Pointers\n  ptr1: { value: `&f_u32`, matches: ['ptr1'] },\n  ptr2: { value: `&f_constructible`, matches: ['ptr2'] },\n  ptr3: { value: `&g_u32`, matches: ['ptr3'] },\n  ptr4: { value: `&g_constructible`, matches: ['ptr4'] },\n\n  ptr_let1: { value: `ptr_f_u32`, matches: ['ptr1'] },\n  ptr_let2: { value: `ptr_f_constructible`, matches: ['ptr2'] },\n  ptr_let3: { value: `ptr_g_u32`, matches: ['ptr3'] },\n  ptr_let4: { value: `ptr_g_constructible`, matches: ['ptr4'] },\n  ptr_let5: { value: `let_let_f_u32`, matches: ['ptr1'] },\n\n  // Requires 'unrestricted_pointer_parameters' WGSL feature\n  ptr5: {\n    value: `&f_constructible.b`,\n    matches: ['ptr1'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr6: {\n    value: `&g_constructible.b`,\n    matches: ['ptr3'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr7: {\n    value: `&f_struct_with_array.a[1].b`,\n    matches: ['ptr1'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr8: {\n    value: `&g_struct_with_array.a[2]`,\n    matches: ['ptr4'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr9: {\n    value: `&ro_host_shareable.b`,\n    matches: ['ptr5', 'ptr6'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr10: {\n    value: `&rw_host_shareable`,\n    matches: ['ptr10'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr11: {\n    value: `&ro_host_shareable`,\n    matches: ['ptr11'],\n    needsUnrestrictedPointerParameters: true,\n  },\n  ptr12: {\n    value: `&uniform_host_shareable`,\n    matches: ['ptr12'],\n    needsUnrestrictedPointerParameters: true,\n  },\n};\n\nfunction parameterMatches(decl: string, matches: string[]): boolean {\n  for (const val of matches) {\n    if (decl === val) {\n      return true;\n    }\n  }\n  return false;\n}\n\ng.test('function_parameter_matching')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(\n    `Test that function parameter types match function parameter type on user-declared functions`\n  )\n  .params(u =>\n    u\n      .combine('decl', keysOf(kFunctionParamTypeCases))\n      .filter(u => {\n        return kFunctionParamTypeCases[u.decl].valid !== false;\n      })\n      .beginSubcases()\n      .combine('arg', keysOf(kFunctionParamValueCases))\n  )\n  .beforeAllSubcases(t => {\n    if (kFunctionParamTypeCases[t.params.decl].name === 'f16') {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    const param = kFunctionParamTypeCases[t.params.decl];\n    const arg = kFunctionParamValueCases[t.params.arg];\n    const enable = param.name === 'f16' ? 'enable f16;' : '';\n    const code = `\n${enable}\n\n${kCCommonTypeDecls}\n@group(0) @binding(0)\nvar t : texture_2d<f32>;\n@group(0) @binding(1)\nvar s : sampler;\n@group(0) @binding(2)\nvar s_depth : sampler_comparison;\n@group(0) @binding(3)\nvar t_storage : texture_storage_2d<rgba8unorm, write>;\n@group(0) @binding(4)\nvar t_depth : texture_depth_2d;\n@group(0) @binding(5)\nvar t_multisampled : texture_multisampled_2d<f32>;\n@group(0) @binding(6)\nvar t_external : texture_external;\n\n@group(1) @binding(0)\nvar<storage> ro_host_shareable : host_shareable;\n@group(1) @binding(1)\nvar<storage, read_write> rw_host_shareable : host_shareable;\n@group(1) @binding(2)\nvar<uniform> uniform_host_shareable : host_shareable;\n\nfn bar(param : ${param.name}) { }\n\nvar<private> g_u32 : u32;\nvar<private> g_i32 : i32;\nvar<private> g_f32 : f32;\nvar<private> g_bool : bool;\nvar<private> g_vec2 : vec2u;\nvar<private> g_vec3 : vec3i;\nvar<private> g_vec4 : vec4f;\nvar<private> g_mat2x2 : mat2x2f;\nvar<private> g_mat2x3 : mat2x3f;\nvar<private> g_mat2x4 : mat2x4f;\nvar<private> g_mat3x2 : mat3x2f;\nvar<private> g_mat3x3 : mat3x3f;\nvar<private> g_mat3x4 : mat3x4f;\nvar<private> g_mat4x2 : mat4x2f;\nvar<private> g_mat4x3 : mat4x3f;\nvar<private> g_mat4x4 : mat4x4f;\nvar<private> g_array1 : array<u32, 4>;\nvar<private> g_array2 : array<vec2f, 2>;\nvar<private> g_array3 : array<constructible, 4>;\nvar<private> g_array4 : array<mat2x2f, 4>;\nvar<private> g_array5 : array<bool, 4>;\nvar<private> g_constructible : constructible;\nvar<private> g_struct_with_array : struct_with_array;\n\nfn foo() {\n  var f_u32 : u32;\n  var f_i32 : i32;\n  var f_f32 : f32;\n  var f_bool : bool;\n  var f_vec2 : vec2u;\n  var f_vec3 : vec3i;\n  var f_vec4 : vec4f;\n  var f_mat2x2 : mat2x2f;\n  var f_mat2x3 : mat2x3f;\n  var f_mat2x4 : mat2x4f;\n  var f_mat3x2 : mat3x2f;\n  var f_mat3x3 : mat3x3f;\n  var f_mat3x4 : mat3x4f;\n  var f_mat4x2 : mat4x2f;\n  var f_mat4x3 : mat4x3f;\n  var f_mat4x4 : mat4x4f;\n  var f_array1 : array<u32, 4>;\n  var f_array2 : array<vec2f, 2>;\n  var f_array3 : array<constructible, 4>;\n  var f_array4 : array<mat2x2f, 4>;\n  var f_array5 : array<bool, 4>;\n  var f_constructible : constructible;\n  var f_struct_with_array : struct_with_array;\n  let ptr_f_u32 = &f_u32;\n  let ptr_f_constructible = &f_constructible;\n  let ptr_g_u32 = &g_u32;\n  let ptr_g_constructible = &g_constructible;\n  let let_let_f_u32 = ptr_f_u32;\n\n  bar(${arg.value});\n}\n`;\n\n    const needsUnrestrictedPointerParameters =\n      (kFunctionParamTypeCases[t.params.decl].valid === 'with_unrestricted_pointer_parameters' ||\n        arg.needsUnrestrictedPointerParameters) ??\n      false;\n\n    let isValid = parameterMatches(t.params.decl, arg.matches);\n    if (isValid && needsUnrestrictedPointerParameters) {\n      isValid = t.hasLanguageFeature('unrestricted_pointer_parameters');\n    }\n\n    t.expectCompileResult(isValid, code);\n  });\n\ng.test('no_direct_recursion')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test that functions cannot be directly recursive`)\n  .fn(t => {\n    const code = `\nfn foo() {\n  foo();\n}`;\n\n    t.expectCompileResult(false, code);\n  });\n\ng.test('no_indirect_recursion')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-restriction')\n  .desc(`Test that functions cannot be indirectly recursive`)\n  .fn(t => {\n    const code = `\nfn bar() {\n  foo();\n}\nfn foo() {\n  bar();\n}`;\n\n    t.expectCompileResult(false, code);\n  });\n\ng.test('param_names_must_differ')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-declaration-sec')\n  .desc(`Test that function parameters must have different names`)\n  .params(u => u.combine('p1', ['a', 'b', 'c'] as const).combine('p2', ['a', 'b', 'c'] as const))\n  .fn(t => {\n    const code = `fn foo(${t.params.p1} : u32, ${t.params.p2} : f32) { }`;\n    t.expectCompileResult(t.params.p1 !== t.params.p2, code);\n  });\n\nconst kParamUseCases: Record<string, string> = {\n  body: `fn foo(param : u32) {\n    let tmp = param;\n  }`,\n  var: `var<private> v : u32 = param;\n  fn foo(param : u32) { }`,\n  const: `const c : u32 = param;\n  fn foo(param : u32) { }`,\n  override: `override o : u32 = param;\n  fn foo(param : u32) { }`,\n  function: `fn bar() { let tmp = param; }\n  fn foo(param : u32) { }`,\n};\n\ng.test('param_scope_is_function_body')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-declaration-sec')\n  .desc(`Test that function parameters are only in scope in the function body`)\n  .params(u => u.combine('use', keysOf(kParamUseCases)))\n  .fn(t => {\n    t.expectCompileResult(t.params.use === 'body', kParamUseCases[t.params.use]);\n  });\n\ng.test('param_number_matches_call')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-calls')\n  .desc(`Test that function calls have an equal number of arguments as the number of parameters`)\n  .params(u =>\n    u\n      .combine('num_args', [0, 1, 2, 3, 4, 255] as const)\n      .combine('num_params', [0, 1, 2, 3, 4, 255] as const)\n  )\n  .fn(t => {\n    let code = `\n    fn bar(`;\n    for (let i = 0; i < t.params.num_params; i++) {\n      code += `p${i} : u32,`;\n    }\n    code += `) { }\\n`;\n    code += `fn foo() {\\nbar(`;\n    for (let i = 0; i < t.params.num_args; i++) {\n      code += `0,`;\n    }\n    code += `);\\n}`;\n    t.expectCompileResult(t.params.num_args === t.params.num_params, code);\n  });\n\nconst kParamsTypes = ['u32', 'i32', 'f32'];\n\ninterface ArgValue {\n  value: string;\n  matches: string[];\n}\n\nconst kArgValues: Record<string, ArgValue> = {\n  abstract_int: {\n    value: '0',\n    matches: ['u32', 'i32', 'f32'],\n  },\n  abstract_float: {\n    value: '0.0',\n    matches: ['f32'],\n  },\n  unsigned_int: {\n    value: '0u',\n    matches: ['u32'],\n  },\n  signed_int: {\n    value: '0i',\n    matches: ['i32'],\n  },\n  float: {\n    value: '0f',\n    matches: ['f32'],\n  },\n};\n\nfunction checkArgTypeMatch(param_type: string, arg_matches: string[]): boolean {\n  for (const match of arg_matches) {\n    if (match === param_type) {\n      return true;\n    }\n  }\n  return false;\n}\n\ng.test('call_arg_types_match_1_param')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-calls')\n  .desc(`Test that the argument types match in order`)\n  .params(u =>\n    u\n      .combine('p1_type', kParamsTypes) //\n      .beginSubcases()\n      .combine('arg1_value', keysOf(kArgValues))\n  )\n  .fn(t => {\n    const code = `\nfn bar(p1 : ${t.params.p1_type}) { }\nfn foo() {\n  bar(${kArgValues[t.params.arg1_value].value});\n}`;\n\n    const res = checkArgTypeMatch(t.params.p1_type, kArgValues[t.params.arg1_value].matches);\n    t.expectCompileResult(res, code);\n  });\n\ng.test('call_arg_types_match_2_params')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-calls')\n  .desc(`Test that the argument types match in order`)\n  .params(u =>\n    u\n      .combine('p1_type', kParamsTypes)\n      .combine('p2_type', kParamsTypes)\n      .beginSubcases()\n      .combine('arg1_value', keysOf(kArgValues))\n      .combine('arg2_value', keysOf(kArgValues))\n  )\n  .fn(t => {\n    const code = `\nfn bar(p1 : ${t.params.p1_type}, p2 : ${t.params.p2_type}) { }\nfn foo() {\n  bar(${kArgValues[t.params.arg1_value].value}, ${kArgValues[t.params.arg2_value].value});\n}`;\n\n    const res =\n      checkArgTypeMatch(t.params.p1_type, kArgValues[t.params.arg1_value].matches) &&\n      checkArgTypeMatch(t.params.p2_type, kArgValues[t.params.arg2_value].matches);\n    t.expectCompileResult(res, code);\n  });\n\ng.test('call_arg_types_match_3_params')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#function-calls')\n  .desc(`Test that the argument types match in order`)\n  .params(u =>\n    u\n      .combine('p1_type', kParamsTypes)\n      .combine('p2_type', kParamsTypes)\n      .combine('p3_type', kParamsTypes)\n      .beginSubcases()\n      .combine('arg1_value', keysOf(kArgValues))\n      .combine('arg2_value', keysOf(kArgValues))\n      .combine('arg3_value', keysOf(kArgValues))\n  )\n  .fn(t => {\n    const code = `\nfn bar(p1 : ${t.params.p1_type}, p2 : ${t.params.p2_type}, p3 : ${t.params.p3_type}) { }\nfn foo() {\n  bar(${kArgValues[t.params.arg1_value].value},\n      ${kArgValues[t.params.arg2_value].value},\n      ${kArgValues[t.params.arg3_value].value});\n}`;\n\n    const res =\n      checkArgTypeMatch(t.params.p1_type, kArgValues[t.params.arg1_value].matches) &&\n      checkArgTypeMatch(t.params.p2_type, kArgValues[t.params.arg2_value].matches) &&\n      checkArgTypeMatch(t.params.p3_type, kArgValues[t.params.arg3_value].matches);\n    t.expectCompileResult(res, code);\n  });\n\ng.test('param_name_can_shadow_function_name')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests that a function parameter can shadow the function name`)\n  .fn(t => {\n    const code = `\nfn foo(foo: i32) -> i32 {\n  return foo;\n}\n`;\n    t.expectCompileResult(true, code);\n  });\n\ng.test('param_name_can_shadow_alias')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests that a function parameter can shadow an alias`)\n  .fn(t => {\n    const code = `\nalias foo = f32;\nfn test(foo: i32) -> i32 {\n  return foo;\n}\n`;\n    t.expectCompileResult(true, code);\n  });\n\ng.test('param_name_can_shadow_global')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests that a function parameter can shadow a global`)\n  .fn(t => {\n    const code = `\nconst foo: f32 = 1.2f;\n\nfn test(foo: i32) -> i32 {\n  return foo;\n}\n`;\n    t.expectCompileResult(true, code);\n  });\n\ng.test('param_comma_placement')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests validation of commas in function parameter lists`)\n  .params(u =>\n    u\n      .combine('param_1', [true, false])\n      .combine('param_2', [true, false])\n      .combine('comma', [true, false])\n  )\n  .fn(t => {\n    const has_p1 = t.params.param_1;\n    const has_p2 = t.params.param_2;\n    const has_c = t.params.comma;\n\n    const p1 = has_p1 ? 'foo: i32' : '';\n    const p2 = has_p2 ? 'bar: f32' : '';\n    const comma = has_c ? ', ' : ' ';\n\n    const code = `\nfn test(${p1}${comma}${p2}) {\n}\n`;\n\n    const success =\n      (!has_p1 && !has_p2 && !has_c) || // no params\n      (has_p1 && !has_p2) || // only p1, which can have a trailing comma or not\n      (!has_p1 && has_p2 && !has_c) || // just p2\n      (has_p1 && has_p2 && has_c); // both params comma separated\n    t.expectCompileResult(success, code);\n  });\n\ng.test('param_type_can_be_alias')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests that a function parameter type can be an alias`)\n  .fn(t => {\n    const code = `\nalias foo = f32;\nfn test(foo: foo) -> foo {\n  return foo;\n}\n`;\n    t.expectCompileResult(true, code);\n  });\n\ng.test('function_name_required')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests the function name is required`)\n  .params(u => u.combine('name', [true, false]))\n  .fn(t => {\n    const has_name = t.params.name;\n    const name = has_name ? 'name' : '';\n    const code = `\nfn ${name}() -> i32 {\n  return 1;\n}\n`;\n    t.expectCompileResult(has_name, code);\n  });\n\ng.test('param_type_required')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests the parameter type is required`)\n  .params(u => u.combine('ty', [true, false]).combine('colon', [true, false]))\n  .fn(t => {\n    const has_ty = t.params.ty;\n    const has_colon = t.params.colon;\n    const ty = has_ty ? 'i32' : '';\n    const colon = has_colon ? ':' : ' ';\n    const code = `\nfn f(foo${colon}${ty}) -> i32 {\n  return 1;\n}\n`;\n    t.expectCompileResult(has_ty && has_colon, code);\n  });\n\ng.test('body_required')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests the function body is required`)\n  .params(u => u.combine('body', ['braces', 'semi', '']))\n  .fn(t => {\n    const body = t.params.body === 'braces' ? '{}' : t.params.body === 'semi' ? ';' : '';\n\n    const code = `\nfn f() ${body}\n\nfn other() {}\n`;\n    t.expectCompileResult(body === '{}', code);\n  });\n\ng.test('parens_required')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests that the parens for a function are required`)\n  .params(u => u.combine('parens', [true, false]).combine('param', [true, false]))\n  .fn(t => {\n    const has_parens = t.params.parens;\n    const has_param = t.params.param;\n\n    let args = '';\n    if (has_parens) {\n      args += '(';\n    }\n    if (has_param) {\n      args += 'foo: i32';\n    }\n\n    if (has_parens) {\n      args += ')';\n    }\n\n    const code = `\nfn f ${args} {}\n`;\n    t.expectCompileResult(has_parens, code);\n  });\n\ng.test('non_module_scoped_function')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests that a non-module-scope function is rejected`)\n  .params(u => u.combine('loc', ['inner', 'outer']))\n  .fn(t => {\n    const o = `fn a() -> i32 { return 1; }`;\n\n    let inner = '';\n    let outer = '';\n\n    if (t.params.loc === 'inner') {\n      inner = o;\n    } else {\n      outer = o;\n    }\n\n    const code = `\n${outer}\nfn b() {\n  ${inner}\n}\n`;\n    t.expectCompileResult(t.params.loc === 'outer', code);\n  });\n\nconst kAttributes = {\n  align: {\n    attr: '@align(5)',\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  binding: {\n    attr: '@binding(5)',\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  builtin: {\n    attr: '@builtin(position)',\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  compute: {\n    attr: `@compute`,\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  const: {\n    attr: '@const',\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  diagnostic: {\n    attr: `@diagnostic(off, derivative_uniformity)`,\n    pass: {\n      func: true,\n      param: false,\n      ret: false,\n    },\n  },\n  fragment: {\n    attr: `@fragment`,\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  group: {\n    attr: `@group(1)`,\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  id: {\n    attr: `@id(1)`,\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  interpolate: {\n    attr: `@interpolate(linear, center)`,\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  invariant: {\n    attr: `@invariant`,\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  location: {\n    attr: `@location(0)`,\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  must_use: {\n    attr: `@must_use`,\n    pass: {\n      func: true,\n      param: false,\n      ret: false,\n    },\n  },\n  size: {\n    attr: `@size(10)`,\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  vertex: {\n    attr: `@vertex`,\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n  workgroup_size: {\n    attr: `@workgroup_size(1)`,\n    pass: {\n      func: false,\n      param: false,\n      ret: false,\n    },\n  },\n};\n\ng.test('function_attributes')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests the attributes for a function`)\n  .params(u =>\n    u.combine('case', keysOf(kAttributes)).combine('placement', ['func', 'param', 'ret'])\n  )\n  .fn(t => {\n    const d = kAttributes[t.params.case];\n    const func = t.params.placement === 'func';\n    const param = t.params.placement === 'param';\n    const ret = t.params.placement === 'ret';\n\n    const code = `\n${func ? d.attr : ''}\nfn b(${param ? d.attr : ''} foo: i32) -> ${ret ? d.attr : ''} i32{\n  return 1;\n}\n`;\n    const succeed =\n      t.params.placement === 'func'\n        ? d.pass.func\n        : t.params.placement === 'params'\n        ? d.pass.param\n        : d.pass.ret;\n    t.expectCompileResult(succeed, code);\n  });\n\ng.test('must_use_requires_return')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests the must_use attribute requires a return`)\n  .params(u => u.combine('ret', [true, false]))\n  .fn(t => {\n    let ret = '';\n    let ret_stmt = '';\n\n    if (t.params.ret) {\n      ret = '-> i32';\n      ret_stmt = 'return 1;';\n    }\n\n    const code = `\n@must_use\nfn b() ${ret} {\n  ${ret_stmt}\n}\n`;\n    t.expectCompileResult(t.params.ret, code);\n  });\n\ng.test('overload')\n  .specURL('https://www.w3.org/TR/WGSL/#function-declaration-sec')\n  .desc(`Tests that user functions can not overload `)\n  .params(u => u.combine('overload', [true, false]))\n  .fn(t => {\n    let code = 'fn a(f: i32) {}\\n';\n\n    if (t.params.overload) {\n      code += 'fn a(f: u32) {}';\n    }\n    t.expectCompileResult(t.params.overload === false, code);\n  });\n"],"mappings":"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,CAAC,CAAApM,CAAC,KAAI;EACX,OAAOyD,uBAAuB,CAACzD,CAAC,CAACkM,IAAI,CAAC,CAAC1M,KAAK,KAAK,KAAK;AACxD,CAAC,CAAC;AACD6M,aAAa,CAAC,CAAC;AACfpM,OAAO,CAAC,KAAK,EAAEjB,MAAM,CAACkG,wBAAwB,CAAC;AACpD,CAAC;AACA5B,iBAAiB,CAAC,CAAAnD,CAAC,KAAI;EACtB,IAAIsD,uBAAuB,CAACtD,CAAC,CAACJ,MAAM,CAACmM,IAAI,CAAC,CAAC5M,IAAI,KAAK,KAAK,EAAE;IACzDa,CAAC,CAACoD,0BAA0B,CAAC,YAAY,CAAC;EAC5C;AACF,CAAC,CAAC;AACDrD,EAAE,CAAC,CAAAC,CAAC,KAAI;EACP,MAAMmM,KAAK,GAAG7I,uBAAuB,CAACtD,CAAC,CAACJ,MAAM,CAACmM,IAAI,CAAC;EACpD,MAAMK,GAAG,GAAGrH,wBAAwB,CAAC/E,CAAC,CAACJ,MAAM,CAACwM,GAAG,CAAC;EAClD,MAAM/I,MAAM,GAAG8I,KAAK,CAAChN,IAAI,KAAK,KAAK,GAAG,aAAa,GAAG,EAAE;EACxD,MAAMgB,IAAI,GAAI;AAClB,EAAEkD,MAAO;AACT;AACA,EAAErE,iBAAkB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiBmN,KAAK,CAAChN,IAAK;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQiN,GAAG,CAAChN,KAAM;AAClB;AACA,CAAC;;EAEG,MAAMyM,kCAAkC;EACtC,CAACvI,uBAAuB,CAACt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"}