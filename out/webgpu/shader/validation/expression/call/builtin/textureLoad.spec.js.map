{"version":3,"file":"textureLoad.spec.js","names":["builtin","description","makeTestGroup","keysOf","objectsToRecord","assert","kAllTextureFormats","kTextureFormatInfo","Type","kAllScalarsAndVectors","isConvertible","isUnsignedType","stringToType","ShaderValidationTest","getNonStorageTextureTypeWGSL","getSampleAndBaseTextureTypeForTextureType","kNonStorageTextureTypeInfo","kTestTextureTypes","kCoords1DTypes","i32","u32","kCoords2DTypes","vec2i","vec2u","kCoords3DTypes","vec3i","vec3u","kValidTextureLoadParameterTypesForNonStorageTextures","texture_1d","coordsArgTypes","hasLevelArg","texture_2d","texture_2d_array","hasArrayIndexArg","texture_3d","texture_multisampled_2d","hasSampleIndexArg","texture_depth_2d","texture_depth_2d_array","texture_depth_multisampled_2d","texture_external","kValidTextureLoadParameterTypesForStorageTextures","texture_storage_1d","texture_storage_2d","texture_storage_2d_array","texture_storage_3d","kNonStorageTextureTypes","kStorageTextureTypes","kValuesTypes","g","test","specURL","desc","params","u","combine","beginSubcases","expand","t","textureType","texelTypes","map","v","toString","fn","returnType","texelType","returnVarType","varWGSL","texelArgType","textureWGSL","coordWGSL","create","wgsl","arrayWGSL","levelWGSL","sampleIndexWGSL","code","expectSuccess","expectCompileResult","filter","coordType","value","coordArgType","format","color","storage","beforeAllSubcases","skipIfLanguageFeatureNotSupported","arrayIndexType","arrayIndexArgType","args","arg","join","levelType","levelArgType","sampleIndexType","sampleIndexArgType","testTextureType","baseTestTextureType","types","numTestNumberArgs","numExpectNumberArgs","typesMatch","use"],"sources":["../../../../../../../src/webgpu/shader/validation/expression/call/builtin/textureLoad.spec.ts"],"sourcesContent":["const builtin = 'textureLoad';\nexport const description = `\nValidation tests for the ${builtin}() builtin.\n\n* test textureLoad coords parameter must be correct type\n* test textureLoad array_index parameter must be correct type\n* test textureLoad level parameter must be correct type\n* test textureLoad sample_index parameter must be correct type\n* test textureLoad returns the correct type\n* test textureLoad doesn't work with texture types it's not supposed to\n`;\n\nimport { makeTestGroup } from '../../../../../../common/framework/test_group.js';\nimport { keysOf, objectsToRecord } from '../../../../../../common/util/data_tables.js';\nimport { assert } from '../../../../../../common/util/util.js';\nimport { kAllTextureFormats, kTextureFormatInfo } from '../../../../../format_info.js';\nimport {\n  Type,\n  kAllScalarsAndVectors,\n  isConvertible,\n  ScalarType,\n  VectorType,\n  isUnsignedType,\n  stringToType,\n} from '../../../../../util/conversion.js';\nimport { ShaderValidationTest } from '../../../shader_validation_test.js';\n\nimport {\n  getNonStorageTextureTypeWGSL,\n  getSampleAndBaseTextureTypeForTextureType,\n  kNonStorageTextureTypeInfo,\n  kTestTextureTypes,\n} from './shader_builtin_utils.js';\n\ntype TextureLoadArguments = {\n  coordsArgTypes: readonly [ScalarType | VectorType, ScalarType | VectorType];\n  hasArrayIndexArg?: boolean;\n  hasLevelArg?: boolean;\n  hasSampleIndexArg?: boolean;\n};\n\nconst kCoords1DTypes = [Type.i32, Type.u32] as const;\nconst kCoords2DTypes = [Type.vec2i, Type.vec2u] as const;\nconst kCoords3DTypes = [Type.vec3i, Type.vec3u] as const;\n\nconst kValidTextureLoadParameterTypesForNonStorageTextures: { [n: string]: TextureLoadArguments } =\n  {\n    texture_1d: {\n      coordsArgTypes: kCoords1DTypes,\n      hasLevelArg: true,\n    },\n    texture_2d: {\n      coordsArgTypes: kCoords2DTypes,\n      hasLevelArg: true,\n    },\n    texture_2d_array: {\n      coordsArgTypes: kCoords2DTypes,\n      hasArrayIndexArg: true,\n      hasLevelArg: true,\n    },\n    texture_3d: {\n      coordsArgTypes: kCoords3DTypes,\n      hasLevelArg: true,\n    },\n    texture_multisampled_2d: {\n      coordsArgTypes: kCoords2DTypes,\n      hasSampleIndexArg: true,\n    },\n    texture_depth_2d: {\n      coordsArgTypes: kCoords2DTypes,\n      hasLevelArg: true,\n    },\n    texture_depth_2d_array: {\n      coordsArgTypes: kCoords2DTypes,\n      hasArrayIndexArg: true,\n      hasLevelArg: true,\n    },\n    texture_depth_multisampled_2d: {\n      coordsArgTypes: kCoords2DTypes,\n      hasSampleIndexArg: true,\n    },\n    texture_external: { coordsArgTypes: kCoords2DTypes },\n  };\n\nconst kValidTextureLoadParameterTypesForStorageTextures: { [n: string]: TextureLoadArguments } = {\n  texture_storage_1d: { coordsArgTypes: [Type.i32, Type.u32] },\n  texture_storage_2d: { coordsArgTypes: [Type.vec2i, Type.vec2u] },\n  texture_storage_2d_array: {\n    coordsArgTypes: [Type.vec2i, Type.vec2u],\n    hasArrayIndexArg: true,\n  },\n  texture_storage_3d: { coordsArgTypes: [Type.vec3i, Type.vec3u] },\n} as const;\n\nconst kNonStorageTextureTypes = keysOf(kValidTextureLoadParameterTypesForNonStorageTextures);\nconst kStorageTextureTypes = keysOf(kValidTextureLoadParameterTypesForStorageTextures);\nconst kValuesTypes = objectsToRecord(kAllScalarsAndVectors);\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\ng.test('return_type,non_storage')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#textureload')\n  .desc(\n    `\nValidates the return type of ${builtin} is the expected type.\n`\n  )\n  .params(u =>\n    u\n      .combine('returnType', keysOf(kValuesTypes))\n      .combine('textureType', kNonStorageTextureTypes)\n      .beginSubcases()\n      .expand('texelType', t =>\n        kNonStorageTextureTypeInfo[t.textureType].texelTypes.map(v => v.toString())\n      )\n  )\n  .fn(t => {\n    const { returnType, textureType, texelType } = t.params;\n    const returnVarType = kValuesTypes[returnType];\n    const { coordsArgTypes, hasArrayIndexArg, hasLevelArg, hasSampleIndexArg } =\n      kValidTextureLoadParameterTypesForNonStorageTextures[textureType];\n\n    const varWGSL = returnVarType.toString();\n    const texelArgType = stringToType(texelType);\n    const textureWGSL = getNonStorageTextureTypeWGSL(textureType, texelArgType);\n    const coordWGSL = coordsArgTypes[0].create(0).wgsl();\n    const arrayWGSL = hasArrayIndexArg ? ', 0' : '';\n    const levelWGSL = hasLevelArg ? ', 0' : '';\n    const sampleIndexWGSL = hasSampleIndexArg ? ', 0' : '';\n\n    const code = `\n@group(0) @binding(0) var t: ${textureWGSL};\n@fragment fn fs() -> @location(0) vec4f {\n  let v: ${varWGSL} = textureLoad(t, ${coordWGSL}${arrayWGSL}${levelWGSL}${sampleIndexWGSL});\n  return vec4f(0);\n}\n`;\n    const expectSuccess = isConvertible(texelArgType, returnVarType);\n    t.expectCompileResult(expectSuccess, code);\n  });\n\ng.test('coords_argument,non_storage')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#textureload')\n  .desc(\n    `\nValidates that only incorrect coords arguments are rejected by ${builtin}\n`\n  )\n  .params(u =>\n    u\n      .combine('textureType', kNonStorageTextureTypes)\n      .combine('coordType', keysOf(kValuesTypes))\n      .beginSubcases()\n      .expand('texelType', t =>\n        kNonStorageTextureTypeInfo[t.textureType].texelTypes.map(v => v.toString())\n      )\n      .combine('value', [-1, 0, 1] as const)\n      // filter out unsigned types with negative values\n      .filter(t => !isUnsignedType(kValuesTypes[t.coordType]) || t.value >= 0)\n  )\n  .fn(t => {\n    const { textureType, coordType, texelType, value } = t.params;\n    const coordArgType = kValuesTypes[coordType];\n    const { coordsArgTypes, hasArrayIndexArg, hasLevelArg, hasSampleIndexArg } =\n      kValidTextureLoadParameterTypesForNonStorageTextures[textureType];\n\n    const texelArgType = stringToType(texelType);\n    const textureWGSL = getNonStorageTextureTypeWGSL(textureType, texelArgType);\n    const coordWGSL = coordArgType.create(value).wgsl();\n    const arrayWGSL = hasArrayIndexArg ? ', 0' : '';\n    const levelWGSL = hasLevelArg ? ', 0' : '';\n    const sampleIndexWGSL = hasSampleIndexArg ? ', 0' : '';\n\n    const code = `\n@group(0) @binding(0) var t: ${textureWGSL};\n@fragment fn fs() -> @location(0) vec4f {\n  _ = textureLoad(t, ${coordWGSL}${arrayWGSL}${levelWGSL}${sampleIndexWGSL});\n  return vec4f(0);\n}\n`;\n    const expectSuccess =\n      isConvertible(coordArgType, coordsArgTypes[0]) ||\n      isConvertible(coordArgType, coordsArgTypes[1]);\n    t.expectCompileResult(expectSuccess, code);\n  });\n\ng.test('coords_argument,storage')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#textureload')\n  .desc(\n    `\nValidates that only incorrect coords arguments are rejected by ${builtin}\n`\n  )\n  .params(u =>\n    u\n      .combine('textureType', kStorageTextureTypes)\n      .combine('coordType', keysOf(kValuesTypes))\n      .beginSubcases()\n      .combine('format', kAllTextureFormats)\n      // filter to only storage texture formats.\n      .filter(t => !!kTextureFormatInfo[t.format].color?.storage)\n      .combine('value', [-1, 0, 1] as const)\n      // filter out unsigned types with negative values\n      .filter(t => !isUnsignedType(kValuesTypes[t.coordType]) || t.value >= 0)\n  )\n  .beforeAllSubcases(t =>\n    t.skipIfLanguageFeatureNotSupported('readonly_and_readwrite_storage_textures')\n  )\n  .fn(t => {\n    const { textureType, coordType, format, value } = t.params;\n    const coordArgType = kValuesTypes[coordType];\n    const { coordsArgTypes, hasArrayIndexArg } =\n      kValidTextureLoadParameterTypesForStorageTextures[textureType];\n\n    const coordWGSL = coordArgType.create(value).wgsl();\n    const arrayWGSL = hasArrayIndexArg ? ', 0' : '';\n\n    const code = `\n@group(0) @binding(0) var t: ${textureType}<${format}, read>;\n@fragment fn fs() -> @location(0) vec4f {\n  _ = textureLoad(t, ${coordWGSL}${arrayWGSL});\n  return vec4f(0);\n}\n`;\n    const expectSuccess =\n      isConvertible(coordArgType, coordsArgTypes[0]) ||\n      isConvertible(coordArgType, coordsArgTypes[1]);\n    t.expectCompileResult(expectSuccess, code);\n  });\n\ng.test('array_index_argument,non_storage')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#textureload')\n  .desc(\n    `\nValidates that only incorrect array_index arguments are rejected by ${builtin}\n`\n  )\n  .params(u =>\n    u\n      .combine('textureType', kNonStorageTextureTypes)\n      // filter out types with no array_index\n      .filter(\n        t => !!kValidTextureLoadParameterTypesForNonStorageTextures[t.textureType].hasArrayIndexArg\n      )\n      .combine('arrayIndexType', keysOf(kValuesTypes))\n      .beginSubcases()\n      .expand('texelType', t =>\n        kNonStorageTextureTypeInfo[t.textureType].texelTypes.map(v => v.toString())\n      )\n      .combine('value', [-1, 0, 1])\n      // filter out unsigned types with negative values\n      .filter(t => !isUnsignedType(kValuesTypes[t.arrayIndexType]) || t.value >= 0)\n  )\n  .fn(t => {\n    const { textureType, arrayIndexType, texelType, value } = t.params;\n    const arrayIndexArgType = kValuesTypes[arrayIndexType];\n    const args = [arrayIndexArgType.create(value)];\n    const { coordsArgTypes, hasLevelArg } =\n      kValidTextureLoadParameterTypesForNonStorageTextures[textureType];\n\n    const texelArgType = stringToType(texelType);\n    const textureWGSL = getNonStorageTextureTypeWGSL(textureType, texelArgType);\n    const coordWGSL = coordsArgTypes[0].create(0).wgsl();\n    const arrayWGSL = args.map(arg => arg.wgsl()).join(', ');\n    const levelWGSL = hasLevelArg ? ', 0' : '';\n\n    const code = `\n@group(0) @binding(0) var t: ${textureWGSL};\n@fragment fn fs() -> @location(0) vec4f {\n  _ = textureLoad(t, ${coordWGSL}, ${arrayWGSL}${levelWGSL});\n  return vec4f(0);\n}\n`;\n    const expectSuccess =\n      isConvertible(arrayIndexArgType, Type.i32) || isConvertible(arrayIndexArgType, Type.u32);\n    t.expectCompileResult(expectSuccess, code);\n  });\n\ng.test('array_index_argument,storage')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#textureload')\n  .desc(\n    `\nValidates that only incorrect array_index arguments are rejected by ${builtin}\n`\n  )\n  .params(u =>\n    u\n      .combine('textureType', kStorageTextureTypes)\n      // filter out types with no array_index\n      .filter(\n        t => !!kValidTextureLoadParameterTypesForStorageTextures[t.textureType].hasArrayIndexArg\n      )\n      .combine('arrayIndexType', keysOf(kValuesTypes))\n      .beginSubcases()\n      .combine('format', kAllTextureFormats)\n      // filter to only storage texture formats.\n      .filter(t => !!kTextureFormatInfo[t.format].color?.storage)\n      .combine('value', [-1, 0, 1])\n      // filter out unsigned types with negative values\n      .filter(t => !isUnsignedType(kValuesTypes[t.arrayIndexType]) || t.value >= 0)\n  )\n  .beforeAllSubcases(t =>\n    t.skipIfLanguageFeatureNotSupported('readonly_and_readwrite_storage_textures')\n  )\n  .fn(t => {\n    const { textureType, arrayIndexType, format, value } = t.params;\n    const arrayIndexArgType = kValuesTypes[arrayIndexType];\n    const args = [arrayIndexArgType.create(value)];\n    const { coordsArgTypes, hasLevelArg } =\n      kValidTextureLoadParameterTypesForStorageTextures[textureType];\n\n    const coordWGSL = coordsArgTypes[0].create(0).wgsl();\n    const arrayWGSL = args.map(arg => arg.wgsl()).join(', ');\n    const levelWGSL = hasLevelArg ? ', 0' : '';\n\n    const code = `\n@group(0) @binding(0) var t: ${textureType}<${format}, read>;\n@fragment fn fs() -> @location(0) vec4f {\n  _ = textureLoad(t, ${coordWGSL}, ${arrayWGSL}${levelWGSL});\n  return vec4f(0);\n}\n`;\n    const expectSuccess =\n      isConvertible(arrayIndexArgType, Type.i32) || isConvertible(arrayIndexArgType, Type.u32);\n    t.expectCompileResult(expectSuccess, code);\n  });\n\ng.test('level_argument,non_storage')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#textureload')\n  .desc(\n    `\nValidates that only incorrect level arguments are rejected by ${builtin}\n`\n  )\n  .params(u =>\n    u\n      .combine('textureType', kNonStorageTextureTypes)\n      // filter out types with no level\n      .filter(\n        t => !!kValidTextureLoadParameterTypesForNonStorageTextures[t.textureType].hasLevelArg\n      )\n      .combine('levelType', keysOf(kValuesTypes))\n      .beginSubcases()\n      .expand('texelType', t =>\n        kNonStorageTextureTypeInfo[t.textureType].texelTypes.map(v => v.toString())\n      )\n      .combine('value', [-1, 0, 1])\n      // filter out unsigned types with negative values\n      .filter(t => !isUnsignedType(kValuesTypes[t.levelType]) || t.value >= 0)\n  )\n  .fn(t => {\n    const { textureType, levelType, texelType, value } = t.params;\n    const levelArgType = kValuesTypes[levelType];\n    const { coordsArgTypes, hasArrayIndexArg } =\n      kValidTextureLoadParameterTypesForNonStorageTextures[textureType];\n\n    const texelArgType = stringToType(texelType);\n    const textureWGSL = getNonStorageTextureTypeWGSL(textureType, texelArgType);\n    const coordWGSL = coordsArgTypes[0].create(0).wgsl();\n    const arrayWGSL = hasArrayIndexArg ? ', 0' : '';\n    const levelWGSL = levelArgType.create(value).wgsl();\n\n    const code = `\n@group(0) @binding(0) var t: ${textureWGSL};\n@fragment fn fs() -> @location(0) vec4f {\n  _ = textureLoad(t, ${coordWGSL}${arrayWGSL}, ${levelWGSL});\n  return vec4f(0);\n}\n`;\n    const expectSuccess =\n      isConvertible(levelArgType, Type.i32) || isConvertible(levelArgType, Type.u32);\n    t.expectCompileResult(expectSuccess, code);\n  });\n\ng.test('sample_index_argument,non_storage')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#textureload')\n  .desc(\n    `\nValidates that only incorrect sample_index arguments are rejected by ${builtin}\n`\n  )\n  .params(u =>\n    u\n      .combine('textureType', kNonStorageTextureTypes)\n      // filter out types with no sample_index\n      .filter(\n        t => !!kValidTextureLoadParameterTypesForNonStorageTextures[t.textureType].hasSampleIndexArg\n      )\n      .combine('sampleIndexType', keysOf(kValuesTypes))\n      .beginSubcases()\n      .expand('texelType', t =>\n        kNonStorageTextureTypeInfo[t.textureType].texelTypes.map(v => v.toString())\n      )\n      .combine('value', [-1, 0, 1])\n      // filter out unsigned types with negative values\n      .filter(t => !isUnsignedType(kValuesTypes[t.sampleIndexType]) || t.value >= 0)\n  )\n  .fn(t => {\n    const { textureType, sampleIndexType, texelType, value } = t.params;\n    const sampleIndexArgType = kValuesTypes[sampleIndexType];\n    const { coordsArgTypes, hasArrayIndexArg, hasLevelArg } =\n      kValidTextureLoadParameterTypesForNonStorageTextures[textureType];\n    assert(!hasLevelArg);\n\n    const texelArgType = stringToType(texelType);\n    const textureWGSL = getNonStorageTextureTypeWGSL(textureType, texelArgType);\n    const coordWGSL = coordsArgTypes[0].create(0).wgsl();\n    const arrayWGSL = hasArrayIndexArg ? ', 0' : '';\n    const sampleIndexWGSL = sampleIndexArgType.create(value).wgsl();\n\n    const code = `\n@group(0) @binding(0) var t: ${textureWGSL};\n@fragment fn fs() -> @location(0) vec4f {\n  _ = textureLoad(t, ${coordWGSL}${arrayWGSL}, ${sampleIndexWGSL});\n  return vec4f(0);\n}\n`;\n    const expectSuccess =\n      isConvertible(sampleIndexArgType, Type.i32) || isConvertible(sampleIndexArgType, Type.u32);\n    t.expectCompileResult(expectSuccess, code);\n  });\n\ng.test('texture_type,non_storage')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#textureload')\n  .desc(\n    `\nValidates that incompatible texture types don't work with ${builtin}\n`\n  )\n  .params(u =>\n    u\n      .combine('testTextureType', kTestTextureTypes)\n      .beginSubcases()\n      .combine('textureType', keysOf(kValidTextureLoadParameterTypesForNonStorageTextures))\n  )\n  .fn(t => {\n    const { testTextureType, textureType } = t.params;\n    const { coordsArgTypes, hasArrayIndexArg, hasLevelArg, hasSampleIndexArg } =\n      kValidTextureLoadParameterTypesForNonStorageTextures[textureType];\n\n    const coordWGSL = coordsArgTypes[0].create(0).wgsl();\n    const arrayWGSL = hasArrayIndexArg ? ', 0' : '';\n    const levelWGSL = hasLevelArg ? ', 0' : '';\n    const sampleIndexWGSL = hasSampleIndexArg ? ', 0' : '';\n\n    const code = `\n@group(0) @binding(1) var t: ${testTextureType};\n@fragment fn fs() -> @location(0) vec4f {\n  let v = textureLoad(t, ${coordWGSL}${arrayWGSL}${levelWGSL}${sampleIndexWGSL});\n  return vec4f(0);\n}\n`;\n\n    const [baseTestTextureType] = getSampleAndBaseTextureTypeForTextureType(testTextureType);\n\n    let expectSuccess = false;\n    const types =\n      kValidTextureLoadParameterTypesForNonStorageTextures[baseTestTextureType] ||\n      kValidTextureLoadParameterTypesForStorageTextures[baseTestTextureType];\n    if (types) {\n      const numTestNumberArgs =\n        (types.hasArrayIndexArg ? 1 : 0) +\n        (types.hasLevelArg ? 1 : 0) +\n        (types.hasSampleIndexArg ? 1 : 0);\n      const numExpectNumberArgs =\n        (hasArrayIndexArg ? 1 : 0) + (hasLevelArg ? 1 : 0) + (hasSampleIndexArg ? 1 : 0);\n      const typesMatch = types\n        ? types.coordsArgTypes[0] === coordsArgTypes[0] && numTestNumberArgs === numExpectNumberArgs\n        : false;\n      expectSuccess = typesMatch;\n    }\n\n    t.expectCompileResult(expectSuccess, code);\n  });\n\ng.test('texture_type,storage')\n  .specURL('https://gpuweb.github.io/gpuweb/wgsl/#textureload')\n  .desc(\n    `\nValidates that incompatible texture types don't work with ${builtin}\n`\n  )\n  .params(u =>\n    u\n      .combine('testTextureType', kTestTextureTypes)\n      .beginSubcases()\n      .combine('textureType', keysOf(kValidTextureLoadParameterTypesForStorageTextures))\n      .combine('format', kAllTextureFormats)\n  )\n  .fn(t => {\n    const { testTextureType, textureType } = t.params;\n    const { coordsArgTypes, hasArrayIndexArg, hasLevelArg, hasSampleIndexArg } =\n      kValidTextureLoadParameterTypesForStorageTextures[textureType];\n\n    const coordWGSL = coordsArgTypes[0].create(0).wgsl();\n    const arrayWGSL = hasArrayIndexArg ? ', 0' : '';\n    const levelWGSL = hasLevelArg ? ', 0' : '';\n    const sampleIndexWGSL = hasSampleIndexArg ? ', 0' : '';\n\n    const code = `\n@group(0) @binding(1) var t: ${testTextureType};\n@fragment fn fs() -> @location(0) vec4f {\n  let v = textureLoad(t, ${coordWGSL}${arrayWGSL}${levelWGSL}${sampleIndexWGSL});\n  return vec4f(0);\n}\n`;\n\n    const [baseTestTextureType] = getSampleAndBaseTextureTypeForTextureType(testTextureType);\n\n    let expectSuccess = false;\n    const types =\n      kValidTextureLoadParameterTypesForNonStorageTextures[baseTestTextureType] ||\n      kValidTextureLoadParameterTypesForStorageTextures[baseTestTextureType];\n    if (types) {\n      const numTestNumberArgs =\n        (types.hasArrayIndexArg ? 1 : 0) +\n        (types.hasLevelArg ? 1 : 0) +\n        (types.hasSampleIndexArg ? 1 : 0);\n      const numExpectNumberArgs =\n        (hasArrayIndexArg ? 1 : 0) + (hasLevelArg ? 1 : 0) + (hasSampleIndexArg ? 1 : 0);\n      const typesMatch = types\n        ? types.coordsArgTypes[0] === coordsArgTypes[0] && numTestNumberArgs === numExpectNumberArgs\n        : false;\n      expectSuccess = typesMatch;\n    }\n\n    t.expectCompileResult(expectSuccess, code);\n  });\n\ng.test('must_use')\n  .desc('Tests that the result must be used')\n  .params(u => u.combine('use', [true, false] as const))\n  .fn(t => {\n    const code = `\n    @group(0) @binding(0) var t : texture_2d<f32>;\n    fn foo() {\n      ${t.params.use ? '_ =' : ''} textureLoad(t, vec2(0,0), 0);\n    }`;\n    t.expectCompileResult(t.params.use, code);\n  });\n"],"mappings":"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"}