{"version":3,"file":"mul.spec.js","names":["description","makeTestGroup","keysOf","kValue","ShaderValidationTest","g","kTests","match","src","bool","vec","i32","u32","texture","sampler","atomic","struct","array","matf_no_match","test","desc","params","u","combine","beforeAllSubcases","t","is_f16","rhs","startsWith","selectDeviceOrSkipTestCase","fn","lhs","swap","a","code","pass","expectCompileResult","skipIfDeviceDoesNotHaveFeature","beginSubcases","ty1","ty2","c1","c2","r1","r2","t1_val","Array","map","_","i","k","t2_val","v1","f32","positive","max","c","r","f16","f64"],"sources":["../../../../../../src/webgpu/shader/validation/expression/matrix/mul.spec.ts"],"sourcesContent":["export const description = `\nValidation tests for matrix multiplication expressions.\n`;\n\nimport { makeTestGroup } from '../../../../../common/framework/test_group.js';\nimport { keysOf } from '../../../../../common/util/data_tables.js';\nimport { kValue } from '../../../../util/constants.js';\nimport { ShaderValidationTest } from '../../shader_validation_test.js';\n\nexport const g = makeTestGroup(ShaderValidationTest);\n\ninterface Argument {\n  /** Value as a string. */\n  readonly src: string;\n  /** Requires f16 */\n  readonly is_f16?: boolean;\n}\n\nconst kTests: { readonly [name: string]: Argument } = {\n  match: {\n    src: 'mat3x2f()',\n  },\n  bool: {\n    src: 'false',\n  },\n  vec: {\n    src: 'vec4f()',\n  },\n  i32: {\n    src: '1i',\n  },\n  u32: {\n    src: '1u',\n  },\n  texture: {\n    src: 't',\n  },\n  sampler: {\n    src: 's',\n  },\n  atomic: {\n    src: 'a',\n  },\n  struct: {\n    src: 'str',\n  },\n  array: {\n    src: 'arr',\n  },\n  matf_no_match: {\n    src: 'mat4x4f()',\n  },\n};\n\ng.test('invalid')\n  .desc(`Validates types for matrix multiplication`)\n  .params(u =>\n    u\n      .combine('rhs', ['ai', 'mat2x3f()', 'mat2x3h()'])\n      .combine('test', keysOf(kTests))\n      .combine('swap', [true, false])\n  )\n  .beforeAllSubcases(t => {\n    if (kTests[t.params.test].is_f16 === true || t.params.rhs.startsWith('mat2x3h(')) {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    let lhs = kTests[t.params.test].src;\n    let rhs = t.params.rhs === 'ai' ? 'mat3x2(0, 0, 0, 0, 0, 0)' : t.params.rhs;\n\n    if (t.params.swap) {\n      const a = lhs;\n      lhs = rhs;\n      rhs = a;\n    }\n\n    const code = `\n${kTests[t.params.test].is_f16 || t.params.rhs.startsWith('mat2x3h(') ? 'enable f16;' : ''}\n@group(0) @binding(0) var t : texture_2d<f32>;\n@group(0) @binding(1) var s : sampler;\n@group(0) @binding(2) var<storage, read_write> a : atomic<i32>;\n\nstruct S { u : u32 }\n\nvar<private> arr : array<i32, 4>;\nvar<private> str : S;\n\n@compute @workgroup_size(1)\nfn main() {\n  let foo = ${lhs} * ${rhs};\n}\n`;\n\n    const pass = kTests[t.params.test].src === 'mat3x2f()' && t.params.rhs === 'mat2x3f()';\n    t.expectCompileResult(pass, code);\n  });\n\ng.test('f16_and_f32_matrix')\n  .desc(`Validates that f16 multiplied by an f32 matrix is an error.`)\n  .params(u => u.combine('rhs', ['mat2x3f()', 'mat2x3h()']).combine('swap', [true, false]))\n  .fn(t => {\n    t.skipIfDeviceDoesNotHaveFeature('shader-f16');\n    let lhs = '1h';\n    let rhs = t.params.rhs;\n    if (t.params.swap) {\n      const a = lhs;\n      lhs = rhs;\n      rhs = a;\n    }\n\n    const code = `\nenable f16;\n\n@compute @workgroup_size(1)\nfn main() {\n  let foo = ${lhs} * ${rhs};\n}\n`;\n\n    const pass = t.params.rhs === 'mat2x3h()';\n    t.expectCompileResult(pass, code);\n  });\n\ng.test('f32_and_f16_matrix')\n  .desc(`Validates that f32 multiplied by an f16 matrix is an error`)\n  .params(u => u.combine('rhs', ['mat2x3f()', 'mat2x3h()']).combine('swap', [true, false]))\n  .fn(t => {\n    t.skipIfDeviceDoesNotHaveFeature('shader-f16');\n    let lhs = '1f';\n    let rhs = t.params.rhs;\n    if (t.params.swap) {\n      const a = lhs;\n      lhs = rhs;\n      rhs = a;\n    }\n\n    const code = `\nenable f16;\n\n@compute @workgroup_size(1)\nfn main() {\n  let foo = ${lhs} * ${rhs};\n}\n`;\n\n    const pass = t.params.rhs === 'mat2x3f()';\n    t.expectCompileResult(pass, code);\n  });\n\ng.test('mat_by_mat')\n  .desc(`Validates that mat * mat is only valid for kxR * Cxk.`)\n  .params(u =>\n    u\n      .combine('ty1', ['f', 'h', ''])\n      .combine('ty2', ['f', 'h', ''])\n      .beginSubcases()\n      .combine('c1', [2, 3, 4])\n      .combine('r1', [2, 3, 4])\n      .combine('c2', [2, 3, 4])\n      .combine('r2', [2, 3, 4])\n  )\n  .beforeAllSubcases(t => {\n    if (t.params.ty1 === 'h' || t.params.ty2 === 'h') {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    const c1 = t.params.c1;\n    const c2 = t.params.c2;\n    const r1 = t.params.r1;\n    const r2 = t.params.r2;\n\n    let t1_val = '';\n    if (t.params.ty1 === '') {\n      [...Array(c1)].map((_, i) => {\n        [...Array(r1)].map((_, k) => {\n          t1_val += '0,';\n        });\n      });\n    }\n\n    let t2_val = '';\n    if (t.params.ty2 === '') {\n      [...Array(c2)].map((_, i) => {\n        [...Array(r2)].map((_, k) => {\n          t2_val += '0,';\n        });\n      });\n    }\n\n    const code = `\n${t.params.ty1 === 'h' || t.params.ty2 === 'h' ? 'enable f16;' : ''}\n@compute @workgroup_size(1)\nfn main() {\n  let foo = mat${c1}x${r1}${t.params.ty1}(${t1_val}) * mat${c2}x${r2}${t.params.ty2}(${t2_val});\n}\n`;\n\n    const pass =\n      c1 === r2 && (t.params.ty1 === t.params.ty2 || t.params.ty1 === '' || t.params.ty2 === '');\n    t.expectCompileResult(pass, code);\n  });\n\ng.test('mat_by_vec')\n  .desc(`Validates that mat * vec is only valid for CxR * C.`)\n  .params(u =>\n    u\n      .combine('ty1', ['f', 'h', ''])\n      .combine('ty2', ['f', 'h', ''])\n      .beginSubcases()\n      .combine('c1', [2, 3, 4])\n      .combine('r1', [2, 3, 4])\n      .combine('v1', [2, 3, 4])\n  )\n  .beforeAllSubcases(t => {\n    if (t.params.ty1 === 'h' || t.params.ty2 === 'h') {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    const c1 = t.params.c1;\n    const r1 = t.params.r1;\n    const v1 = t.params.v1;\n\n    let t1_val = '';\n    if (t.params.ty1 === '') {\n      [...Array(c1)].map((_, i) => {\n        [...Array(r1)].map((_, k) => {\n          t1_val += '0,';\n        });\n      });\n    }\n\n    let t2_val = '';\n    if (t.params.ty2 === '') {\n      [...Array(v1)].map((_, i) => {\n        t2_val += '0,';\n      });\n    }\n\n    const code = `\n${t.params.ty1 === 'h' || t.params.ty2 === 'h' ? 'enable f16;' : ''}\n@compute @workgroup_size(1)\nfn main() {\n  let foo = mat${c1}x${r1}${t.params.ty1}(${t1_val}) * vec${v1}${t.params.ty2}(${t2_val});\n}\n`;\n\n    const pass =\n      c1 === v1 && (t.params.ty1 === t.params.ty2 || t.params.ty1 === '' || t.params.ty2 === '');\n    t.expectCompileResult(pass, code);\n  });\n\ng.test('vec_by_mat')\n  .desc(`Validates that vec * mat is only valid for R * CxR.`)\n  .params(u =>\n    u\n      .combine('ty1', ['f', 'h', ''])\n      .combine('ty2', ['f', 'h', ''])\n      .beginSubcases()\n      .combine('c1', [2, 3, 4])\n      .combine('r1', [2, 3, 4])\n      .combine('v1', [2, 3, 4])\n  )\n  .beforeAllSubcases(t => {\n    if (t.params.ty1 === 'h' || t.params.ty2 === 'h') {\n      t.selectDeviceOrSkipTestCase('shader-f16');\n    }\n  })\n  .fn(t => {\n    const c1 = t.params.c1;\n    const r1 = t.params.r1;\n    const v1 = t.params.v1;\n\n    let t1_val = '';\n    if (t.params.ty1 === '') {\n      [...Array(c1)].map((_, i) => {\n        [...Array(r1)].map((_, k) => {\n          t1_val += '0,';\n        });\n      });\n    }\n\n    let t2_val = '';\n    if (t.params.ty2 === '') {\n      [...Array(v1)].map((_, i) => {\n        t2_val += '0,';\n      });\n    }\n\n    const code = `\n${t.params.ty1 === 'h' || t.params.ty2 === 'h' ? 'enable f16;' : ''}\n@compute @workgroup_size(1)\nfn main() {\n  let foo = vec${v1}${t.params.ty2}(${t2_val}) * mat${c1}x${r1}${t.params.ty1}(${t1_val});\n}\n`;\n\n    const pass =\n      r1 === v1 && (t.params.ty1 === t.params.ty2 || t.params.ty1 === '' || t.params.ty2 === '');\n    t.expectCompileResult(pass, code);\n  });\n\ng.test('overflow_scalar_f32')\n  .desc(`Validates that f32 scalar multiplication overflows in shader creation`)\n  .params(u =>\n    u\n      .combine('rhs', [kValue.f32.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    let lhs = `mat${t.params.c}x${t.params.r}f(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        lhs += `${kValue.f32.positive.max},`;\n      }\n    }\n    lhs += ')';\n    const rhs = t.params.rhs;\n\n    const code = `\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.rhs === 1, code);\n  });\n\ng.test('overflow_vec_f32')\n  .desc(\n    `Validates that f32 vector multiplication overflows in shader creation. The overflow happens when multiplying the values.`\n  )\n  .params(u =>\n    u\n      .combine('rhs', [kValue.f32.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    let lhs = `mat${t.params.c}x${t.params.r}f(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        if (i === 0) {\n          lhs += `${kValue.f32.positive.max},`;\n        } else {\n          lhs += `0,`;\n        }\n      }\n    }\n    lhs += ')';\n    const rhs = `vec${t.params.c}f(${t.params.rhs})`;\n\n    const code = `\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.rhs === 1, code);\n  });\n\ng.test('overflow_vec_f32_internal')\n  .desc(\n    `Validates that f32 vector multiplication overflows in shader creation. The overflow happens while summing the values.`\n  )\n  .params(u =>\n    u\n      .combine('lhs', [kValue.f32.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    let lhs = `mat${t.params.c}x${t.params.r}f(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        lhs += `${t.params.lhs},`;\n      }\n    }\n    lhs += ')';\n    const rhs = `vec${t.params.c}f(1)`;\n\n    const code = `\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.lhs === 1, code);\n  });\n\ng.test('overflow_mat_f32')\n  .desc(\n    `Validates that f32 matrix multiplication overflows in shader creation. Overflows when multiplying the values`\n  )\n  .params(u =>\n    u\n      .combine('rhs', [kValue.f32.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    let lhs = `mat${t.params.c}x${t.params.r}f(`;\n    let rhs = `mat${t.params.r}x${t.params.c}f(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        if (i === 0) {\n          lhs += `${kValue.f32.positive.max},`;\n          rhs += `${t.params.rhs},`;\n        } else {\n          lhs += `0,`;\n          rhs += `0,`;\n        }\n      }\n    }\n    rhs += ')';\n    lhs += ')';\n\n    const code = `\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.rhs === 1, code);\n  });\n\ng.test('overflow_mat_f32_internal')\n  .desc(\n    `Validates that f32 matrix multiplication overflows in shader creation. Overflows when summing the values`\n  )\n  .params(u =>\n    u\n      .combine('lhs', [kValue.f32.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    let lhs = `mat${t.params.c}x${t.params.r}f(`;\n    let rhs = `mat${t.params.r}x${t.params.c}f(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        lhs += `${t.params.lhs},`;\n        rhs += `1,`;\n      }\n    }\n    rhs += ')';\n    lhs += ')';\n\n    const code = `\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.lhs === 1, code);\n  });\n\ng.test('overflow_scalar_f16')\n  .desc(`Validates that f16 scalar multiplication overflows in shader creation`)\n  .params(u =>\n    u\n      .combine('rhs', [kValue.f16.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    t.skipIfDeviceDoesNotHaveFeature('shader-f16');\n    let lhs = `mat${t.params.c}x${t.params.r}h(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        if (i === 0) {\n          lhs += `${kValue.f16.positive.max},`;\n        } else {\n          lhs += `0,`;\n        }\n      }\n    }\n    lhs += ')';\n    const rhs = t.params.rhs;\n\n    const code = `\nenable f16;\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.rhs === 1, code);\n  });\n\ng.test('overflow_vec_f16')\n  .desc(\n    `Validates that f16 vector multiplication overflows in shader creation. Overflow occurs when multiplying.`\n  )\n  .params(u =>\n    u\n      .combine('rhs', [kValue.f16.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    t.skipIfDeviceDoesNotHaveFeature('shader-f16');\n    let lhs = `mat${t.params.c}x${t.params.r}h(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        lhs += `${kValue.f16.positive.max},`;\n      }\n    }\n    lhs += ')';\n    const rhs = `vec${t.params.c}h(${t.params.rhs}/${t.params.c})`;\n\n    const code = `\nenable f16;\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.rhs !== kValue.f16.positive.max, code);\n  });\n\ng.test('overflow_vec_f16_internal')\n  .desc(\n    `Validates that f16 vector multiplication overflows in shader creation. Overflow occurs when summing`\n  )\n  .params(u =>\n    u\n      .combine('lhs', [kValue.f16.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    t.skipIfDeviceDoesNotHaveFeature('shader-f16');\n    let lhs = `mat${t.params.c}x${t.params.r}h(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        lhs += `${t.params.lhs},`;\n      }\n    }\n    lhs += ')';\n    const rhs = `vec${t.params.c}h(1)`;\n\n    const code = `\nenable f16;\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.lhs === 1, code);\n  });\n\ng.test('overflow_mat_f16')\n  .desc(\n    `Validates that f16 matrix multiplication overflows in shader creation. Overflow occurs when multiplying`\n  )\n  .params(u =>\n    u\n      .combine('rhs', [kValue.f16.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    t.skipIfDeviceDoesNotHaveFeature('shader-f16');\n    let lhs = `mat${t.params.c}x${t.params.r}h(`;\n    let rhs = `mat${t.params.r}x${t.params.c}h(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        if (i === 0) {\n          lhs += `${kValue.f16.positive.max},`;\n          rhs += `${t.params.rhs},`;\n        } else {\n          lhs += `0,`;\n          rhs += `0,`;\n        }\n      }\n    }\n    rhs += ')';\n    lhs += ')';\n\n    const code = `\nenable f16;\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.rhs === 1, code);\n  });\n\ng.test('overflow_mat_f16_internal')\n  .desc(\n    `Validates that f16 matrix multiplication overflows in shader creation. Overflow occurs when summing`\n  )\n  .params(u =>\n    u\n      .combine('lhs', [kValue.f16.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    t.skipIfDeviceDoesNotHaveFeature('shader-f16');\n    let lhs = `mat${t.params.c}x${t.params.r}h(`;\n    let rhs = `mat${t.params.r}x${t.params.c}h(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        lhs += `${t.params.lhs},`;\n        rhs += `1,`;\n      }\n    }\n    rhs += ')';\n    lhs += ')';\n\n    const code = `\nenable f16;\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.lhs === 1, code);\n  });\n\ng.test('overflow_scalar_abstract')\n  .desc(`Validates that abstract scalar multiplication overflows in shader creation`)\n  .params(u =>\n    u\n      .combine('rhs', [kValue.f64.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    let lhs = `mat${t.params.c}x${t.params.r}(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        lhs += `${kValue.f64.positive.max},`;\n      }\n    }\n    lhs += ')';\n    const rhs = t.params.rhs;\n\n    const code = `\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.rhs === 1, code);\n  });\n\ng.test('overflow_vec_abstract')\n  .desc(\n    `Validates that abstract vector multiplication overflows in shader creation. Overflow occurs when multiplying.`\n  )\n  .params(u =>\n    u\n      .combine('rhs', [kValue.f64.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    let lhs = `mat${t.params.c}x${t.params.r}(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        if (i === 0) {\n          lhs += `${kValue.f64.positive.max},`;\n        } else {\n          lhs += `0,`;\n        }\n      }\n    }\n    lhs += ')';\n    const rhs = `vec${t.params.c}(${t.params.rhs})`;\n\n    const code = `\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.rhs === 1, code);\n  });\n\ng.test('overflow_vec_abstract_internal')\n  .desc(\n    `Validates that abstract vector multiplication overflows in shader creation. Overflow occurs when summing.`\n  )\n  .params(u =>\n    u\n      .combine('lhs', [kValue.f64.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    let lhs = `mat${t.params.c}x${t.params.r}(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        lhs += `${t.params.lhs},`;\n      }\n    }\n    lhs += ')';\n    const rhs = `vec${t.params.c}(1)`;\n\n    const code = `\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.lhs === 1, code);\n  });\n\ng.test('overflow_mat_abstract')\n  .desc(\n    `Validates that abstract matrix multiplication overflows in shader creation. Overflow occurs when multiplying.`\n  )\n  .params(u =>\n    u\n      .combine('rhs', [kValue.f64.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    let lhs = `mat${t.params.c}x${t.params.r}(`;\n    let rhs = `mat${t.params.r}x${t.params.c}(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        if (i === 0) {\n          lhs += `${kValue.f64.positive.max},`;\n          rhs += `${t.params.rhs},`;\n        } else {\n          lhs += `0,`;\n          rhs += `0,`;\n        }\n      }\n    }\n    rhs += ')';\n    lhs += ')';\n\n    const code = `\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.rhs === 1, code);\n  });\n\ng.test('overflow_mat_abstract_internal')\n  .desc(\n    `Validates that abstract matrix multiplication overflows in shader creation. Overflow occurs when summing.`\n  )\n  .params(u =>\n    u\n      .combine('lhs', [kValue.f64.positive.max, 1])\n      .combine('c', [2, 3, 4] as const)\n      .combine('r', [2, 3, 4] as const)\n  )\n  .fn(t => {\n    let lhs = `mat${t.params.c}x${t.params.r}(`;\n    let rhs = `mat${t.params.r}x${t.params.c}(`;\n    for (let i = 0; i < t.params.c; i++) {\n      for (let k = 0; k < t.params.r; k++) {\n        lhs += `${t.params.lhs},`;\n        rhs += `1,`;\n      }\n    }\n    rhs += ')';\n    lhs += ')';\n\n    const code = `\n@compute @workgroup_size(1)\nfn main() {\n  const foo = ${lhs} * ${rhs};\n}\n`;\n\n    t.expectCompileResult(t.params.lhs === 1, code);\n  });\n"],"mappings":"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"}