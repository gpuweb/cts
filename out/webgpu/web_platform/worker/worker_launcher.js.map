{"version":3,"file":"worker_launcher.js","names":["launchWorker","selfPath","import","meta","url","selfPathDir","substring","lastIndexOf","workerPath","worker","Worker","type","promise","Promise","resolve","addEventListener","ev","data","once","postMessage"],"sources":["../../../../src/webgpu/web_platform/worker/worker_launcher.ts"],"sourcesContent":["export type TestResult = {\n  error: String | undefined;\n};\n\nexport async function launchWorker() {\n  const selfPath = import.meta.url;\n  const selfPathDir = selfPath.substring(0, selfPath.lastIndexOf('/'));\n  const workerPath = selfPathDir + '/worker.js';\n  const worker = new Worker(workerPath, { type: 'module' });\n\n  const promise = new Promise<TestResult>(resolve => {\n    worker.addEventListener('message', ev => resolve(ev.data as TestResult), { once: true });\n  });\n  worker.postMessage({});\n  return await promise;\n}\n"],"mappings":";AAAA;AAAA;;AAIA,OAAO,eAAeA,YAAY,GAAG;EACnC,MAAMC,QAAQ,GAAGC,MAAM,CAACC,IAAI,CAACC,GAAG;EAChC,MAAMC,WAAW,GAAGJ,QAAQ,CAACK,SAAS,CAAC,CAAC,EAAEL,QAAQ,CAACM,WAAW,CAAC,GAAG,CAAC,CAAC;EACpE,MAAMC,UAAU,GAAGH,WAAW,GAAG,YAAY;EAC7C,MAAMI,MAAM,GAAG,IAAIC,MAAM,CAACF,UAAU,EAAE,EAAEG,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC;;EAEzD,MAAMC,OAAO,GAAG,IAAIC,OAAO,CAAa,CAAAC,OAAO,KAAI;IACjDL,MAAM,CAACM,gBAAgB,CAAC,SAAS,EAAE,CAAAC,EAAE,KAAIF,OAAO,CAACE,EAAE,CAACC,IAAI,CAAe,EAAE,EAAEC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;EAC1F,CAAC,CAAC;EACFT,MAAM,CAACU,WAAW,CAAC,CAAC,CAAC,CAAC;EACtB,OAAO,MAAMP,OAAO;AACtB"}