{"version":3,"file":"flags.spec.js","names":["description","makeTestGroup","IDLTest","g","kBufferUsageExp","MAP_READ","MAP_WRITE","COPY_SRC","COPY_DST","INDEX","VERTEX","UNIFORM","STORAGE","INDIRECT","QUERY_RESOLVE","test","fn","t","assertMemberCount","GPUBufferUsage","params","u","combine","Object","keys","key","assertMember","kTextureUsageExp","TEXTURE_BINDING","STORAGE_BINDING","RENDER_ATTACHMENT","TRANSIENT_ATTACHMENT","GPUTextureUsage","skipIf","kColorWriteExp","RED","GREEN","BLUE","ALPHA","ALL","GPUColorWrite","kShaderStageExp","FRAGMENT","COMPUTE","GPUShaderStage"],"sources":["../../../../src/webgpu/idl/constants/flags.spec.ts"],"sourcesContent":["export const description = `\nTest the values of flags interfaces (e.g. GPUTextureUsage).\n`;\n\nimport { makeTestGroup } from '../../../common/framework/test_group.js';\nimport { IDLTest } from '../idl_test.js';\n\nexport const g = makeTestGroup(IDLTest);\n\nconst kBufferUsageExp = {\n  MAP_READ: 0x0001,\n  MAP_WRITE: 0x0002,\n  COPY_SRC: 0x0004,\n  COPY_DST: 0x0008,\n  INDEX: 0x0010,\n  VERTEX: 0x0020,\n  UNIFORM: 0x0040,\n  STORAGE: 0x0080,\n  INDIRECT: 0x0100,\n  QUERY_RESOLVE: 0x0200,\n};\ng.test('BufferUsage,count').fn(t => {\n  t.assertMemberCount(GPUBufferUsage, kBufferUsageExp);\n});\ng.test('BufferUsage,values')\n  .params(u => u.combine('key', Object.keys(kBufferUsageExp)))\n  .fn(t => {\n    const { key } = t.params;\n    t.assertMember(GPUBufferUsage, kBufferUsageExp, key);\n  });\n\nconst kTextureUsageExp: {\n  COPY_SRC: number;\n  COPY_DST: number;\n  TEXTURE_BINDING: number;\n  STORAGE_BINDING: number;\n  RENDER_ATTACHMENT: number;\n  // MAINTENANCE_TODO(#4509): Remove explicit type annotation when TRANSIENT_ATTACHMENT is added to the WebGPU spec.\n  TRANSIENT_ATTACHMENT?: number;\n} = {\n  COPY_SRC: 0x01,\n  COPY_DST: 0x02,\n  TEXTURE_BINDING: 0x04,\n  STORAGE_BINDING: 0x08,\n  RENDER_ATTACHMENT: 0x10,\n  TRANSIENT_ATTACHMENT: 0x20,\n};\ng.test('TextureUsage,count').fn(t => {\n  // MAINTENANCE_TODO(#4509): Remove this when TRANSIENT_ATTACHMENT is added to the WebGPU spec.\n  if (!('TRANSIENT_ATTACHMENT' in GPUTextureUsage)) {\n    delete kTextureUsageExp.TRANSIENT_ATTACHMENT;\n  }\n  t.assertMemberCount(GPUTextureUsage, kTextureUsageExp);\n});\ng.test('TextureUsage,values')\n  .params(u => u.combine('key', Object.keys(kTextureUsageExp)))\n  .fn(t => {\n    const { key } = t.params;\n\n    // MAINTENANCE_TODO(#4509): Remove this when TRANSIENT_ATTACHMENT is added to the WebGPU spec.\n    t.skipIf(key === 'TRANSIENT_ATTACHMENT' && !('TRANSIENT_ATTACHMENT' in GPUTextureUsage));\n\n    t.assertMember(GPUTextureUsage, kTextureUsageExp, key);\n  });\n\nconst kColorWriteExp = {\n  RED: 0x1,\n  GREEN: 0x2,\n  BLUE: 0x4,\n  ALPHA: 0x8,\n  ALL: 0xf,\n};\ng.test('ColorWrite,count').fn(t => {\n  t.assertMemberCount(GPUColorWrite, kColorWriteExp);\n});\ng.test('ColorWrite,values')\n  .params(u => u.combine('key', Object.keys(kColorWriteExp)))\n  .fn(t => {\n    const { key } = t.params;\n    t.assertMember(GPUColorWrite, kColorWriteExp, key);\n  });\n\nconst kShaderStageExp = {\n  VERTEX: 0x1,\n  FRAGMENT: 0x2,\n  COMPUTE: 0x4,\n};\ng.test('ShaderStage,count').fn(t => {\n  t.assertMemberCount(GPUShaderStage, kShaderStageExp);\n});\ng.test('ShaderStage,values')\n  .params(u => u.combine('key', Object.keys(kShaderStageExp)))\n  .fn(t => {\n    const { key } = t.params;\n    t.assertMember(GPUShaderStage, kShaderStageExp, key);\n  });\n"],"mappings":"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"}