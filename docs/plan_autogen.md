# Auto generated test plans

The [test plans](./intro/plans.md) in [src/webgpu/shader/](../src/webgpu/shader), with a `unique-id`, are auto-generated by this [tool]( https://dawn.googlesource.com/tint/+/refs/heads/main/tools/src/cmd/get-test-plan/main.go). A typical auto-generated WGSL test plan:

```
g.test(<name>)
  .uniqueId(<unique-id>)
  .desc(
    <url>
    <description>
  )
  .params(u => u.combine('placeHolder1', ['placeHolder2', 'placeHolder3']))
  .unimplemented();
```

- `name`: An arbitrary name.
- `url`: The URL of the section this rule is extracted from, ie. `https://www.w3.org/TR/<version>/#<section-name>`. `section-name` is the section of the WGSL spec this rule is generated from.
- `description`: The portion of WGSL spec text this rule is generated from.
- `unique-id`: A token used for tracking and updating the auto generated test plans. `unique-id = sha1(<section-name> + <description>)`.

# How to contribute

To implement an auto-generated test plan:
1. Choose an auto-generated test plan that is not currently under development, by looking up the `unique-id` in [this list](tbd).
2. Create an issue using this [template](tbd). Make sure to include the `unique-id`.
3. Implement the test plan. You may change `name` and `description`, however make sure to keep the `unique-id` as is.
4. Add a comment to the issue (created in step 2) with a link to your merged pull request.

# Useful helpers

Take advantage of the [helpers](./helper_index.txt), specially:
- [Helpers for WGSL data types](../src/webgpu/shader/types.ts).
- [Helpers for WGSL builtin function execution tests](../src/webgpu/shader/execution/builtin/builtin.ts).
- [Base fixture for WebGPU validation tests](../src/webgpu/shader/validation/shader_validation_test.ts).

# Example

- Builtin-function execution test example: [abs.spec.ts](../src/webgpu/shader/execution/builtin/abs.spec.ts).